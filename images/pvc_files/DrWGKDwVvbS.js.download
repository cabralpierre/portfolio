if (self.CavalryLogger) { CavalryLogger.start_js(["SDMi6"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function a(b,c,d,e,f,g){f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}}}),null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",icon_src:"icon_src",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}}}),null);
__d("TaggingLimits",[],(function a(b,c,d,e,f,g){f.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1}}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function a(b,c,d,e,f,g){"use strict";var h=c("KeyBindingUtil").hasCommandModifier;function i(j){if(j.keyCode===75&&h(j))return c("CampfireCommands").TOGGLE_LINK;if(j.keyCode===83&&h(j))return c("CampfireCommands").SAVE_DRAFT;return c("getDefaultKeyBinding")(j)}f.exports=i}),null);
__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m-1],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<m&&q[r].offset+q[r].length>=m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionBackward")(l,p||1)},"backward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"backspace-character":"remove-range")};f.exports=h}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){__p&&__p();var j=c("removeTextWithStrategy")(i,function(l){__p&&__p();var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<=m&&q[r].offset+q[r].length>m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionForward")(l,p||1)},"forward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"delete-character":"remove-range")};f.exports=h}),null);
__d("addEmojiInput",["EditorState","EmojiInputDecorator","EmojiSpan.react","React","keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function(i){__p&&__p();return function(){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$_class1=function(r,s){__p&&__p();var t=null;switch(r){case"backspace":t=c("keyCommandBackspaceEmoji")(s);break;case"delete":t=c("keyCommandDeleteEmoji")(s);break}if(t){this.props.onChange(t);return"handled"}return"not-handled"}.bind(this),n}l.prototype.blur=function(){"use strict";var m=this.refs.component;m&&typeof m.blur==="function"&&m.blur()};l.prototype.click=function(){"use strict";var m=this.refs.component;m&&typeof m.click==="function"&&m.click()};l.prototype.focus=function(){"use strict";var m=this.refs.component;m&&typeof m.focus==="function"&&m.focus()};l.prototype.render=function(){"use strict";var m=this.props.editorState,n=m.getDecorator();if(!(n instanceof c("EmojiInputDecorator")))m=c("EditorState").set(this.props.editorState,{decorator:new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),n,{size:16})});return c("React").createElement(i,babelHelpers["extends"]({},this.props,{editorState:m,handleKeyCommand:this.$_class1,ref:"component"}))};return l}()}.bind(this);f.exports=h}),null);
__d("addEmojiToEditorState",["DraftModifier","EditorState","EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2];if(typeof i!=="string")i=c("EmojiFormat").codeArrayToUnicode(i);var l=c("DraftModifier").replaceText(j.getCurrentContent(),j.getSelection(),i),m=c("EditorState").push(j,l,"insert-characters");if(m!==j)k(m);return m}f.exports=h}),null);
__d("MemePickerDialogTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MemePickerDialogLoggerConfig",this.$MemePickerDialogTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MemePickerDialogLoggerConfig",this.$MemePickerDialogTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MemePickerDialogTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MemePickerDialogTypedLogger1=babelHelpers["extends"]({},this.$MemePickerDialogTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$MemePickerDialogTypedLogger1.event=j;return this};h.prototype.setMeme=function(j){this.$MemePickerDialogTypedLogger1.meme=j;return this};h.prototype.setVC=function(j){this.$MemePickerDialogTypedLogger1.vc=j;return this};var i={event:true,meme:true,vc:true};f.exports=h}),null);
__d("ComposerMemePickerDialogEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MEME_PROMPT_CLICKED:"meme_prompt_clicked",MEME_PICKER_OPENED:"meme_picker_opened",MEME_SELECTED:"meme_selected",MEME_POSTED:"meme_posted"})}),null);
__d("MemePickerLogger",["ComposerMemePickerDialogEvent","FunnelLogger","MemePickerDialogTypedLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h="WWW_MEME_PICKER_DIALOG_FUNNEL",i=false,j={_log:function k(l,m){new(c("MemePickerDialogTypedLogger"))().setEvent(l).setMeme(m).log();if(!i){i=true;c("FunnelLogger").startFunnel(h)}c("FunnelLogger").appendAction(h,l)},logMemePromptClicked:function k(){this._log(c("ComposerMemePickerDialogEvent").MEME_PROMPT_CLICKED)},logMemePickerOpened:function k(){this._log(c("ComposerMemePickerDialogEvent").MEME_PICKER_OPENED)},logMemeSelected:function k(l){this._log(c("ComposerMemePickerDialogEvent").MEME_SELECTED,l)},logMemePosted:function k(l){this._log(c("ComposerMemePickerDialogEvent").MEME_POSTED,l)}};f.exports=j}),null);
__d("ReactComposerAttachmentPreviewErrorBoundary.react",["JSLog","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state={hasError:false}}j.prototype.componentDidCatch=function(k,l){this.setState({hasError:true});c("JSLog").error("Cannot render the attachment preview. Error: %s. Info: %s",k,l)};j.prototype.render=function(){if(this.state.hasError)return null;return this.props.children};f.exports=j}),null);
__d("ReactComposerScrapedAttachmentPhotoDropWarningDialog.react",["fbt","LayerHideOnEscape","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog2=function(){this.props.onCancel&&this.props.onCancel()}.bind(this),n}l.prototype.componentDidMount=function(){this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.subscribe("hide",this.$ReactComposerScrapedAttachmentPhotoDropWarningDialog1)};l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{ref:"dialog",shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c("LayerHideOnEscape")},key:"dialog"},c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,h._("Remove Link Preview"))),c("React").createElement(c("XUIDialogBody.react"),null,h._("Uploading a photo will remove the link preview. Do you want to continue?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onConfirm,label:h._("Upload Photo")}),c("React").createElement(c("XUIButton.react"),{onClick:this.props.onCancel,label:h._("Cancel")})))};l.propTypes={shown:k.bool,onConfirm:k.func,onCancel:k.func};f.exports=l}),null);
__d("ReactComposerDragDropPromptContainer.react",["React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerDragDropPromptLazy.react","ReactComposerFileStore","ReactComposerFileUtils","ReactComposerLoggingName","ReactComposerPhotoUploader","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentPhotoDropWarningDialog.react","ReactComposerScrapedAttachmentStore","ReactComposerStatusUtils","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","FluxContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ReactComposerWorkFileStore").module;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={photoDropWarningShown:false,pendingFiles:null},this.$ReactComposerDragDropPromptContainer4=function(q){var r=this.context.composerID,s=c("ReactComposerFileUtils").selectFileOrWorkFileModule(c("ReactComposerFileStore"),j).getMaxFileUploadSize(r);if(c("ReactComposerFileUtils").hasExceededFileSize(q[0],s))return;c("ReactComposerStatusUtils").loadDroppedFile(r,q[0])}.bind(this),this.$ReactComposerDragDropPromptContainer5=function(q){if(c("ReactComposerScrapedAttachmentStore").hasAttachment(this.context.composerID)&&this.state.pendingFiles==null){this.setState({photoDropWarningShown:true,pendingFiles:q});return}if(!this.$ReactComposerDragDropPromptContainer1)return;c("ReactComposerStatusUtils").uploadDroppedMedia(this.context.composerID,q,this.$ReactComposerDragDropPromptContainer1,this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],this.context)}.bind(this),this.$ReactComposerDragDropPromptContainer2=function(){this.setState({photoDropWarningShown:false,pendingFiles:null})}.bind(this),this.$ReactComposerDragDropPromptContainer3=function(){var q=this.state.pendingFiles;this.setState({photoDropWarningShown:false,pendingFiles:null});if(q)this.$ReactComposerDragDropPromptContainer5(q)}.bind(this),this.$ReactComposerDragDropPromptContainer6=function(q){c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,q,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").LINK_DROPPED)}.bind(this),m}k.getStores=function(){"use strict";return[c("ReactComposerVideoUploadStore")]};k.calculateState=function(l,m,n){"use strict";var o=n.composerID;return{pendingFiles:l&&l.pendingFiles,photoDropWarningShown:!!(l&&l.photoDropWarningShown),enabled:!c("ReactComposerVideoUploadStore").getVideo(o)}};k.prototype.componentWillMount=function(){"use strict";var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ReactComposerDragDropPromptContainer1=new(c("ReactComposerPhotoUploader"))(this.context,m.photoLimit,{disableFaceRecognition:m.disableFaceboxTagger});c("ReactComposerScrapedAttachmentActions").enabled(this.context.composerID,l.canScrapeShare)};k.prototype.renderLayers=function(){"use strict";return c("React").createElement(c("ReactComposerScrapedAttachmentPhotoDropWarningDialog.react"),{shown:this.state.photoDropWarningShown,onCancel:this.$ReactComposerDragDropPromptContainer2,onConfirm:this.$ReactComposerDragDropPromptContainer3,key:"photoDropWarningDialog"})};k.prototype.render=function(){"use strict";if(!this.state.enabled)return c("React").createElement("span",null,this.renderLayers());return c("React").createElement("span",null,c("React").createElement(c("ReactComposerDragDropPromptLazy.react"),{root:this.props.root,onFilesDrop:this.$ReactComposerDragDropPromptContainer4,onMediaDrop:this.$ReactComposerDragDropPromptContainer5,onURLDrop:this.$ReactComposerDragDropPromptContainer6}),this.renderLayers())};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withProps:true,withContext:true})}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false,sourceAttachment:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){"use strict";return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","locationID","targetID"]),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",m).setString("location_id",n).setString("target_id",o).getURI();p.pendingRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","objectID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m);this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1],o=this.getComposerData(m);if(n===c("ReactComposerAttachmentType").STATUS||k.proxiedAttachmentID===o.sourceAttachment||o.sourceAttachment===null)return;o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLocationAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMinutiaeAttachmentStore");h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,actorID:m,isTimeline:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setExplicitLocation=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHideAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerConstants","ReactComposerContextTypes","ReactComposerEvents","ReactComposerEventAttachmentStore","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerActions","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("ReactComposerWorkFileStore").module,l=c("React").PropTypes,m=[c("ReactComposerEventAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerLocationAttachmentStore"),c("ReactComposerTaggerStore")];if(k)m.push(k);var n=c("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:undefined,_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element,isAttachmentBreaking:l.bool},statics:{calculateState:function o(p,q){__p&&__p();var r,s=c("ReactComposerScrapedAttachmentStore").getMarkup(p),t=c("ReactComposerScrapedAttachmentStore").isReadOnly(p),u=c("ReactComposerMinutiaeAttachmentStore").getMarkup(p),v=c("ReactComposerLocationAttachmentStore").getMarkup(p),w=c("ReactComposerEventAttachmentStore").getMarkup(p),x=c("ReactComposerScrapedAttachmentStore").isScraping(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerLocationAttachmentStore").isFetching(p)||c("ReactComposerEventAttachmentStore").isFetching(p),y=null;if(k)(function(){var C=c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(p),D=k.getSelectedAppsFiles(p).find(function(E){return E.url===C});y=D?D.name:null})();var z=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUN_FACT),A=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUNDRAISER);if(z||A){u=null;v=null;w=null;x=c("ReactComposerScrapedAttachmentStore").isScraping(p)}var B=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").BREAKING_NEWS);return{isAttachmentBreaking:B,markup:s||u||w||v,showSpinner:x,showRemoveButton:s&&t,title:y}}},componentDidMount:function o(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){this._maybeRemoveBreakingFromPreview();this._maybeAddBreakingToPreview();var p=this.state.markup&&!this.state.showSpinner?c("React").createElement("div",{className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{isAttachmentBreaking:this.state.isAttachmentBreaking,ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return c("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),p)},_handlePrefill:function o(){__p&&__p();var p=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup)c("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig);else if(p.minutiaeAttachment.markup)c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,p.minutiaeAttachment.markup)}else if(p.scrapedURL)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c("React").createElement("div",{className:"_2anf"},c("React").createElement(c("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c("React").createElement("span",{className:"_239x"},this.state.title):null;return c("React").createElement("div",{className:"_239z"},this.props.spinner,c("React").createElement("div",{className:"_3-8y"},p,j._("Fetching preview")))},_setButtonEvent:function o(){__p&&__p();if(this.refs.attachment){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c("Event").listen(p,"click",function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function o(){c("ReactComposerScrapedAttachmentActions").setScrapedAttachment(this.context.composerID,null,{},c("ReactComposerLoggingName").LINK_REMOVE_BUTTON);c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);c("ifRequired")("ReactComposerEventAttachmentActions",function(p){return p.setMarkup(this.context.composerID,null,null)}.bind(this));c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").LINK_REMOVE_BUTTON,c("ReactComposerTaggerType").GIF,{gifData:null});c("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,true)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove()},_maybeAddBreakingToPreview:function o(){__p&&__p();if(!this.state.markup||!this.context.gks[c("ReactComposerConstants").GK_PAGE_BREAKING_COMPOSER])return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(t){return t.getContentNode(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(t){return t.getDetailsFooterBrandName(p)},function(){return null});if(this.state.isAttachmentBreaking){var s=document.createElement("img");s.setAttribute("class","_649n");s.setAttribute("src","/images/icons/breaking_now-2x.png");if(q&&r){q.classList.add("_649o");r.classList.add("_649p");r.insertBefore(s,r.firstChild)}}},_maybeRemoveBreakingFromPreview:function o(){__p&&__p();if(!this.state.markup)return;var p=this.getHTMLRootNode();if(p===null)return;var q=c("ifRequired")("LitestandShareAttachment",function(s){return s.getDetailsFooterBrandName(p)},function(){return null}),r=c("ifRequired")("LitestandShareAttachment",function(s){return s.getBreakingNewsIcon(p)},function(){return null});if(q&&q.hasChildNodes&&q.hasChildNodes()&&r)q.removeChild(r)},getHTMLRootNode:function o(){if(!this.state.markup)return null;var p=null;if(typeof this.state.markup.getRootNode==="function")p=this.state.markup.getRootNode();return p}});f.exports=n}),null);
__d("ReactComposerSessionMetricsActions",["ReactComposerDispatcher","ReactComposerSessionMetricsActionTypes","ReactComposerSessionMetricsStore"],(function a(b,c,d,e,f,g){c("ReactComposerSessionMetricsStore");var h={keystroke:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSessionMetricsActionTypes").KEYSTROKE})},paste:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSessionMetricsActionTypes").PASTE})}};f.exports=h}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","ComposerEntryPointRef","Map","PageTransitions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI","idx"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={customChecks:new(c("Map"))(),handler:function j(k,l){__p&&__p();var m=c("URI").getMostRecentURI(),n=c("URI").getNextURI(),o=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&l.toString()===n.toString(),p=l.toString()===m.toString()&&!Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater"),q=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&m.toString()!==n.toString();if(p||o||q)c("Run").onAfterLoad(function(){return c("Run").onBeforeUnload(function(){return i.handler(k,l)})});if(p||o||q||c("ReactComposerStore").hasPostSucceeded(k)||c("ReactComposerStore").isPublishing(k))return null;var r=i.hasUnsavedChanges(k);if(r&&!(b.Dialog&&b.Dialog.getCurrent())){c("ReactComposerLoggingActions").composerNavigateAwayAttempt(k);return i.getUnsavedChangesMessage(k)}else return null},addCustomCheck:function j(k,l){var m=[];if(i.customChecks.has(k))m=i.customChecks.get(k);if(m){m.push(l);i.customChecks.set(k,m)}},hasUnsavedChanges:function j(k){__p&&__p();var l;if(!c("ReactComposerInit").isInstanceMounted(k))return false;if(((l=c("ReactComposerInit").instances.get(k))!=null?(l=l.props)!=null?(l=l.contextConfig)!=null?l.composerType:l:l:l)===c("ComposerEntryPointRef").FEED_SPROUTS_DIALOG)return false;var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").LIVE_BROADCAST),o=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").VISUAL_POLL),p=c("ReactComposerStatusStore").getTextLength(k)>0,q=m&&(c("ReactComposerMediaUploadStore").isUploading(k)||c("ReactComposerPhotoStore").isRecognizing(k)||c("ReactComposerPhotoStore").getPhotos(k).size>0),r=m&&(c("ReactComposerVideoUploadStore").getUploader(k)||c("ReactComposerVideoUploadStore").getVideo(k)),s=!c("ReactComposerTaggerStore").areAllTaggersEmpty(k),t=c("ReactComposerScrapedAttachmentStore").hasAttachment(k),u=i.customChecks.get(k),v=false;if(u)for(var w=u,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z;v=v||A()}var B=p||q||r||s||t||n||o||v;return!!B},getUnsavedChangesMessage:function j(k){if(c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(k))return h._("Your post is still uploading. Do you want to leave without finishing the upload?");var l=c("ReactComposerStore").getRef(k);switch(l){case c("ComposerEntryPointRef").EDIT_DIALOG:return h._("Are you sure you want to discard your changes?");default:return h._("You haven't finished your post yet. Do you want to leave without finishing?")}}};f.exports=i}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","addEmojiInput","Arbiter","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("addEmojiInput")(c("MentionsInput.react")),k=c("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{config:c("ReactComposerConfig"),mentionsSource:i.object,preventFocus:i.bool,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func},componentWillUnmount:function l(){this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},componentWillMount:function l(){var m=new(c("SubscriptionsHandler"))();if(!this.props.preventFocus)m.addSubscriptions(c("Arbiter").subscribe([c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus()}.bind(this)));this._subscriptions=m},componentDidCatch:function l(m,n){},render:function l(){var m=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c("ReactComposerTaggerType").PEOPLE],n=m&&m.typeaheadView?m.typeaheadView:c("XUITypeaheadView.react"),o=m&&m.typeaheadViewProps?m.typeaheadViewProps:{},p=Object.assign({},{ariaMultiline:true,role:"textbox",typeaheadView:n,typeaheadViewProps:o,selectOnTab:false,spellCheck:true},this.props,{className:c("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return c("React").createElement(j,babelHelpers["extends"]({ref:"mentionsInput"},p,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function l(){if(!c("ReactComposerInit").isInstanceMounted(this.context.composerID))c("Arbiter").subscribeOnce([c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this));else this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function l(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function l(m,n,o){var p=this.props.typeaheadReporter;if(p){p.reportSelect(m.getUniqueID(),m.getType(),n,o.button>=0);p.sessionEnd();p.sessionStart()}if(m.getType()==="event")c("ifRequired")("ReactComposerEventAttachmentActions",function(q){return q.fetchEventAttachment(this.context.composerID,m.getUniqueID())}.bind(this))},_onShowMentions:function l(m,n){var o=this.props.typeaheadReporter;if(o)o.reportResults(m.map(function(p){return p.getUniqueID()}))},_onFocus:function l(){var m=this.props.typeaheadReporter;if(m)m.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function l(m){this.props.onChange&&this.props.onChange(m)},_onBlur:function l(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.props.editorState)}});f.exports=k}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cx","EmojiInputButton.react","Keys","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerStickerContainer").ReactComposerStickerComponent;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$ReactComposerStatusAttachmentMentionsInputVariant1=function(n){var o=/^image\//;n=n.filter(function(p){return o.test(p.type)});if(n.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(n);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant2=function(event,n){var o=c("UserAgent_DEPRECATED").osx()?event.metaKey:event.ctrlKey;if(event.keyCode===c("Keys").RETURN&&o){this.blur();setTimeout(this.props.onPostIntent,0);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant3=function(){c("ReactComposerActions").expandSprouts(this.props.compositionID)}.bind(this)}l.prototype.render=function(){__p&&__p();var m=this.props.config&&this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],n=null;if(this.props.useRichTextEditor){var o=m.richTextEditor;n=c("React").createElement(o,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_3w8y _21mu"),canAttachVideo:false,canAttachPhoto:false,canAttachEmbed:false,onSave:c("emptyFunction"),spellCheck:true,autoCorrect:false,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2,keyBindingFn:c("getCampfireKeyBinding"),ref:"mentionsInput"}))}else n=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(m&&m.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _17nh":"")+(m&&m.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2}));var p="_3nc-",q="_3nc_",r="_5zq9",s=c("React").createElement(c("EmojiInputButton.react"),{buttonClassName:p,iconActiveClassName:r,iconClassName:q,onSelect:this.props.onInsertEmoji,onClick:this.$ReactComposerStatusAttachmentMentionsInputVariant3}),t=null;if(k)t=c("React").createElement(k,{sticker:this.props.sticker,composerID:this.props.compositionID});return c("React").createElement("div",{className:"_3nd0"},t,n,s)};l.prototype.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};l.prototype.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};f.exports=l}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["Arbiter","EditorState","LitestandStoryInsertionStatus","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","getReactComposerEmojiInputDecorator","ReactComposerEvents","ReactComposerOptimisticPostingActions","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","TextDelightEvents","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=function i(k,l){var m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(k);if(m===c("ReactComposerAttachmentType").LIVE_VIDEO||m===c("ReactComposerAttachmentType").SELL)return false;var n=l&&l.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=c("ReactComposerTaggerStore").hasMarkdown(k);return!!(n&&n.richTextEditor&&!o)},j=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],propTypes:{config:c("ReactComposerConfig"),mentionsEnabled:h.bool,mentionsSource:h.object,onChange:h.func,onFocus:h.func,onPasteFiles:h.func,handlePastedText:h.func},getDefaultProps:function k(){return{mentionsEnabled:true}},getInitialState:function k(){return{isFocused:false}},statics:{calculateState:function k(l,m){__p&&__p();var n=c("ReactComposerStatusStore").getEditorState(l),o=m.config&&m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],p=false,q=c("ReactComposerStatusStore").getTextLength(l),r=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),s=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),t=i(l,m.config),u=c("ReactComposerInputDecorator").NONE;if(m.mentionsEnabled)u=o&&o.richTextEditor?c("ReactComposerInputDecorator").RICH_TEXT:c("ReactComposerInputDecorator").MENTIONS;if(o&&o.largeTextThreshold&&c("ReactComposerMediaUploadStore").getUploadsCount(l)===0&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&!c("ReactComposerTaggerStore").hasExplicitLocation(l)&&!c("ReactComposerTaggerStore").hasMarkdown(l)&&c("ReactComposerMinutiaeAttachmentStore").getMarkup(l)===null&&s!==c("ReactComposerAttachmentType").FIND_PLAYERS&&s!==c("ReactComposerAttachmentType").SELL){if(!q&&n){var v=n.getCurrentContent();q=c("UnicodeUtils").strlen(v.getPlainText())}var w=m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText;if(w&&w.length<=o.LargePlaceholderTextThreshold&&q===0&&r||q!==0&&q<=o.largeTextThreshold)p=true;c("ifRequired")("ReactComposerFormattedTextStore",function(z){var A=z.getSelectedIndex(l);if(A>-1){p=true;u=m.mentionsEnabled?c("ReactComposerInputDecorator").MENTIONS:c("ReactComposerInputDecorator").NONE;t=false}})}var x=c("getReactComposerEmojiInputDecorator")(u,p&&!t?28:16),y=void 0;if(n)if(n.getDecorator()!==x){y=c("EditorState").set(n,{decorator:x});c("ReactComposerStatusActions").setEditorState(l,y)}else y=n;else{y=c("EditorState").createEmpty(x);c("ReactComposerStatusActions").setEditorState(l,y)}return{activeEditorState:c("ReactComposerStatusStore").getActiveEditorState(l),editorState:y,isSelectedAttachmentActive:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),mentionsSource:m.mentionsEnabled?c("ReactComposerStatusStore").getMentionsSource(l):null,posting:c("ReactComposerStore").isPosting(l),typeaheadReporter:c("ReactComposerStatusStore").getTypeaheadReporter(l),shouldUseLargeText:p,selectedSticker:c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").STICKER),useRichText:t}}},componentWillMount:function k(){if(this.props.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c("LitestandStoryInsertionStatus").registerBlocker(function(){return c("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(this.context.composerID)||this.state.isFocused}.bind(this))},componentDidMount:function k(){var l=c("ReactComposerStatusStore").getEditorState(this.context.composerID);if(this.state.editorState!==l){this._pendingEditorStateUpdateFromMount=l;this.setState({editorState:l},function(){this._pendingEditorStateUpdateFromMount=undefined}.bind(this))}this._rerenderSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:c("ReactComposerStatusStore").getEditorState(this.context.composerID)})}.bind(this))},componentWillReceiveProps:function k(l){if(this.props.mentionsSource!==l.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);if(l.editorState===null){var m=c("EditorState").createEmpty(c("getReactComposerEmojiInputDecorator")(c("ReactComposerInputDecorator").MENTIONS));c("ReactComposerStatusActions").setEditorState(this.context.composerID,m);this.setState({editorState:m})}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onInsertEmoji:this._onInsertEmoji,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,sticker:this.state.selectedSticker}))},focus:function k(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();if(this._pendingEditorStateUpdateFromMount!==undefined)this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()}.bind(this))},_onFocus:function k(){c("Arbiter").inform(c("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus()},_onChange:function k(l){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==undefined)return;var m=0;if(l){var n=l.getCurrentContent();m=n?c("UnicodeUtils").strlen(n.getPlainText()):0;if(c("ReactComposerStatusStore").getEditorState(this.context.composerID)!==l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);c("ReactComposerStatusActions").setTextLength(this.context.composerID,m);if(n)c("TextDelightEvents").emitScrapablePost(n.getPlainText())}}this._handleMarkdownChange(l);this.props.onChange&&this.props.onChange(l);this.setState({editorState:l})},_onInsertEmoji:function k(l){var m=c("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),n=c("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);c("addEmojiToEditorState")(l,m,n==null?this._onChange:this._onMultilingualEditorChange)},_onMultilingualEditorChange:function k(l){var m=this.context.composerID,n=c("ReactComposerStatusStore").getActiveEditorState(m),o=c("ReactComposerStatusStore").getActiveLanguageDialect(m);if(n!==l)c("ifRequired")("ReactComposerMultilingualStatusActions",function(p){p.setEditorState(m,o,l)})},_handleMarkdownChange:function k(l){var m=this.props.config?this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS]:null;c("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,m?m.markdownPreviewAttachment:null,l)},_onBlur:function k(l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);this.setState({isFocused:false})},_onPostIntent:function k(){if(this.context.gks.optimisticPosting)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else c("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});f.exports=j}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],render:function j(){var k=c("joinClasses")(this.props.className,"_395");return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:k,onChange:this._onChange,ref:"mentionsInput"}))},focus:function j(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},insertEmoji:function j(k){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(k)},_onChange:function j(k){c("ReactComposerStatusActions").setMentions(this.context.composerID,this._getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k)},_getMentionsFromEditorState:function j(k){__p&&__p();var l=k.getCurrentContent(),m={};l.getBlockMap().forEach(function(n){__p&&__p();var o=n.getText();n.findEntityRanges(function(){return true},function(p,q){var r=n.getEntityAt(p);if(!r)return;var s=l.getEntity(r);if(s.getType()!=="MENTION"||s.getData().type!=="user")return;var t=s.getData().id;m[t]={type:"user",uid:t,text:o.slice(p,q),isWeak:s.getData().isWeak}})});return m}});f.exports=i}),null);
__d("BootloadedReactComposerFundraiserTaggerButton.react",["BootloadedComponent.react","ReactComposerTaggerType","JSResource","React","idx"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j;if((j=i)!=null?(j=j.taggersConfig)!=null?(j=j[c("ReactComposerTaggerType").FUNDRAISER])!=null?j.enabled:j:j:j)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerFundraiserTaggerButton.react").__setRef("BootloadedReactComposerFundraiserTaggerButton.react"),bootloadPlaceholder:c("React").createElement("div",null),source:i.source});return null}f.exports=h}),null);
__d("BootloadedReactComposerFundraiserTaggerContainer.react",["BootloadedComponent.react","ReactComposerTaggerType","JSResource","React","idx"],(function a(b,c,d,e,f,g){"use strict";function h(i){var j;if((j=i)!=null?(j=j.taggersConfig)!=null?(j=j[c("ReactComposerTaggerType").FUNDRAISER])!=null?j.enabled:j:j:j)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerFundraiserTaggerContainer.react").__setRef("BootloadedReactComposerFundraiserTaggerContainer.react"),bootloadPlaceholder:c("React").createElement("div",null)});return null}f.exports=h}),null);
__d("PlaceSearchConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_W_MARKETPLACE_SEARCH:"web_marketplace_search",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_SUGGESTED_CHECKIN_PROMPT:"suggested_checkin_prompt",SOURCE_MOBILE_PHOTO:"mobile_photo",SOURCE_CAMERA_MEDIA_EFFECT_UPLOAD:"camera_media_effect_upload",SOURCE_GEO_ADMIN_AREA_MATCHER:"geo_admin_area_matcher",SOURCE_INSTANT_WORKFLOWS:"instant_workflows",SOURCE_JOB_SEARCH:"job_search",SOURCE_INSPIRATIONS:"inspirations",SOURCE_IG_PLACE_TAGGING:"instagram.place_tagging",SOURCE_PAGES_MATCHER:"pages_matcher",SOURCE_HEALTH_BLOOD_DONATION_HOSPITAL:"blood_donation",PREDICTIONS_APPID:106712229428223})}),null);
__d("ReactComposerActivityTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerActivityTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER},getTitle:function k(){return i._("Add what you're doing or how you're feeling")},getTooltip:function k(){return i._("Add what you're doing or how you're feeling")},getClassName:function k(){return"_3tdo"}});f.exports=j}),null);
__d("DummySearchSource",["AbstractSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){"use strict";l([],k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ReactComposerActionTaggerItem.react",["cx","ImageBlock.react","React","TypeaheadViewItem","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerActionTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({customIcon:i.object},c("TypeaheadViewItem").propTypes),render:function k(){var l=this.props.entry,m=l.getAuxiliaryData(),n=c("React").createElement("span",{dangerouslySetInnerHTML:m.icon||this.props.customIcon}),o="_599m _5mne"+(this.props.highlighted?" _599n":"")+" _18d1"+(this.props.highlighted?" _18d2":"");o=c("joinClasses")(o,this.props.className);return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:o,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},n,c("React").createElement("div",{className:"_599p"},l.getTitle())),c("React").createElement("i",{className:"_18d3"}))}});f.exports=j}),null);
__d("ReactComposerActionTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerActionTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerActionTaggerPresenter",["ReactComposerActionTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerActionTaggerView.react"),useLayer:true,maxEntries:20}}),null);
__d("WebAsyncSearchSourceWithMetrics",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","Map","TypeaheadMetricReporter","WebAsyncSearchSourceUtils","uuid"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new(c("AbstractAsyncSearchSource"))(k,this.$WebAsyncSearchSourceWithMetrics4.bind(this),c("WebAsyncSearchSourceUtils").normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new(c("TypeaheadMetricReporter"))(l);this.$WebAsyncSearchSourceWithMetrics3=new(c("Map"))();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener("reset",function(m){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:m.sid})}.bind(this))}j.prototype.bootstrapImpl=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(l){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(l.map(function(m){return m.getType()}));k()}.bind(this))}.bind(this))};j.prototype.searchImpl=function(k,l,m){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(k);if(m)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(m.strategyName);var n=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(k,function(o,k,p){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-n,0);l(o,k,p)}.bind(this),m)};j.prototype.getBootstrappedEntries=function(k){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(k)};j.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap()};j.prototype.getTypeaheadSessionID=function(){"use strict";return this.$WebAsyncSearchSourceWithMetrics2.getSID()};j.prototype.setRequestData=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics1.setRequestData(k)};j.prototype.sessionStart=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionStart()};j.prototype.sessionEnd=function(){"use strict";this.$WebAsyncSearchSourceWithMetrics2.sessionEnd()};j.prototype.reportResults=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportResults(k)};j.prototype.reportSelect=function(k,l,m,n,o,p){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportSelect(k,l,m,n,o,p)};j.prototype.reportRequestID=function(k){"use strict";this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(k))};j.prototype.$WebAsyncSearchSourceWithMetrics5=function(k){"use strict";var l=k;while(l.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(l))return this.$WebAsyncSearchSourceWithMetrics3.get(l);l=l.slice(0,-1)}return this.$WebAsyncSearchSourceWithMetrics3.get("")};j.prototype.$WebAsyncSearchSourceWithMetrics4=function(k,l,m,n){"use strict";var o=k.value||"",p=c("uuid")();new(c("AsyncRequest"))(l.uri).setData(babelHelpers["extends"]({request_id:p},k,l.data)).setMethod("GET").setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(o,p)}.bind(this)).setHandler(m).setErrorHandler(n).send()};f.exports=j}),null);
__d("ReactComposerActionTaggerComponent.react",["cx","fbt","BasicTypeaheadLoggerJSConstants","DummySearchSource","React","ReactComposerActionTaggerPresenter","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";__p&&__p();k.constructor.call(this,o);this.$ReactComposerActionTaggerComponent1=function(p,event){var q={};q[l.SELECTED_ORIGINAL_ID]=p.getAuxiliaryData().original_id;q[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(p.getUniqueID(),p.getType(),p.getOrder(),!!event&&event.button>=0,this.state.query,q);this.props.taggerSource.sessionEnd();this.setState({query:p.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerActionTaggerComponent2=function(){this.setState({query:""});this.props.onSelect&&this.props.onSelect(null)}.bind(this);this.$ReactComposerActionTaggerComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerActionTaggerComponent4=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerActionTaggerComponent5=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerActionTaggerComponent6=function(p,q){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(p.map(function(r){return r.getUniqueID()}))}.bind(this);this.$ReactComposerActionTaggerComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);o.taggerSource.sessionStart();this.state={query:""}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3uco _5esl"},c("React").createElement(c("XUITypeahead.react"),{presenter:this.$ReactComposerActionTaggerComponent8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("Choose a feeling or activity..."),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerActionTaggerComponent1,onClear:this.$ReactComposerActionTaggerComponent2,onChange:this.$ReactComposerActionTaggerComponent3,onBlur:this.$ReactComposerActionTaggerComponent4,onFocus:this.$ReactComposerActionTaggerComponent5,onEntriesFound:this.$ReactComposerActionTaggerComponent6,onNoEntriesFound:this.$ReactComposerActionTaggerComponent7,tallInput:true,autoHighlight:true}))};n.prototype.$ReactComposerActionTaggerComponent8=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerActionTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={autoFocus:m.bool,onSelect:m.func,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerObjectTaggerItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","Locale","React","TypeaheadViewItem","UnicodeBidi","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ReactComposerObjectTaggerItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:c("TypeaheadViewItem").propTypes,render:function j(){var k=this.props.entry,l=k.getSubtitle()?c("React").createElement("div",{className:"_599q"},k.getSubtitle()):null,m=k.getPhoto()?c("React").createElement(c("BackgroundImage.react"),{width:32,height:32,backgroundSize:"cover",src:k.getPhoto()}):c("React").createElement("span",null),n=k.getAuxiliaryData(),o=n&&n.verified?c("React").createElement(c("Badge.react"),null):null,p=n&&n.icon?c("React").createElement("span",{className:"_mbq",dangerouslySetInnerHTML:n.icon}):null,q="_599m"+(!l?" _5mne":"")+(this.props.highlighted?" _599n":"");q=c("joinClasses")(q,this.props.className);var r=c("UnicodeBidi").isDirectionRTL(k.getTitle()),s=c("Locale").isRTL(),t=r&&!s?"rtl":!r&&s?"ltr":null;return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:q,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},m,c("React").createElement("div",null,c("React").createElement("div",{className:"_599p",dir:t},k.getTitle(),o),l),p))}});f.exports=i}),null);
__d("ReactComposerObjectTaggerView.react",["React","ReactComposerActionTaggerItem.react","ReactComposerObjectTaggerItem.react","ReactComposerTaggerViewMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerObjectTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("ReactComposerObjectTaggerItem.react")},getRegexItemImpl:function i(){return c("ReactComposerActionTaggerItem.react")}});f.exports=h}),null);
__d("ReactComposerObjectTaggerPresenter",["ReactComposerObjectTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerObjectTaggerView.react"),useLayer:true,maxEntries:120}}),null);
__d("WebAsyncPlusRegexSearchSource",["invariant","AbstractSearchSource"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("AbstractSearchSource"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this.$WebAsyncPlusRegexSearchSource1=l.asyncSource;this.$WebAsyncPlusRegexSearchSource2=l.regexSource;this.$WebAsyncPlusRegexSearchSource3=!!l.appendRegexEntries;this.$WebAsyncPlusRegexSearchSource4=!!l.preferRegexEntries;!!this.$WebAsyncPlusRegexSearchSource1||h(0);!!this.$WebAsyncPlusRegexSearchSource2||h(0)}k.prototype.bootstrapImpl=function(l){"use strict";this.$WebAsyncPlusRegexSearchSource1.bootstrap(l)};k.prototype.$WebAsyncPlusRegexSearchSource5=function(l,m){"use strict";__p&&__p();var n=[],o=false,p;for(var q=0;q<l.length;q++){p=l[q].getTitle();for(var r=0;r<m.length;r++)if(p===m[r].getTitle()){o=true;break}if(!o)n.push(l[q]);else o=false}return n};k.prototype.searchImpl=function(l,m,n){"use strict";__p&&__p();var o=this.$WebAsyncPlusRegexSearchSource1,p=this.$WebAsyncPlusRegexSearchSource3,q=this.$WebAsyncPlusRegexSearchSource4,r=this.$WebAsyncPlusRegexSearchSource5;this.$WebAsyncPlusRegexSearchSource2.search(l,function(s){__p&&__p();m(s,l);o.search(l,function(t){__p&&__p();var u=[],v=[];if(q){u=s;v=r(t,s)}else{v=t;u=r(s,t)}var w=p?v.concat(u):u.concat(v);m(w,l)},n)},n)};f.exports=k}),null);
__d("ReactComposerObjectTaggerComponent.react",["cx","DummySearchSource","Grid.react","ReactComposerObjectTaggerPresenter","ReactComposerTaggerViewStyles","React","RegexMatchSearchSource","BasicTypeaheadLoggerJSConstants","WebAsyncPlusRegexSearchSource","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("BasicTypeaheadLoggerJSConstants").Fields,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){"use strict";__p&&__p();j.constructor.call(this,o);this.$ReactComposerObjectTaggerComponent1=function(u,event){var v={};v[l.SELECTED_ORIGINAL_ID]=u.getAuxiliaryData().original_id;v[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(u.getUniqueID(),u.getType(),u.getOrder(),!!event&&event.button>=0,this.state.query,v);this.props.taggerSource.sessionEnd();this.setState({query:u.getTitle()});this.props.onSelect(u)}.bind(this);this.$ReactComposerObjectTaggerComponent2=function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==="")this.props.onEmptyBackspace()}.bind(this);this.$ReactComposerObjectTaggerComponent3=function(){this.setState({query:""});this.props.onClear()}.bind(this);this.$ReactComposerObjectTaggerComponent4=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerObjectTaggerComponent5=function(){this.props.onPrefixClick()}.bind(this);this.$ReactComposerObjectTaggerComponent6=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerObjectTaggerComponent7=function(){setTimeout(function(){this.props.taggerSource.sessionStart()}.bind(this),0)}.bind(this);this.$ReactComposerObjectTaggerComponent8=function(u,v){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(u.map(function(w){return w.getUniqueID()}))}.bind(this);this.$ReactComposerObjectTaggerComponent9=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);var p=o.taggerSource,q=o.action.getUniqueID(),r=o.actionTypeIDsWithNoFreeForm,s=!r[q];if(s){var t=new(c("RegexMatchSearchSource"))(".+");p=new(c("WebAsyncPlusRegexSearchSource"))({asyncSource:p,regexSource:t,appendRegexEntries:true})}setTimeout(function(){o.taggerSource.sessionStart()},0);this.state={query:o.object?o.object.getTitle():"",searchSource:p}}n.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};n.prototype.focusInput=function(){"use strict";var o=this.refs.objectTypeahead;if(o)o.focusInput&&o.focusInput()};n.prototype.render=function(){"use strict";var o=this.props.action.getAuxiliaryData(),p=o?o.prompt:"";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(k,{className:"_5esm _4zdy",key:"prefix",role:"presentation",onClick:this.$ReactComposerObjectTaggerComponent5},this.props.action.getTitle()),c("React").createElement(k,{className:"_5esw",key:"suffix",role:"presentation"},c("React").createElement(c("XUITypeahead.react"),{ref:"objectTypeahead",presenter:this.$ReactComposerObjectTaggerComponent10(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:p,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerObjectTaggerComponent1,onBackspace:this.$ReactComposerObjectTaggerComponent2,onClear:this.$ReactComposerObjectTaggerComponent3,onChange:this.$ReactComposerObjectTaggerComponent4,onBlur:this.$ReactComposerObjectTaggerComponent6,onEntriesFound:this.$ReactComposerObjectTaggerComponent8,onNoEntriesFound:this.$ReactComposerObjectTaggerComponent9,onFocus:this.$ReactComposerObjectTaggerComponent7,tallInput:false})))};n.prototype.$ReactComposerObjectTaggerComponent10=function(){"use strict";var o={};o.taggerViewStyle=this.props.taggerViewStyle;o.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c("ReactComposerObjectTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o})};n.propTypes={action:m.object.isRequired,actionTypeIDsWithNoFreeForm:m.object.isRequired,autoFocus:m.bool,object:m.object,onClear:m.func.isRequired,onEmptyBackspace:m.func.isRequired,onPrefixClick:m.func.isRequired,onSelect:m.func.isRequired,placeID:m.string,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerSource:new(c("DummySearchSource"))(),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerObjectTaggerContainer.react",["React","ReactComposerObjectTaggerComponent.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerViewStyles","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerObjectTaggerContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{autoFocus:true,onClear:c("emptyFunction"),onEmptyBackspace:c("emptyFunction"),onPrefixClick:c("emptyFunction"),onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerSource(k,c("ReactComposerTaggerType").OG);return{taggerSource:m}}},render:function j(){return c("React").createElement(c("ReactComposerObjectTaggerComponent.react"),babelHelpers["extends"]({ref:"objectTagger"},this.props,{taggerSource:this.state.taggerSource}))},focusInput:function j(){var k=this.refs.objectTagger;k&&k.focusInput()}});f.exports=i}),null);
__d("ReactComposerActivityTaggerComponent.react",["DummySearchSource","React","ReactComposerActionTaggerComponent.react","ReactComposerObjectTaggerContainer.react","ReactComposerTaggerViewStyles","WebAsyncSearchSourceWithMetrics","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$ReactComposerActivityTaggerComponent3=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q})}.bind(this),this.$ReactComposerActivityTaggerComponent2=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q})}.bind(this),this.$ReactComposerActivityTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null})}.bind(this),m}k.prototype.componentDidUpdate=function(){"use strict";if(this.state.action&&!this.state.object){var l=this.refs.objectTagger;l&&l.focusInput()}};k.prototype.componentWillUnmount=function(){"use strict";if(this.state.action&&!this.state.object)this.$ReactComposerActivityTaggerComponent1()};k.prototype.render=function(){"use strict";if(this.state.action)return c("React").createElement(c("ReactComposerObjectTaggerContainer.react"),{ref:"objectTagger",action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$ReactComposerActivityTaggerComponent1,onEmptyBackspace:this.$ReactComposerActivityTaggerComponent1,onPrefixClick:this.$ReactComposerActivityTaggerComponent1,onSelect:this.$ReactComposerActivityTaggerComponent2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle});return c("React").createElement(c("ReactComposerActionTaggerComponent.react"),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$ReactComposerActivityTaggerComponent3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle})};k.prototype.getTaggerData=function(l,m){"use strict";var n=this.props.taggerData;n.action=l;n.object=m;return n};k.propTypes={actionTypeIDsWithNoFreeForm:j.object.isRequired,actorID:j.string.isRequired,autoFocus:j.bool,placeID:j.string,taggerData:j.object.isRequired,taggerSource:j.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,onSelect:j.func.isRequired,actionTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:j.shape(c("ReactComposerTaggerViewStyles").Shape)};k.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new(c("DummySearchSource"))(),onSelect:c("emptyFunction"),actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=k}),null);
__d("ReactComposerTypeaheadSearchSourceType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"})}),null);
__d("ReactComposerActivityTaggerContainer.react",["Arbiter","BasicTypeaheadLoggerJSConstants","Map","MinutiaeVerbs","React","ReactComposerActivityTaggerComponent.react","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerLocationAttachmentActions","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","WebAsyncSearchSourceWithMetrics","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerActivityTaggerContainer",_actionTypeSearchSources:new(c("Map"))(),_objectSearchSources:new(c("Map"))(),_searchSourceConfig:null,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").ACTIVITY,loggingName:c("ReactComposerLoggingName").MINUTIAE_TAGGER,taggerComponent:c("ReactComposerActivityTaggerComponent.react"),enableHideOnEscape:true,webDriverTestID:"activity-tagger-component"},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c("getObjectValues")(c("BasicTypeaheadLoggerJSConstants").EventNames)).isRequired,actionTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape),objectTaggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},getInitialState:function j(){return{hasDoneInitialObjectPrefetch:false}},componentWillMount:function j(){this._searchSourceConfig=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)},componentWillReceiveProps:function j(k){if(k.placeID!==this.props.placeID){this._updateActionTypeSearchSource(k.placeID);this._prefetchObjectSearchSources(k.placeID)}},componentWillUpdate:function j(k,l){__p&&__p();if(!this.state.isSelected&&l.isSelected){var m=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:m});var n=this.state.hasDoneInitialObjectPrefetch||l.hasDoneInitialObjectPrefetch;if(!n)this._prefetchObjectSearchSources(this.props.placeID);var o=l.taggerData;if(o.action)this._updateObjectSearchSource(o.action.getUniqueID())}},_suppressUpdateLogging:function j(k){return k.action&&!k.object},__onTaggerDataChanged:function j(k){__p&&__p();if(k.action){this._updateObjectSearchSource(k.action.getUniqueID());if(!k.object){var l=this._objectSearchSources.get(k.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(k.action.getUniqueID(),this.props.placeID,{sid:l})}}if(k.action&&k.object){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);var m=this._shouldFetchMinutiaeAttachment(k.action,k.object);if(k.shouldRemoveDefaultAttachment)m=false;if(m){if(k.action.getUniqueID()==c("MinutiaeVerbs").COMPOSER_TRAVELS.toString())c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,k.object.getUniqueID(),!!this.props.isPersonalTimeline);else this._clearMinutiaeLocation();c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(this.context.composerID,k.action.getUniqueID(),k.object.getUniqueID(),this.context.targetID,this.context.actorID,!!this.props.isPersonalTimeline);setTimeout(function(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}}else{c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);this._clearMinutiaeLocation()}},_clearMinutiaeLocation:function j(){c("ReactComposerLocationAttachmentActions").setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline)},_shouldFetchMinutiaeAttachment:function j(k,l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,c("ReactComposerAttachmentType").STATUS);if(!m)return false;if(l.getAuxiliaryData().isRegexEntry)return false;return true},_updateActionTypeSearchSource:function j(k){var l=null;if(this._actionTypeSearchSources.has(k))l=this._actionTypeSearchSources.get(k);else{l=this._createAndBootstrapActionTypeSearchSource(k,{is_prefetching:true});this._actionTypeSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)},_createAndBootstrapActionTypeSearchSource:function j(k,l){var m="/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader",n={place_id:k,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)o.queryRequests=[{uri:m,data:Object.assign({},n)}];var p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:c("MinutiaeVerbs").COMPOSER_SELECTS_VERB},q=new(c("WebAsyncSearchSourceWithMetrics"))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q},_prefetchObjectSearchSources:function j(k){var l=this.props.actionTypeIDsToPrefetch,m=new(c("Map"))();l.forEach(function(n){var o=this._createAndBootstrapObjectSearchSource(n,k,{is_prefetching:true});m.set(n,o)}.bind(this));this._objectSearchSources=m;this.setState({hasDoneInitialObjectPrefetch:true})},_updateObjectSearchSource:function j(k){var l=null;if(this._objectSearchSources.has(k))l=this._objectSearchSources.get(k);else{l=this._createAndBootstrapObjectSearchSource(k,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(k,l)}c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").OG,l)},_createAndBootstrapObjectSearchSource:function j(k,l,m){var n="/ajax/metacomposer/attachment/og/typeahead/query/object_loader",o={at_id:k,place_id:l,viewer:this.props.actorID},p={getAllForEmptyQuery:true,bootstrapRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:true})}],queryRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},q={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c("BasicTypeaheadLoggerJSConstants").MinutiaeComposerVersions.REACT,at_id:k},r=new(c("WebAsyncSearchSourceWithMetrics"))(p,q),s=r.getTypeaheadSessionID();r.setRequestData(m);r.bootstrap();r.setRequestData({sid:s});return r}});f.exports=i}),null);
__d("ReactComposerAlbumTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerAlbumTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],propTypes:{hasData:j.bool},statics:{taggerID:c("ReactComposerTaggerType").ALBUM,loggingName:c("ReactComposerLoggingName").ALBUM_TAGGER,suppressTaggerLink:true},getTitle:function l(){return i._("Add your post to an album")},getTooltip:function l(){return i._("Pick an album")},getClassName:function l(){return"_3c57"+(this.props.hasData?" _6xe":"")}});f.exports=k}),null);
__d("ReactComposerAlbumTaggerButtonContainer.react",["React","ReactComposerAlbumTaggerButton.react","ReactComposerAudienceStore","ReactComposerPropsAndStoreBasedStateMixin"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").createClass({displayName:"ReactComposerAlbumTaggerButtonContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAudienceStore"))],statics:{calculateState:function i(j,k){var l=c("ReactComposerAudienceStore").getCollectionID(j);return{hasSelectedAlbum:l!==null}}},render:function i(){return c("React").createElement(c("ReactComposerAlbumTaggerButton.react"),{hasData:this.state.hasSelectedAlbum})}});f.exports=h}),null);
__d("ReactComposerLocationTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerLocationTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER},getTitle:function k(){return i._("Tag a location")},getTooltip:function k(){return i._("Check In")},getClassName:function k(){return"_3gqo"}});f.exports=j}),null);
__d("ReactComposerLocationSearchSource",["ReactComposerTypeaheadSearchSourceConfig","ReactComposerTypeaheadSearchSourceType","SearchableEntry","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g){function h(i,j,k){var l=c("ReactComposerTypeaheadSearchSourceConfig")[c("ReactComposerTypeaheadSearchSourceType").LOCATION],m=Object.assign(l,j),n=Object.assign(l,i);l={bootstrapRequests:[{uri:"/ajax/places/typeahead",data:n}],getAllForEmptyQuery:true,queryRequests:[{uri:"/ajax/places/typeahead",data:m}],packageFn:function o(m){return m?new(c("SearchableEntry"))(m):null}};return new(c("WebAsyncSearchSourceWithMetrics"))(l,k)}f.exports=h}),null);
__d("ReactComposerLocationTypeaheadComponent.react",["fbt","React","WebAsyncSearchSourceWithMetrics","XUITypeahead.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.$ReactComposerLocationTypeaheadComponent9=function(){return Object.assign({},this.props.taggerData)}.bind(this);this.$ReactComposerLocationTypeaheadComponent8=function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this.$ReactComposerLocationTypeaheadComponent9();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p)}.bind(this);this.$ReactComposerLocationTypeaheadComponent3=function(event){this.setState({query:event.target.value})}.bind(this);this.$ReactComposerLocationTypeaheadComponent1=function(event){if(this.state.query===event.target.value)this.$ReactComposerLocationTypeaheadComponent10()}.bind(this);this.$ReactComposerLocationTypeaheadComponent4=function(){this.$ReactComposerLocationTypeaheadComponent10();this.setState({query:""})}.bind(this);this.$ReactComposerLocationTypeaheadComponent2=function(){this.props.taggerSource.sessionEnd()}.bind(this);this.$ReactComposerLocationTypeaheadComponent6=function(){this.props.taggerSource.sessionStart()}.bind(this);this.$ReactComposerLocationTypeaheadComponent5=function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID()}))}.bind(this);this.$ReactComposerLocationTypeaheadComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query)}.bind(this);m.taggerSource.sessionStart();var n={};if(m.defaultLocation)n.query=m.defaultLocation;else n.query=m.taggerData.place?m.taggerData.place.getTitle():"";this.state=n}l.prototype.componentWillUnmount=function(){"use strict";this.props.taggerSource.sessionEnd()};l.prototype.render=function(){"use strict";return c("React").createElement(c("XUITypeahead.react"),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this.$ReactComposerLocationTypeaheadComponent1,onBlur:this.$ReactComposerLocationTypeaheadComponent2,onChange:this.$ReactComposerLocationTypeaheadComponent3,onClear:this.$ReactComposerLocationTypeaheadComponent4,onEntriesFound:this.$ReactComposerLocationTypeaheadComponent5,onFocus:this.$ReactComposerLocationTypeaheadComponent6,onNoEntriesFound:this.$ReactComposerLocationTypeaheadComponent7,onSelectAttempt:this.$ReactComposerLocationTypeaheadComponent8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false})};l.prototype.$ReactComposerLocationTypeaheadComponent10=function(){"use strict";var m=this.$ReactComposerLocationTypeaheadComponent9();m.place=null;if(!this.props.implicitLocationEnabled)m.implicitLocation=null;this.props.onSelect&&this.props.onSelect(m)};l.propTypes={autoFocus:k.bool,defaultLocation:k.string,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,presenter:k.object,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired};l.defaultProps={autoFocus:true,implicitLocationEnabled:false,onSelect:c("emptyFunction"),placeholder:h._("Where are you?"),taggerData:{}};f.exports=l}),null);
__d("ReactComposerLocationTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerLocationTypeaheadComponent.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","React","WebAsyncSearchSourceWithMetrics"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(l,{key:"prefix",className:"_5esm",role:"presentation"},i._("At")),c("React").createElement(l,{key:"tagger",className:"_5esw",role:"presentation"},c("React").createElement(c("ReactComposerLocationTypeaheadComponent.react"),babelHelpers["extends"]({},this.props,{className:"_5esx _1wqz",presenter:this.$ReactComposerLocationTaggerComponent1()}))))};n.prototype.$ReactComposerLocationTaggerComponent1=function(){"use strict";var o={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c("ReactComposerTaggerPresenter"),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:o,maxEntries:15})};function n(){"use strict";j.apply(this,arguments)}n.propTypes={autoFocus:m.bool,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,taggerData:m.object.isRequired,taggerSource:m.instanceOf(c("WebAsyncSearchSourceWithMetrics")).isRequired,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps={taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT};f.exports=n}),null);
__d("ReactComposerLocationTaggerContainer.react",["BasicTypeaheadLoggerJSConstants","MinutiaeVerbs","PlaceSearchConstants","React","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLocationSearchSource","ReactComposerLocationTaggerComponent.react","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","ReactComposerTaggerViewStyles","areEqual","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("BasicTypeaheadLoggerJSConstants").EventNames,i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerLocationTaggerContainer",_taggerSourceInitialized:false,mixins:[c("ReactComposerTaggerContainerMixin")()],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c("ReactComposerTaggerViewStyles").Shape),typeaheadLoggerEventName:i.oneOf(c("getObjectValues")(h)).isRequired,typeaheadSearchSource:i.oneOf(c("getObjectValues")(c("PlaceSearchConstants"))).isRequired},getDefaultProps:function k(){return{hideGeoHubs:false,onSelect:c("emptyFunction"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},componentWillMount:function k(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData)}},componentWillReceiveProps:function k(l){if(!c("areEqual")(l.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(l)},statics:{taggerID:c("ReactComposerTaggerType").LOCATION,loggingName:c("ReactComposerLoggingName").LOCATION_TAGGER,taggerComponent:c("ReactComposerLocationTaggerComponent.react"),enableHideOnEscape:true},__onTaggerDataChanged:function k(l){__p&&__p();var m=l.place&&l.place.getAuxiliaryData();if(m)l.implicitLocation={cityid:m.cityID,citypageid:m.cityPageID,citystring:m.cityName};var n=c("ReactComposerLocationAttachmentStore").getMinutiaeTaggedPlace(this.context.composerID),o=c("ReactComposerLocationAttachmentStore").getIsTimeline(this.context.composerID),p=function p(q,r,s,t){c("ReactComposerMinutiaeAttachmentActions").setExplicitLocation(q,s);if(n)c("ReactComposerMinutiaeAttachmentActions").fetchMinutiaeAttachment(q,c("MinutiaeVerbs").COMPOSER_TRAVELS.toString(),n,r,t,o)};if(l.place){p(this.context.composerID,this.context.targetID,l.place.getUniqueID(),this.context.actorID);c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c("ReactComposerLocationAttachmentActions").fetchLocationAttachment(this.context.composerID,l.place.getUniqueID(),this.context.targetID)}else{p(this.context.composerID,this.context.targetID,null,this.context.actorID);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null)}},_setNewSearchSource:function k(l){var m={latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},n={hide_geo:l.hideGeoHubs,latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},o={event_name:l.typeaheadLoggerEventName,event_specific_data:{context:"places_typeahead:"+l.typeaheadSearchSource,source:l.typeaheadSearchSource,ref:"ReactComposerLocationTypeaheadComponent.react"}},p=c("ReactComposerLocationSearchSource")(m,n,o);c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").LOCATION,p)}});f.exports=j}),null);
__d("ReactComposerPeopleTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","CurrentUser"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPeopleTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],propTypes:{isMultiCompanyGroup:j.bool},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE,loggingName:c("ReactComposerLoggingName").PEOPLE_TAGGER},getTitle:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers");return i._("Tag people")},getTooltip:function l(){if(c("CurrentUser").isWorkUser()&&!this.props.isMultiCompanyGroup)return i._("Tag coworkers in your post");return i._("Tag people in your post")},getClassName:function l(){return"_51y3"}});f.exports=k}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){"use strict";return c("React").createElement("span",{className:"_jsa"})};l.prototype.render=function(){"use strict";var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":"")+" _jsc";return c("React").createElement(c("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c("SearchableEntry")).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d("ReactComposerPeopleTaggerComponent.react",["cx","fbt","Grid.react","ReactComposerPeopleTaggerTokenizerToken.react","ReactComposerTaggerPresenter","ReactComposerTaggerViewStyles","TaggingLimits","React","XUITokenizer.react","emptyFunction","CurrentUser"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPeopleTaggerComponent1=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(t){return t.getUniqueID()===v});if(w)return;else u.push(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerPeopleTaggerComponent2=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u)}.bind(this),p}n.prototype.render=function(){"use strict";var o={};if(this.props.actorID)o[this.props.actorID]=true;return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl",role:"presentation"},c("React").createElement(l,{key:"label",className:"_5esm",role:"presentation"},i._("With")),c("React").createElement(l,{key:"tokenizer",className:"_5esw",role:"presentation"},c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({presenter:this.$ReactComposerPeopleTaggerComponent3(),focusedOnInit:this.props.autoFocus,excludedEntries:o,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$ReactComposerPeopleTaggerComponent1,onRemoveEntryAttempt:this.$ReactComposerPeopleTaggerComponent2,limit:c("TaggingLimits").MAX_WITH_TAGS},this.props))))};n.prototype.$ReactComposerPeopleTaggerComponent3=function(){"use strict";var o=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c("ReactComposerTaggerPresenter"),p={};p.taggerViewStyle=this.props.taggerViewStyle;p.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},o,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:p,TokenRenderer:c("ReactComposerPeopleTaggerTokenizerToken.react")})};n.propTypes={actorID:m.string,autoFocus:m.bool,placeholder:m.string,taggerConfig:m.object,taggerData:m.array.isRequired,taggerSource:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape)};n.defaultProps=function(){var o=i._("Who are you with?");if(c("CurrentUser").isWorkUser())o=i._("Who do you want to tag?");return{autoFocus:true,onSelect:c("emptyFunction"),placeholder:o,taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerData:[]}}();f.exports=n}),null);
__d("ReactComposerPeopleTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerPeopleTaggerComponent.react","ReactComposerPhotoActions","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPeopleTaggerContainer",mixins:[c("ReactComposerTaggerContainerStateMixin")()],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c("ReactComposerTaggerViewStyles").Shape)},getDefaultProps:function j(){return{taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}},statics:{taggerID:c("ReactComposerTaggerType").PEOPLE},render:function j(){if(!this.state.isSelected)return c("React").createElement("noscript",null);return c("React").createElement("div",{"data-testid":"people-tagger-component"},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected},c("React").createElement(c("ReactComposerPeopleTaggerComponent.react"),babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))))},_onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").PEOPLE_TAGGER,c("ReactComposerTaggerType").PEOPLE,k);this.props.onSelect&&this.props.onSelect(k)},_onPeopleTagRemove:function j(k){c("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.context.composerID,k.getUniqueID())}});f.exports=i}),null);
__d("ReactComposerPhotoTaggerButton.react",["cx","fbt","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerMediaUtils","TooltipLink.react","VideoUploadConfig","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPhotoTaggerButton",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{photoLimit:j.number.isRequired,hasData:j.bool,selected:j.bool,multimediaNuxShown:j.bool,onNUXCloseButtonClick:j.func},getDefaultProps:function l(){return{hasData:false,selected:false}},render:function l(){var m=c("joinClasses")("_2vwi _lnh"+(this.props.hasData?" _6xe":""),this.props.className),n=this._renderMultimediaAttachmentsNux(),o=void 0,p=this.props.photoLimit>1,q=c("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(p)if(q)o=i._("Add photos and videos to your post");else o=i._("Add photos or a video to your post");else o=i._("Add a photo or a video to your post");return c("React").createElement(c("TooltipLink.react"),{className:"_3xem","data-testid":"react-composer-photo-tagger",onClick:this._onSelect,tooltip:o},c("React").createElement("span",{className:"accessible_elem"},this.props.photoLimit>1?i._("Add photos"):i._("Add photo")),c("React").createElement("div",{className:m}),n)},_renderMultimediaAttachmentsNux:function l(){return c("React").createElement(c("XUIAmbientNUX.react"),{position:"below",width:"custom",contextRef:function(){return this.refs.fileInput}.bind(this),customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},i._("You can now add photos and videos to the same post."))}});f.exports=k}),null);
__d("ReactComposerPhotoTaggerButtonContainer.react",["cx","Bootloader","ComposerTargetData","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoTaggerButton.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerVideoUploadStore","ReactObjectiveFirstPagesComposerGlobalFlags","SimpleNUXMessage","SimpleNUXMessageTypes","VideoUploadConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerPhotoTaggerButtonContainer",mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerScrapedAttachmentStore"))],propTypes:{customPhotoTaggerButton:i.any,disableFaceRecognition:i.bool.isRequired,mediaAcceptParam:i.shape({photos:i.string,both:i.string}),photoLimit:i.number.isRequired,targetData:i.instanceOf(c("ComposerTargetData")).isRequired,mediaConfig:i.object.isRequired},getDefaultProps:function k(){return{disableFaceRecognition:false}},statics:{calculateState:function k(l,m){var n=c("ReactComposerAttachmentStore").getIsAttachmentSelected(l,c("ReactComposerAttachmentType").MEDIA),o=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO),p=!c("ReactComposerVideoUploadStore").getVideo(l)&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&o.size<m.photoLimit,q=!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").MULTIMEDIA_ATTACHMENTS_NUX)&&c("VideoUploadConfig").showMultimediaNUX;return{hasData:!!o.size&&n,shown:p,uploadSize:o.size,multimediaNuxShown:q}}},render:function k(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var l=this.props.customPhotoTaggerButton;return c("React").createElement(l,babelHelpers["extends"]({},this.props,this.state,{onClick:this._onClick}))}else return c("React").createElement(c("ReactComposerMediaFilePickerController.react"),babelHelpers["extends"]({},this.props,{loggingName:c("ReactComposerLoggingName").MEDIA_TAGGER,containerClassName:"_3xem _3xen",onClick:this._onClick}),c("React").createElement(c("ReactComposerPhotoTaggerButton.react"),{photoLimit:this.props.photoLimit,hasData:this.state.hasData,targetData:this.props.targetData,multimediaNuxShown:this.state.multimediaNuxShown,onNUXCloseButtonClick:this._onNUXCloseButtonClick}))},_onNUXCloseButtonClick:function k(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").MULTIMEDIA_ATTACHMENTS_NUX);this.setState({multimediaNuxShown:false})},_onClick:function k(){if(c("ReactObjectiveFirstPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer())c("Bootloader").loadModules(["PagesPublishingLoggingActions"],function(l){l.clickedTagger(c("ReactComposerLoggingName").MEDIA_TAGGER)},"ReactComposerPhotoTaggerButtonContainer.react");this._onNUXCloseButtonClick()}});f.exports=j}),null);
__d("ReactComposerTaggerButtons.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_47gt"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerTaggers.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_1idc"},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerStatusFooter.react",["cx","AsyncRequest","BasicTypeaheadLoggerJSConstants","BootloadedComponent.react","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","ComposerEntryPointRef","ComposerTargetData","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAlbumTaggerButtonContainer.react","ReactComposerAttachmentType","ReactComposerAudienceSelectorContainer.react","ReactComposerAudienceSelectorContainerGatedModule","ReactComposerBootloaderPropTypes","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerConfig","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerGroupAudienceIndicatorGatedModule","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerPhotoTaggerButtonContainer.react","ReactComposerPostButtonContainer.react","ReactComposerPostToGroupButtonContainerGatedModule","ReactComposerSelectedCollectionIndicatorContainerGatedModule","ReactComposerSharesheetSelectorContainerGatedModule","ReactComposerTaggerActions","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTimelineAudienceSelectorContainerGatedModule","JSResource","LeftRight.react","PlaceSearchConstants","ReactComponentWithPureRenderMixin","React","XUISpinner.react","getByPath"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("BasicTypeaheadLoggerJSConstants").EventNames,j=c("ReactComposerAudienceSelectorContainerGatedModule").module,k=c("ReactComposerCollectionSelectorContainerGatedModule").module,l=c("ReactComposerGroupAudienceIndicatorGatedModule").module,m=c("ReactComposerPostToGroupButtonContainerGatedModule").module,n=c("ReactComposerSelectedCollectionIndicatorContainerGatedModule").module,o=c("ReactComposerSharesheetSelectorContainerGatedModule").module,p=c("ReactComposerTimelineAudienceSelectorContainerGatedModule").module,q=c("React").PropTypes,r=c("React").createClass({displayName:"ReactComposerStatusFooter",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{activeAttachment:q.string,additionalTaggers:q.arrayOf(q.shape({button:q.element.isRequired,container:q.element.isRequired})),additionalFooterActions:q.arrayOf(q.element),audienceXHP:q.instanceOf(HTMLElement),attachmentsConfig:q.object.isRequired,bootloader:c("ReactComposerBootloaderPropTypes"),config:c("ReactComposerConfig").isRequired,hasImplicitLocation:q.bool,isActive:q.bool.isRequired,isCameraIconEnabled:q.bool,isMessagingButtonEnabled:q.bool,locationTaggerPlaceholder:q.string,mediaAcceptParam:q.shape({photos:q.string,both:q.string}),mediaLocation:q.shape({latitude:q.number.isRequired,longitude:q.number.isRequired}),peopleTaggerPlaceholder:q.string,placeID:q.string,postButtonModule:q.func,taggersConfig:q.object,targetData:q.instanceOf(c("ComposerTargetData")).isRequired,weakMention:q.object,isGroupTabSelected:q.bool,selectedGroup:q.object,mediaTakenTime:q.number,asset3d:q.object},getDefaultProps:function s(){return{isCameraIconEnabled:true,isGroupTabSelected:false}},_addMember:function s(event){if(this.props.weakMention!=null){var t={};t.source="invite_from_mention";t.group_id=this.props.config.targetData.targetID;t.members=[this.props.weakMention.uid];new(c("AsyncRequest"))("/ajax/groups/members/add_post.php").setData(t).send();event.preventDefault()}},_renderMentionInvitation:function s(){if(Object.prototype.hasOwnProperty.call(this.props.attachmentsConfig,c("ReactComposerAttachmentType").ADD_MENTIONED)&&this.props.attachmentsConfig[c("ReactComposerAttachmentType").ADD_MENTIONED].enabled&&this.props.weakMention!=null){var t=this.props.weakMention.uid,u=this.props.weakMention.text,v=this.props.config.groupConfig.id,w=this.props.config.groupConfig.name;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactInviteMentionedMemberFooter.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),mentionedPersonId:t,mentionedPersonName:u,groupId:v,groupName:w,onAddMember:this._addMember})}return null},componentDidMount:function s(){this._handleSetProductTaggerShowNUX();this._handleShowContactYourRepresentativeNUX();this._handleSetMessengerPromptShowNUX()},render:function s(){__p&&__p();var t=this.context.gks&&this.context.gks.isSproutsComposer,u=this.context.gks&&this.context.gks.topPostButton,v=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],w=this.props.hasImplicitLocation?"_icv":"",x=v.footerBackground?v.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",y=t?this._renderSproutsList():null,z=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].feedOnlyPost,A=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].feedOnlyPost?c("React").createElement(z,null):null,B=null;if(!t&&this.props.isActive)B=this._getButtons();else if(this.context.gks&&this.context.gks.albumSelectorInComposer)B=c("React").createElement(c("ReactComposerFooterActions.react"),null,this._getAudienceSelector(),k&&(!this.props.isGroupTabSelected||!l)?c("React").createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,canCreateSharingSpace:this.context.gks&&this.context.gks.canCreateSharingSpace,showSharingSpaces:this.context.gks&&this.context.gks.canPostToSpace}):null);else if(this.context.gks&&this.context.gks.albumTabUsesSelector)B=n&&(!this.props.isGroupTabSelected||!l)?c("React").createElement(n,null):null;var C=null;if(v.audienceIndicator){var D=v.audienceIndicator.module;C=c("React").createElement(D,{background:x,config:this.props.config})}var E=void 0,F=this.props.config,G=F.actorConfig,H=F.postButtonConfig;if(H&&H.isScheduledPost){if(H.scheduleNotice){var I=H.scheduleNotice.module;if(I)E=c("React").createElement(I,{config:this.props.config})}}else if(G&&G.scheduleNotice){var J=G.scheduleNotice.module;if(J)E=c("React").createElement(J,{config:this.props.config})}var K=!u?c("React").createElement(c("ReactComposerFooterContainer.react"),{background:x,className:w},E,c("React").createElement(c("LeftRight.react"),null,B,this._getFooterActions())):null,L=this._renderMentionInvitation();return c("React").createElement("div",{className:"_1j2v"},L,A,this._getTaggers(),y,C,K)},_getTaggers:function s(){__p&&__p();var t=this.props.taggersConfig;if(!t)return null;var u=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].enabled?c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:t[c("ReactComposerTaggerType").PEOPLE]}):null,v=t[c("ReactComposerTaggerType").LOCATION]&&t[c("ReactComposerTaggerType").LOCATION].enabled?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:t[c("ReactComposerTaggerType").LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:t[c("ReactComposerTaggerType").LOCATION],taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:i.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,w=this.context.composerType===c("ComposerEntryPointRef").TIMELINE,x=t[c("ReactComposerTaggerType").OG]&&t[c("ReactComposerTaggerType").OG].enabled?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actionTypeIDsWithNoFreeForm:t[c("ReactComposerTaggerType").OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:w,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:t[c("ReactComposerTaggerType").OG].actionTypeIDsToPrefetch,rankVerbs:t[c("ReactComposerTaggerType").OG].rankVerbs,typeaheadLoggerEventName:i.OGCOMPOSER_TAGGER}):null,y=t[c("ReactComposerTaggerType").ASSET_3D]&&t[c("ReactComposerTaggerType").ASSET_3D].enabled&&this.props.asset3d?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerAsset3DComponent.react").__setRef("ReactComposerStatusFooter.react"),asset3dFile:this.props.asset3d,bootloadPlaceholder:c("React").createElement("div",null)}):null,z=t[c("ReactComposerTaggerType").BACKDATE]&&t[c("ReactComposerTaggerType").BACKDATE].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerBackdateTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null)}):null,A=this._getSponsorTagger(),B=this.props.additionalTaggers?this.props.additionalTaggers.map(function(J){return J.container}):null,C=null;if(t[c("ReactComposerTaggerType").FORMATTED_TEXT]&&!t[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule){var D=t[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule;C=c("React").createElement(D,{autoOpen:t[c("ReactComposerTaggerType").FORMATTED_TEXT].autoOpen,defaultFormat:t[c("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormat,fixAspectRatio:t[c("ReactComposerTaggerType").FORMATTED_TEXT].fixAspectRatio,maxNewlines:t[c("ReactComposerTaggerType").FORMATTED_TEXT].maxNewlines,noSproutDesign:t[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign,statusAttachmentActive:this.props.isActive,stickyStylesEnabled:t[c("ReactComposerTaggerType").FORMATTED_TEXT].stickyStylesEnabled,shouldAutoOpenWhenUserStartsTyping:t[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,textFormats:t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats,textLengthLimit:t[c("ReactComposerTaggerType").FORMATTED_TEXT].textLengthLimit})}var E=t[c("ReactComposerTaggerType").TAG_EVENT]&&t[c("ReactComposerTaggerType").TAG_EVENT].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerTagEventTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),isPersonalTimeline:w,key:"tag_event_container",mediaLocation:this.props.mediaLocation,mediaTakenTime:this.props.mediaTakenTime,reactComposerID:this.context.composerID}):null,F=this._getProductTagger(),G=this._getMessagingTagger(),H=this._getContactYourRepresentativeTagger(),I=c("React").createElement(c("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:this.props.taggersConfig});return c("React").createElement(c("ReactComposerTaggers.react"),null,y,u,v,x,C,z,A,F,G,H,I,B,E)},_renderSproutsList:function s(){var t=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return c("React").createElement(t,{config:this.props.config})},_getButtons:function s(){__p&&__p();var t=this.props.taggersConfig;if(!t)return null;var u=this.props.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],v=this.props.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],w=t[c("ReactComposerTaggerType").CAMERA]&&t[c("ReactComposerTaggerType").CAMERA].enabled&&this.props.isCameraIconEnabled?c("React").createElement(c("ReactComposerPhotoTaggerButtonContainer.react"),{customPhotoTaggerButton:u.customPhotoTaggerButton,disableFaceRecognition:v.disableFaceboxTagger,photoLimit:v.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:v}):null,x=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].isMultiCompanyGroup||false,y=t[c("ReactComposerTaggerType").PEOPLE]&&t[c("ReactComposerTaggerType").PEOPLE].enabled?c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),{isMultiCompanyGroup:x}):null,z=t[c("ReactComposerTaggerType").OG]&&t[c("ReactComposerTaggerType").OG].enabled?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),null):null,A=t[c("ReactComposerTaggerType").ALBUM]&&t[c("ReactComposerTaggerType").ALBUM].enabled?this._getAlbumTaggerButton():null,B=t[c("ReactComposerTaggerType").LOCATION]&&t[c("ReactComposerTaggerType").LOCATION].enabled?c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null,c("React").createElement(c("ReactComposerImplicitLocationContainer.react"),null)):null,C=t[c("ReactComposerTaggerType").BACKDATE]&&t[c("ReactComposerTaggerType").BACKDATE].enabled?c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerBackdateTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null)}):null,D=this._getSponsorTaggerButton(),E=this.props.additionalTaggers?this.props.additionalTaggers.map(function(L){return L.button}):null,F=null;if(t[c("ReactComposerTaggerType").FORMATTED_TEXT]&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&t[c("ReactComposerTaggerType").FORMATTED_TEXT].buttonModule){var G=t[c("ReactComposerTaggerType").FORMATTED_TEXT].buttonModule;F=c("React").createElement(G,null)}var H=this._getProductTaggerButton(),I=this._getMessagingTaggerButton(),J=this._getContactYourRepresentativeTaggerButton(),K=c("React").createElement(c("BootloadedReactComposerFundraiserTaggerButton.react"),{taggersConfig:this.props.config.taggersConfig,source:"composer"});return c("React").createElement(c("ReactComposerTaggerButtons.react"),null,w,y,z,A,B,F,C,D,H,I,J,K,E)},_getFooterActions:function s(){var t=void 0;if(this.props.postButtonLabel)t=this.props.postButtonLabel;var u=this.props.isGroupTabSelected&&m?m:this.props.postButtonModule||c("ReactComposerPostButtonContainer.react"),v=c("React").createElement(u,{config:this.props.config,label:t});return c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.additionalFooterActions,this._getSharesheetSelector(),this.context.gks&&this.context.gks.albumSelectorInComposer?null:this._getAudienceSelector(),v)},_getIsAudienceSelectorShownForType:function s(t){switch(this.context.composerType){case c("ComposerEntryPointRef").FEEDX_SPROUTS:return this.props.activeAttachment!==t||j;case c("ComposerEntryPointRef").TIMELINE:return this.props.activeAttachment!==t||p;default:return true}},_getIsSharesheetSelectorShownForType:function s(t){switch(this.context.composerType){case c("ComposerEntryPointRef").FEEDX_SPROUTS:return this.props.activeAttachment!==t||o;default:return false}},_getAudienceSelector:function s(){return this.props.audienceXHP&&this._getIsAudienceSelectorShownForType(c("ReactComposerAttachmentType").STATUS)&&this._getIsAudienceSelectorShownForType(c("ReactComposerAttachmentType").MEDIA)?this.props.isGroupTabSelected&&l?this._getGroupAudienceSelector():c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null},_getSharesheetSelector:function s(){return this._getIsSharesheetSelectorShownForType(c("ReactComposerAttachmentType").STATUS)&&this._getIsSharesheetSelectorShownForType(c("ReactComposerAttachmentType").MEDIA)&&o?c("React").createElement(o,{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget,config:this.props.config,composerID:this.context.composerID,targetID:this.props.config.targetData.targetID}):c("React").createElement("span",null)},_getGroupAudienceSelector:function s(){return this.props.isGroupTabSelected&&l&&this.props.selectedGroup?c("React").createElement(l,{group:this.props.selectedGroup}):null},_getSponsorTaggerButton:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").SPONSOR]||!t[c("ReactComposerTaggerType").SPONSOR].enabled)return null;var u=t[c("ReactComposerTaggerType").SPONSOR].button,v=t[c("ReactComposerTaggerType").SPONSOR].button?c("React").createElement(u,{key:"sponsor_button"}):null;return v},_getSponsorTagger:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").SPONSOR]||!t[c("ReactComposerTaggerType").SPONSOR].enabled)return null;var u=t[c("ReactComposerTaggerType").SPONSOR].container,v=t[c("ReactComposerTaggerType").SPONSOR].container?c("React").createElement(u,{key:"sponsor_container",viewer:t[c("ReactComposerTaggerType").SPONSOR].viewer,showDirectBoost:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerDirectBoost,showDirectBoostNUX:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerDirectBoostNUX,showSponsorRelationship:t[c("ReactComposerTaggerType").SPONSOR].showSponsorTaggerSponsorRelationship}):null;return v},_getProductTaggerButton:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey("product_container")||!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerProductTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"product_button",productTaggerType:t[c("ReactComposerTaggerType").PRODUCT].productTaggerType})},_checkAddMessengerButtonEnabled:function s(){var t=this.props.taggersConfig;return c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"enabled"])&&this.props.isMessagingButtonEnabled===true},_checkAddContactYourRepresentativeEnabled:function s(){var t=this.props.taggersConfig;return c("getByPath")(t,[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,"enabled"])&&c("getByPath")(t,[c("ReactComposerTaggerType").OG,"enabled"])},_getProductTagger:function s(){var t=this.props.taggersConfig;if(this._hasAdditionalTaggerContainerWithKey("product_container")||!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerProductTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"product_container",pageID:this.props.config.targetData.targetID,productTaggerType:t[c("ReactComposerTaggerType").PRODUCT].productTaggerType,reactComposerID:this.context.composerID,showAddProduct:t[c("ReactComposerTaggerType").PRODUCT].showAddProduct,viewer:this.context.actorID})},_handleSetProductTaggerShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!t[c("ReactComposerTaggerType").PRODUCT]||!t[c("ReactComposerTaggerType").PRODUCT].enabled)return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,t[c("ReactComposerTaggerType").PRODUCT].showProductTaggerButtonNUX)},_handleShowContactYourRepresentativeNUX:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return;var t=this.props.taggersConfig,u=c("getByPath")(t,[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,"showNux"]);if(!u)return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,true)},_handleSetMessengerPromptShowNUX:function s(){var t=this.props.taggersConfig;if(!t||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING])||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"enabled"]))return;c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").MESSAGING,t[c("ReactComposerTaggerType").MESSAGING].showMessengerPromptButtonNUX)},_getMessagingTaggerButton:function s(){var t=this.props.taggersConfig;if(!this._checkAddMessengerButtonEnabled()||!t||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING])||!c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"messengerPromptNuxType"]))return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerMessagingTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"messaging_button",reactComposerID:this.context.composerID,nuxType:c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"messengerPromptNuxType"]),autoSelect:c("getByPath")(t,[c("ReactComposerTaggerType").MESSAGING,"autoSelect"])})},_getMessagingTagger:function s(){if(!this._checkAddMessengerButtonEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerMessagingTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"messaging_container",reactComposerID:this.context.composerID})},_getContactYourRepresentativeTaggerButton:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerContactYourRepresentativeTaggerButton.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"contact_your_representative_button",reactComposerID:this.context.composerID})},_getContactYourRepresentativeTagger:function s(){if(!this._checkAddContactYourRepresentativeEnabled())return null;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerContactYourRepresentativeTaggerContainer.react").__setRef("ReactComposerStatusFooter.react"),bootloadPlaceholder:c("React").createElement("div",null),key:"contact_your_representative_container",reactComposerID:this.context.composerID})},_getAlbumTaggerButton:function s(){return k?c("React").createElement(k,{addAnyPostToAlbum:this.context.gks&&this.context.gks.addAnyPostToAlbum,canCreateSharingSpace:this.context.gks&&this.context.gks.canCreateSharingSpace,showSharingSpaces:this.context.gks&&this.context.gks.canPostToSpace,alternateTriggerComponent:c("React").createElement(c("ReactComposerAlbumTaggerButtonContainer.react"),null)}):null},_hasAdditionalTaggerContainerWithKey:function s(t){var u=this.props.additionalTaggers?this.props.additionalTaggers.map(function(v){return v.container}):null;if(!u)return false;return u.some(function(v){return v.key===t})}});f.exports=r}),null);
__d("ReactComposerStatusFooterContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPostToGroupStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusFooter.react","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerStatusFooterContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"),c("ReactComposerPostToGroupStore"))],statics:{calculateState:function i(j,k){var l=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(j),m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(j),n=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").LOCATION),o=n&&n.implicitLocation&&!!n.implicitLocation.citystring,p=n&&n.place&&n.place.getUniqueID(),q=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").TAG_EVENT);return{activeAttachment:m,isActive:l,hasImplicitLocation:o,mediaLocation:n?n.mediaLocation:null,placeID:p,sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(j),isGroupTabSelected:c("ReactComposerPostToGroupStore").getIsTabSelected(j),selectedGroup:c("ReactComposerPostToGroupStore").getSelectedGroup(j),mediaTakenTime:q?q.mediaTakenTime:null,selectedAsset3D:c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").ASSET_3D)}}},render:function i(){return c("React").createElement(c("ReactComposerStatusFooter.react"),babelHelpers["extends"]({},this.props,{activeAttachment:this.state.activeAttachment,isActive:this.state.isActive,hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,mediaTakenTime:this.state.mediaTakenTime,placeID:this.state.placeID,sproutsDisplayState:this.state.sproutsDisplayState,isCameraIconEnabled:this.props.isCameraIconEnabled,isMessagingButtonEnabled:this.props.isMessagingButtonEnabled,isGroupTabSelected:this.state.isGroupTabSelected,selectedGroup:this.state.selectedGroup,asset3d:this.state.selectedAsset3D}))}});f.exports=h}),null);
__d("ReactComposerPromptsActions",["ReactComposerDispatcher","ReactComposerPromptsActionTypes","ReactComposerPromptsStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPromptsStore");h.prototype.setMinutiaeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA,minutiaeData:j})};h.prototype.setPromptData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_PROMPT_DATA,promptData:j})};h.prototype.setPromptXHP=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_PROMPT_XHP,promptXHP:j})};h.prototype.setMemeCategoryID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID,memeCategoryID:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("PromptsInteractionsEventNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_SELECTING_CONTENT:"open_selecting_content",OPEN_SUGGESTING_CONTENT:"open_suggesting_content",TAP_SECONDARY_BUTTON:"tap_secondary_button",CLOSE_SUGGESTION:"close_suggestion",SELECT_SUGGESTION:"select_suggestion",CANCEL_COMPOSER:"cancel_composer",POST_PROMPT:"post_prompt",POST_WITHOUT_PROMPT:"post_without_prompt",POST_CREATED:"post_created",IMPRESSION:"impression",CLIENT_RANKER_IMPRESSION:"client_ranker_impression",SHOW_SUGGESTION:"show_suggestion",HIDE_SUGGESTION:"hide_suggestion",PROMPT_AVAILABLE:"prompt_available",PROMPT_NOT_CONSIDERED:"prompt_not_considered",DEIMPRESSION:"deimpression",CLICK_TAGGER:"og-tagger-click",UNDO_DISMISS:"undo_dismiss",SHARE:"share",CAMERA_CAPTURE:"camera_capture",CAMERA_FLIP:"camera_flip",SAVE_TO_CAMERA_ROLL:"save_to_camera_roll",TAP_FLASH_BUTTON:"tap_flash_button",SCREENSHOT:"screenshot",CLOSE_BUTTON:"close_button",BACK_TO_CAMERA_BUTTON:"back_to_camera_button",BACK_BUTTON:"back_button",PREVIEW_CONFIRM:"preview_confirm",GALLERY_SELECT:"gallery_select",IMPRESSION_END:"impression_end",EFFECT_APPLIED:"effect_applied",THUMBNAIL_IMPRESSION:"thumbnail_impression",NUX_SHOWN:"nux_shown",NUX_DIALOG_BUTTON_CLICKED_ALLOW:"nux_dialog_button_clicked_allow",NUX_DIALOG_BUTTON_CLICKED_DENY:"nux_dialog_button_clicked_deny",NUX_BUTTON_CLICKED:"nux_button_clicked",PERMISSION_ACCEPTED:"permission_accepted",PERMISSION_DENIED:"permission_denied",NUX_VIDEO_DOWNLOAD:"nux_video_download",NUX_BACK_TO_TOP:"nux_back_to_top",CAMERA_OFF:"camera_off",START_INSPIRATION_SESSION:"start_inspiration_session",END_INSPIRATION_SESSION:"end_inspiration_session",START_NUX_SESSION:"start_nux_session",END_NUX_SESSION:"end_nux_session",START_CAMERA_SESSION:"start_camera_session",END_CAMERA_SESSION:"end_camera_session",START_EDITING_SESSION:"start_editing_session",END_EDITING_SESSION:"end_editing_session",START_SHARE_SHEET_SESSION:"start_share_sheet_session",END_SHARE_SHEET_SESSION:"end_share_sheet_session",START_EFFECTS_TRAY_SESSION:"start_effects_tray_session",END_EFFECTS_TRAY_SESSION:"end_effects_tray_session",START_GALLERY_SESSION:"start_gallery_session",END_GALLERY_SESSION:"end_gallery_session",START_DOODLE_SESSION:"start_doodle_session",END_DOODLE_SESSION:"end_doodle_session",START_TEXT_SESSION:"start_text_session",END_TEXT_SESSION:"end_text_session",CAMERA_BUTTON_IN_FEED_IMPRESSION:"camera_button_in_feed_impression",TAP_PRECAPTURE_AUDIO_MUTE_BUTTON:"tap_precapture_audio_mute_button",TAP_AUDIO_MUTE_BUTTON:"tap_audio_mute_button",TAP_MIRROR_ASSET_BUTTON:"tap_mirror_asset_button",TAP_ROTATE_BUTTON:"tap_rotate_button",NO_EFFECTS:"no_effects",CHANGE_CATEGORY:"change_category",START_STICKER_SESSION:"start_sticker_session",END_STICKER_SESSION:"end_sticker_session",START_LOCATION_PICKER_SESSION:"start_location_picker_session",END_LOCATION_PICKER_SESSION:"end_location_picker_session",STICKER_SELECTED:"sticker_selected",STICKER_LOCATION_SEARCH_BAR_ENTERS:"sticker_location_search_bar_enters",STICKER_ADJUSTED:"sticker_adjusted",STICKER_DELETED:"sticker_deleted",CHANGE_STICKER_STYLE:"change_sticker_style",EFFECT_NOT_AVAILABLE:"effect_not_available",INTER_EFFECT_LINK_REQUEST:"inter_effect_link_request",INTER_EFFECT_LINK_SUCCESS:"inter_effect_link_success",INTER_EFFECT_LINK_FAIL:"inter_effect_link_fail",POST_AS_PAGE_DIALOG:"post_as_page_dialog",POST_AS_PAGE_CONFIRM:"post_as_page_confirm",POST_AS_PAGE_DISMISS:"post_as_page_dismiss",CHANGE_SATP_STYLE:"change_satp_style",START_TEXT_MODE_SESSION:"start_text_mode_session",END_TEXT_MODE_SESSION:"end_text_mode_session",EFFECT_TEXT_START_EDIT:"effect_text_start_edit",LAST_SESSION_CRASHED:"last_session_crashed",TAP_SETTINGS_BUTTON:"tap_settings_button",CAMERA_CAPTURE_ATTEMPTED:"camera_capture_attempted",CHANGE_CAPTURE_MODE:"change_capture_mode",START_NAME_PICKER_SESSION:"start_name_picker_session",END_NAME_PICKER_SESSION:"end_name_picker_session",START_GIF_SESSION:"start_gif_session",END_GIF_SESSION:"end_gif_session",BLANK_EFFECTS_TRAY_IMPRESSION:"blank_effects_tray_impression",BLANK_CATEGORY_IMPRESSION:"blank_category_impression",EMPTY_CATEGORIES_SERVER_RESPONSE:"empty_categories_server_response",EMPTY_FIRST_PAGE_IN_CATEGORY_SERVER_RESPONSE:"empty_first_page_in_category_server_response",DELETE_TEXT:"delete_text",ADJUST_TEXT:"adjust_text",CHANGE_TEXT_ALIGNMENT:"change_text_alignment",CHANGE_TEXT_BLOCK:"change_text_block",TEXT_FONT_SELECTED:"text_font_selected",CHANGE_TEXT_COLOR:"change_text_color",MULTI_GALLERY_SELECT:"multi_gallery_select",MULTI_GALLERY_DESELECT:"multi_gallery_deselect",DOODLE_BRUSH_TYPE_SELECTED:"doodle_brush_type_selected",DOODLE_COLOR_SELECTED:"doodle_color_selected",DOODLE_SIZE_SELECTED:"doodle_size_selected",UNDO_DOODLE:"undo_doodle",ADD_DOODLE:"add_doodle",LOADING_IMPRESSION:"loading_impression",LOADING_IMPRESSION_END:"loading_impression_end",VIEWING_IMPRESSION:"viewing_impression",VIEWING_IMPRESSION_END:"viewing_impression_end",DELETE_MEDIA_IN_COMPOSER:"delete_media_in_composer",POST_MULTIMEDIA:"post_multimedia",EFFECT_ENTER_ADJUSTMENT:"effect_enter_adjustment",EFFECT_EXIT_ADJUSTMENT:"effect_exit_adjustment"})}),null);
__d("ReactComposerPromptsLoggingActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_SELECTED_MEME:null},"ReactComposerPromptsLoggingActionTypes")}),null);
__d("XReactFeedComposerXPromptDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/prompts/dismiss/",{user_action:{type:"Enum",enumType:1},prompt_id:{type:"String"},prompt_type:{type:"String"},prompt_tracking_string:{type:"String"},prompt_state:{type:"String"},composer_session_id:{type:"String"}})}),null);
__d("ReactComposerPromptsLoggingStore",["AsyncRequest","ComposerXSessionIDs","MemePickerLogger","PromptsInteractionsEventNames","ReactComposerActionTypes","ReactComposerPromptsLoggingActionTypes","ReactComposerPromptsStore","ReactComposerStoreBase","ReactComposerTaggerStore","ReactComposerTaggerType","XReactFeedComposerXPromptDismissController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){return{}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){"use strict";switch(k.type){case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerPromptsLoggingStore1(k);break;case c("ReactComposerPromptsLoggingActionTypes").SET_SELECTED_MEME:this.$ReactComposerPromptsLoggingStore2(k);break;default:}};j.prototype.$ReactComposerPromptsLoggingStore1=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.$ReactComposerPromptsLoggingStore3(l);m&&this.$ReactComposerPromptsLoggingStore4(m,l);var n=this.$ReactComposerPromptsLoggingStore5(l);if(n)c("MemePickerLogger").logMemePosted(n)};j.prototype.$ReactComposerPromptsLoggingStore3=function(k){"use strict";if(this.$ReactComposerPromptsLoggingStore5(k))return c("PromptsInteractionsEventNames").POST_PROMPT;if(c("ReactComposerPromptsStore").getMinutiaeData(k))if(this.$ReactComposerPromptsLoggingStore6(k))return c("PromptsInteractionsEventNames").POST_WITHOUT_PROMPT;else return c("PromptsInteractionsEventNames").POST_PROMPT;return null};j.prototype.$ReactComposerPromptsLoggingStore6=function(k){"use strict";var l=c("ReactComposerPromptsStore").getMinutiaeData(k);if(!l)return false;return this.$ReactComposerPromptsLoggingStore7(k,l)||this.$ReactComposerPromptsLoggingStore8(k,l)};j.prototype.$ReactComposerPromptsLoggingStore7=function(k,l){"use strict";var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").ACTIVITY),n=l[c("ReactComposerTaggerType").ACTIVITY];if(!n||!n.action||!n.object)return false;if(!m||!m.action||!m.object)return true;return m.action.getUniqueID()!==n.action.getUniqueID()||m.object.getUniqueID()!==n.object.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore8=function(k,l){"use strict";var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").LOCATION),n=l[c("ReactComposerTaggerType").LOCATION];if(!n||!n.place)return false;if(!m||!m.place)return true;return m.place.getUniqueID()!==n.place.getUniqueID()};j.prototype.$ReactComposerPromptsLoggingStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","selectedMeme"]),m=l[0],n=l[1],o=this.getComposerData(m);o.selectedMeme=n};j.prototype.$ReactComposerPromptsLoggingStore5=function(k){"use strict";return this.getComposerData(k).selectedMeme};j.prototype.$ReactComposerPromptsLoggingStore4=function(event,k){"use strict";var l=c("ReactComposerPromptsStore").getPromptData(k);if(!l)return;new(c("AsyncRequest"))().setURI(c("XReactFeedComposerXPromptDismissController").getURIBuilder().getURI()).setData({user_action:event,prompt_id:l.promptID,prompt_type:l.promptType,prompt_tracking_string:l.trackingString,composer_session_id:c("ComposerXSessionIDs").getSessionID(k)}).send()};f.exports=new j()}),null);
__d("ReactComposerStatusPrompt.react",["Arbiter","DOMContainer.react","React","ReactComposerContextTypes","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPromptsActions","ReactComposerPromptsStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerPromptsLoggingStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPromptsLoggingStore");var h=c("React").createClass({displayName:"ReactComposerStatusPrompt",_prefillSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerPromptsStore"))],statics:{calculateState:function i(j,k){return{promptXHP:c("ReactComposerPromptsStore").getPromptXHP(j)}}},getDefaultProps:function i(){return{hidePrompt:false}},componentWillMount:function i(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill)},componentWillUnmount:function i(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},render:function i(){if(this.props.hidePrompt||!this.state.promptXHP)return null;return c("React").createElement(c("DOMContainer.react"),null,this.state.promptXHP)},_handlePrefill:function i(){var j=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"prompt");if(j)c("ReactComposerPromptsActions").setPromptXHP(this.context.composerID,j)}});f.exports=h}),null);
__d("ShareDialogTagSummary.react",["cx","Arbiter","AsyncRequest","immutable","Parent","React","emptyFunction","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=true;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={socialText:null},this.$ShareDialogTagSummary1=undefined,this.$ShareDialogTagSummary2=undefined,this.$ShareDialogTagSummary4=function(s){this.setState({socialText:s.getPayload().rendered})}.bind(this),this.$ShareDialogTagSummary5=function(s){__p&&__p();var t=s.target;if(c("Parent").byClass(t,"withToken"))this.props.withTokenClick();else if(c("Parent").byClass(t,"placeToken"))this.props.placeTokenClick();else if(c("Parent").byClass(t,"og_composer_object")){var u=this.props.taggerData;if(!u.get("action")&&!u.get("object")){if(u.get("politicalRepresentativeInfo").politicalRepresentative)this.props.politicalRepresentativeClick();else if(u.get("tagEventData").eventID)this.props.tagEventClick()}else this.props.ogObjectClick()}else if(!c("Parent").byClass(t,"ogPickerIcon"))this.props.onTagSummaryClick()}.bind(this),o}m.prototype.componentWillMount=function(){"use strict";this.$ShareDialogTagSummary1=c("Arbiter").subscribe("composer/ogIconPickerOpened",function(event,n){l=false});this.$ShareDialogTagSummary3(this.props)};m.prototype.componentWillUnmount=function(){"use strict";if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort()};m.prototype.componentWillReceiveProps=function(n){"use strict";if(!this.props.taggerData.equals(n.taggerData))this.$ShareDialogTagSummary3(n)};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_4zq4");return c("React").createElement("div",{className:n,onMouseDown:this.$ShareDialogTagSummary5,dangerouslySetInnerHTML:this.state.socialText})};m.prototype.$ShareDialogTagSummary3=function(n){"use strict";__p&&__p();if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();var o=n.taggerData,p=o.get("people"),q=o.get("place"),r=o.get("action"),s=o.get("actionIconID"),t=o.get("object"),u=o.get("products"),v=o.get("sponsors"),w=o.get("politicalRepresentativeInfo"),x=o.get("issues"),y=o.get("tagEventData"),z=p.filter(function(E){return!this.props.peopleToExclude.has(E.getUniqueID())}.bind(this));if(!(z&&z.length>0)&&!q&&!(r&&t)&&!(u&&u.length>0)&&!(v&&v.sponsors.length>0)&&!w.politicalRepresentative&&!(x&&x.length>0)&&!(y&&y.eventID)){if(this.state.socialText)this.setState({socialText:null});return}var A={};if(z)A.people=z.map(function(E){return E.getUniqueID()});if(q){A.place=q.getTitle();A.placeID=q.getUniqueID()}if(u)A.productIDs=u.map(function(E){return E.getUniqueID()});if(v){var B=c("ifRequired")("BrandedContentSponsorRelationship",function(E){return v.sponsorRelationship===E.PRESENTED_BY},function(){return false});if(!B)A.sponsorIDs=v.sponsors.map(function(E){return E.getUniqueID()})}if(x)A.issueIDs=x.map(function(E){return E.getUniqueID()});if(r&&t){A.actionID=r.getUniqueID();var C=t.getUniqueID(),D=t.getTitle();if(!C||C===D)A.objectStr=D;else A.objectID=C}else if(w.politicalRepresentative)c("ifRequired")("ContactYourRepresentativeConsts",function(E){A.actionID=E.composer_action_id;A.objectID=w.politicalRepresentative.getUniqueID()});else if(y&&y.eventID)c("ifRequired")("TagEventSproutConsts",function(E){A.actionID=E.composer_action_id;A.objectID=y.eventID});if(s)A.actionIconID=s;A.iconPickerOpened=l!==true;this.$ShareDialogTagSummary2=new(c("AsyncRequest"))();this.$ShareDialogTagSummary2&&this.$ShareDialogTagSummary2.setURI("/ajax/metacomposer/social_text.php").setData(A).setHandler(this.$ShareDialogTagSummary4).send()};m.propTypes={ogObjectClick:k.func.isRequired,onTagSummaryClick:k.func.isRequired,peopleToExclude:k.instanceOf(c("immutable").Set).isRequired,placeTokenClick:k.func.isRequired,politicalRepresentativeClick:k.func.isRequired,tagEventClick:k.func.isRequired,taggerData:k.instanceOf(c("immutable").Map).isRequired,withTokenClick:k.func.isRequired};m.defaultProps={peopleToExclude:c("immutable").Set(),ogObjectClick:c("emptyFunction"),onTagSummaryClick:c("emptyFunction"),placeTokenClick:c("emptyFunction"),politicalRepresentativeClick:c("emptyFunction"),tagEventClick:c("emptyFunction"),withTokenClick:c("emptyFunction")};f.exports=m}),null);
__d("ReactComposerTaggerSummaryContainer.react",["cx","Arbiter","immutable","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactDOM","ShareDialogTagSummary.react","containsNode"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").createClass({displayName:"ReactComposerTaggerSummaryContainer",_ogSubscription:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggersData(k),n=m[c("ReactComposerTaggerType").PEOPLE],o=m[c("ReactComposerTaggerType").LOCATION],p=m[c("ReactComposerTaggerType").ACTIVITY],q=o?o.place:null,r=m[c("ReactComposerTaggerType").PRODUCT],s=m[c("ReactComposerTaggerType").SPONSOR],t=m[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE],u=m[c("ReactComposerTaggerType").ISSUE_TAG],v=m[c("ReactComposerTaggerType").TAG_EVENT];return{people:n,place:q,activity:p,products:r,sponsors:s,politicalRepresentativeInfo:t,issues:u,tagEventData:v}}},componentWillMount:function j(){this._ogSubscription=c("Arbiter").subscribe("composer/ogCustomIconSelected",function(event,k){if(!c("containsNode")(c("ReactDOM").findDOMNode(this.refs.taggerSummary),k.triggerElement))return;var l=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY)||{};l.actionIconID=k.icon_id;l.actionIconURI=k.iconURI;c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").ACTIVITY,l)}.bind(this))},componentWillUnmount:function j(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null}},render:function j(){return c("React").createElement("div",{className:"_vww","data-testid":"tagger-summary"},c("React").createElement(c("ShareDialogTagSummary.react"),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c("immutable").Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,politicalRepresentativeClick:this._onPoliticalRepresentativeClick,tagEventClick:this._onTagEventClick,ref:"taggerSummary",taggerData:c("immutable").Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products,sponsors:this.state.sponsors,politicalRepresentativeInfo:this.state.politicalRepresentativeInfo,issues:this.state.issues,tagEventData:this.state.tagEventData}),withTokenClick:this._withTokenClick}))},_withTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_PEOPLE,c("ReactComposerTaggerType").PEOPLE)},_placeTokenClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_LOCATION,c("ReactComposerTaggerType").LOCATION)},_ogObjectClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_MINUTIAE,c("ReactComposerTaggerType").ACTIVITY)},_onTagSummaryClick:function j(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_ROW)},_onPoliticalRepresentativeClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE)},_onTagEventClick:function j(){c("ReactComposerTaggerActions").selectTagger(this.context.composerID,c("ReactComposerLoggingName").TAGGER_SUMMARY_TAG_EVENT,c("ReactComposerTaggerType").TAG_EVENT)}});f.exports=i}),null);
__d("ReactComposerStatusAttachment.react",["cx","Arbiter","ComposerEntryPointRef","React","ReactComposerAttachmentPreviewContainer.react","ReactComposerAttachmentPreviewErrorBoundary.react","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerAudienceSelectorContainer.react","ReactComposerContextTypes","ReactComposerDragDropPromptContainer.react","ReactComposerEvents","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerPostButtonContainer.react","ReactComposerProfilePhotoBlock.react","ReactComposerSessionMetricsActions","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react","ReactComposerStatusPrompt.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerSummaryPlaceholder.react","ReactComposerTaggerType","ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule","ReactComposerFundraiserAttachmentContainerGated","XUISpinner.react","emptyFunction","ReactComposerStatusActions","ReactComposerPrefillMentionsInput","DraftModifier","EditorState","ReactInputSelection","SelectionState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerTimelineAudienceSelectorNextButtonContainerGatedModule").module,l=c("ReactComposerFundraiserAttachmentContainerGated").module;c("ReactComposerStatusActions");c("ReactComposerPrefillMentionsInput");c("DraftModifier");c("EditorState");c("ReactInputSelection");c("SelectionState");i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerStatusAttachment1=null,this.$ReactComposerStatusAttachment3=function(s){c("ReactComposerSessionMetricsActions").keystroke(this.context.composerID)}.bind(this),this.$ReactComposerStatusAttachment4=function(s){c("ReactComposerSessionMetricsActions").paste(this.context.composerID)}.bind(this),o}m.prototype.componentDidMount=function(){if(this.props.isActive)this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();if(this.context.gks&&!this.context.gks.addAnyPostToAlbum)c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,null)};m.prototype.componentWillUnmount=function(){this.$ReactComposerStatusAttachment1&&this.$ReactComposerStatusAttachment1.release()};m.prototype.$ReactComposerStatusAttachment2=function(){return k&&this.context.composerType===c("ComposerEntryPointRef").TIMELINE&&this.props.config.targetData.viewerIsTarget?k:this.props.postButtonModule};m.prototype.render=function(){__p&&__p();var n=void 0,o=this.context.gks&&this.context.gks.isSproutsComposer;if(this.props.isActive||this.props.config.showExpandedComposer)n=c("React").createElement(c("ReactComposerStatusFooterContainer.react"),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,mediaAcceptParam:this.props.config.mediaAcceptParam,postButtonLabel:this.props.postButtonLabel?this.props.postButtonLabel:undefined,postButtonModule:this.$ReactComposerStatusAttachment2(),prefillConfig:this.props.prefillConfig,taggersConfig:this.props.taggersConfig?this.props.taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData,weakMention:this.props.weakMention});var p=this.props.isActive?c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null):c("React").createElement(c("ReactComposerTaggerSummaryPlaceholder.react"),null),q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],r=q.multilingualStatus,s=q.multilingualStatus&&this.props.isActive?c("React").createElement(r,null):null,t=q.markdownPreviewAttachment,u=null;if(t&&this.props.isActive){var v=t.container;u=c("React").createElement(v,{prettify:t.prettify,isMarkdownForInternalEmployee:t.isMarkdownForInternalEmployee})}var w=q.donateButtonConfig,x=null;if(w){var y=w.donateButtonContainer;x=c("React").createElement(y,{charityName:w.charityName,fundraiserCampaignId:w.fundraiserCampaignId})}var z=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,onChange:this.props.onMentionsInputChange,onFocus:this.props.onFocus,onPasteFiles:this.props.onPasteFiles,handlePastedText:this.props.handlePastedText,onPostIntent:this.props.onPostIntent,placeholder:this.props.placeholder,prefillConfig:this.props.prefillConfig,ref:"mentionsInput"}),A=this.props.config.taggersConfig,B=null;if(A&&A[c("ReactComposerTaggerType").FORMATTED_TEXT]&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].enabled&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats&&A[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule){var C=A[c("ReactComposerTaggerType").FORMATTED_TEXT].containerModule;B=c("React").createElement(C,{autoOpen:A[c("ReactComposerTaggerType").FORMATTED_TEXT].autoOpen,badgingEnabled:A[c("ReactComposerTaggerType").FORMATTED_TEXT].badgingEnabled,defaultFormat:A[c("ReactComposerTaggerType").FORMATTED_TEXT].defaultFormat,fixAspectRatio:A[c("ReactComposerTaggerType").FORMATTED_TEXT].fixAspectRatio,maxNewlines:A[c("ReactComposerTaggerType").FORMATTED_TEXT].maxNewlines,noSproutDesign:A[c("ReactComposerTaggerType").FORMATTED_TEXT].noSproutDesign,statusAttachmentActive:this.props.isActive,shouldAutoOpenWhenUserStartsTyping:A[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldAutoOpenWhenUserStartsTyping,shouldUseNewComposerPickerDesign:A[c("ReactComposerTaggerType").FORMATTED_TEXT].shouldUseNewComposerPickerDesign,stickyStylesEnabled:A[c("ReactComposerTaggerType").FORMATTED_TEXT].stickyStylesEnabled,textFormats:A[c("ReactComposerTaggerType").FORMATTED_TEXT].textFormats,textLengthLimit:A[c("ReactComposerTaggerType").FORMATTED_TEXT].textLengthLimit})}var D=c("React").createElement("div",{onKeyDown:this.$ReactComposerStatusAttachment3,onPaste:this.$ReactComposerStatusAttachment4,role:"presentation"},z,s);if(q.showProfilePic){var E=q.redirect?c("emptyFunction"):function(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this);D=c("React").createElement(c("ReactComposerProfilePhotoBlock.react"),{profileName:q.profileName,profilePhotoBadge:q.customProfilePhoto,profilePicSrc:q.profilePicSrc,profileURI:q.profileURI,profileDialogURI:q.profileDialogURI,currentProfileBadgeURI:q.currentProfileBadgeURI,profileBadgeNUX:q.customProfilePhotoNux,onClick:E},D)}var F=null;if(q.topicFeedsTagger&&this.props.isActive){var G=q.topicFeedsTagger,H=G.container;F=c("React").createElement(H,{composerFeedID:G.composerFeedID,photoAutoTaggingDelay:G.photoAutoTaggingDelay,photoPollingDuration:G.photoPollingDuration,photoPollingInterval:G.photoPollingInterval,showNux:G.showNux,textAutoTaggingDelay:G.textAutoTaggingDelay,topicLimit:G.topicLimit,darkLaunch:G.darkLaunch})}var I=null;if(q.groupPostTagsTagger&&this.props.isActive){var J=q.groupPostTagsTagger,K=J.container;I=c("React").createElement(K,{tagsLimit:J.tagsLimit,groupID:J.groupID,showNux:J.showNux,postTag:J.postTag})}var L=this.props.config.shouldShowPreviewSpinner?c("React").createElement(c("ReactComposerAttachmentPreviewContainer.react"),{spinner:c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})}):c("React").createElement(c("ReactComposerAttachmentPreviewErrorBoundary.react"),null,c("React").createElement(c("ReactComposerAttachmentPreviewContainer.react"),null)),M=null;if(this.props.olpDetected&&q.offerLikePostUpsellInlineBanner){var N=q.offerLikePostUpsellInlineBanner;M=c("React").createElement(N,{actorID:this.context.actorID,composerID:this.context.composerID,text:this.props.olpText||"",pageID:q.pageID,photoIDs:[]})}return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("ReactComposerDragDropPromptContainer.react"),{root:this,config:this.props.config}),this.$ReactComposerStatusAttachment5(),c("React").createElement("div",{className:(q.shouldScrollComposerContent&&o?"_1w_g":"")+" _i-o"},c("React").createElement("div",{className:"_3eny"},D,M,this.props.children,B,L,l?c("React").createElement(l,null):null,p,c("React").createElement(c("ReactComposerStatusPrompt.react"),{hidePrompt:this.props.isActive}),u,c("React").createElement("div",{className:"_3enz _3eo2"}))),x,F,I,n)};m.prototype.$ReactComposerStatusAttachment5=function(){var n=this.context.gks&&this.context.gks.topPostButton,o=this.context.gks&&this.context.gks.isSproutsComposer;if(!(n&&o))return null;return c("React").createElement("div",{className:"_4y7p"},this.$ReactComposerStatusAttachment6())};m.prototype.$ReactComposerStatusAttachment6=function(){var n=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=n.footerBackground?n.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",p=c("React").createElement(c("ReactComposerFooterContainer.react"),{background:o},c("React").createElement("div",{className:"clearfix"},c("React").createElement("div",{className:"rfloat"},this.$ReactComposerStatusAttachment7())));return p};m.prototype.$ReactComposerStatusAttachment7=function(){var n=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=this.props.config.audienceXHP?c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.config.audienceXHP,viewerIsTarget:this.props.config.targetData.viewerIsTarget}):null,p=this.props.postButtonModule||c("ReactComposerPostButtonContainer.react"),q=c("React").createElement(p,{config:this.props.config});return c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.additionalFooterActions,o,q)};m.contextTypes=c("ReactComposerContextTypes");f.exports=m}),null);
__d("ReactComposerEventAttachmentActions",["ReactComposerDispatcher","ReactComposerEventAttachmentActionType","ReactComposerEventAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerEventAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchEventAttachment=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT,eventID:j})};h.prototype.setMarkup=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,eventID:j,markup:k,type:c("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerStatusAttachmentFocusActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({FOCUS_STATUS_INPUT:null,DO_NOT_FOCUS_STATUS_INPUT:null})}),null);
__d("ReactComposerStatusAttachmentFocusStore",["ReactComposerStatusAttachmentFocusActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){var k=void 0;i.constructor.call(this,function(){return{isInputFocused:false}},function(l){switch(l.type){case c("ReactComposerStatusAttachmentFocusActionType").FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore1(l);break;case c("ReactComposerStatusAttachmentFocusActionType").DO_NOT_FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore2(l);break}});k=this}j.prototype.isInputFocused=function(k){return this.getComposerData(k).isInputFocused};j.prototype.$ReactComposerStatusAttachmentFocusStore1=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isInputFocused=true;this.emitChange(l)};j.prototype.$ReactComposerStatusAttachmentFocusStore2=function(k){var l=k.composerID,m=this.getComposerData(l);m.isInputFocused=false;this.emitChange(l)};f.exports=new j()}),null);
__d("ReactComposerStatusAttachmentContainer.react",["Bootloader","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLocationAttachmentActions","ReactComposerEventAttachmentActions","ReactComposerLoggingName","ReactComposerPhotoUploader","ReactComposerScrapedAttachmentActions","ReactComposerStatusAttachment.react","ReactComposerStatusAttachmentFocusStore","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerEntryPointRef","FluxContainer","URLScraper","QE2Logger","React","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){__p&&__p();var k,l;"use strict";for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$ReactComposerStatusAttachmentContainer2=false,this.state={olpDetected:false,olpText:null,placeholder:""},this.$ReactComposerStatusAttachmentContainer3=function(){if(c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID)!==c("ReactComposerAttachmentType").STATUS)return;c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true);var p=c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);if(p!==c("ReactComposerTaggerType").FORMATTED_TEXT)c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").INLINE_COMPOSER)}.bind(this),this.$ReactComposerStatusAttachmentContainer4=function(p){__p&&__p();var q=p.getCurrentContent().getPlainText(),r=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(this.context.composerType===c("ComposerEntryPointRef").PAGES_FEED)c("Bootloader").loadModules(["SalesPromoUtils.react"],function(s){if(s.checkIsOLP(q)){var t=r.offerLikePostUpsell,u=t.indexOf("inline")!==-1;if(u)this.setState({olpDetected:true,olpText:q});if(t==="none"||u)c("QE2Logger").logExposureForPage("orgoff_offer_creation",r.pageID)}else this.setState({olpText:q})}.bind(this),"ReactComposerStatusAttachmentContainer.react");if(!c("URLScraper").trigger(q))c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,q,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER);if(!this.$ReactComposerStatusAttachmentContainer2&&q.length>0&&c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null){c("ifRequired")("ReactComposerFormattedTextStore",function(s){if(s.getShouldAutoOpenWhenUserStartsTyping(this.context.composerID)){c("ifRequired")("ReactComposerFormattedTextActions",function(t){t.setShouldFadeInPicker(this.context.composerID,true)}.bind(this));c("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").FORMATTED_TEXT)}}.bind(this));this.$ReactComposerStatusAttachmentContainer2=true}}.bind(this),this.$ReactComposerStatusAttachmentContainer5=function(p){c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").MEDIA,true);c("ReactComposerStatusUtils").uploadPastedFile(this.context.composerID,p[0],this.$ReactComposerStatusAttachmentContainer1)}.bind(this),this.$ReactComposerStatusAttachmentContainer6=function(p,q,r){var s=c("ReactComposerStatusStore").getEditorState(this.context.composerID),t=s?s.getCurrentContent().getPlainText():"",u=c("URLScraper").match(p)||t.concat(p);c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,u,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").LINK_PASTED);return false}.bind(this),l}j.getStores=function(){"use strict";return[c("ReactComposerAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStatusAttachmentFocusStore"),c("ReactComposerTaggerStore")]};j.calculateState=function(k,l,m){"use strict";__p&&__p();var n=m.composerID,o=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(n),p=c("ReactComposerStatusAttachmentFocusStore").isInputFocused(n),q=c("ReactComposerStatusStore").getMentions(n),r=null;if(q)for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s)&&q[s].isWeak==true){r=q[s];break}var t=c("ReactComposerTaggerStore").getTaggerData(n,c("ReactComposerTaggerType").FUN_FACT),u=t&&t.promptID?l.config.taggersConfig[c("ReactComposerTaggerType").FUN_FACT].placeholder:l.placeholder;return{isActive:o||p,olpDetected:k&&k.olpDetected,olpText:k&&k.olpText,placeholder:u,weakMention:r}};j.prototype.componentWillMount=function(){"use strict";var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];this.$ReactComposerStatusAttachmentContainer1=new(c("ReactComposerPhotoUploader"))(this.context,k.photoLimit,{disableFaceRecognition:k.disableFaceboxTagger});var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];if(l)if(l.defaultMarkdownOn){var m=c("ReactComposerTaggerStore").hasMarkdown(this.context.composerID);c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,c("ReactComposerTaggerType").MARKDOWN,m?null:{isMarkdown:true})}};j.prototype.componentDidMount=function(){"use strict";__p&&__p();var k=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];c("ReactComposerScrapedAttachmentActions").enabled(this.context.composerID,k.canScrapeShare);c("ReactComposerLocationAttachmentActions").enabled(this.context.composerID,!!k.canAttachLocation);c("ReactComposerEventAttachmentActions").enabled(this.context.composerID,k.canAttachEvent);if(this.props.scrapeLinkOnInit){var l=c("ReactComposerStatusStore").getMessageText(this.context.composerID);if(l)c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,l,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)}};j.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerStatusAttachment.react"),babelHelpers["extends"]({},this.props,this.state,{config:this.props.config,onFocus:this.$ReactComposerStatusAttachmentContainer3,onMentionsInputChange:this.$ReactComposerStatusAttachmentContainer4,onPasteFiles:this.$ReactComposerStatusAttachmentContainer5,handlePastedText:this.$ReactComposerStatusAttachmentContainer6,placeholder:this.state.placeholder,postButtonModule:this.props.postButtonModule}))};j.defaultProps={scrapeLinkOnInit:true};j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withProps:true,withContext:true})}),null);
__d("ReactComposerStatusEagerAttachment.react",["fbt","Arbiter","React","ReactComposerAttachmentActions","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerPrefillConfig","ReactComposerStatusActions","ReactComposerStatusAttachmentContainer.react","ReactComposerTaggerActions"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusEagerAttachment",mixins:[c("ReactComposerAttachmentBodyMixin")()],propTypes:{config:c("ReactComposerConfig").isRequired,postButtonModule:i.func.isRequired,selected:i.bool,prefillConfig:c("ReactComposerPrefillConfig")},getDefaultProps:function k(){return{placeholder:h._("What's on your mind?")}},statics:{attachmentID:c("ReactComposerAttachmentType").STATUS},componentWillMount:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].bootstrapData;c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);c("ReactComposerStatusActions").setTypeaheadReporter(this.context.composerID,l.typeaheadReporter);c("ReactComposerAttachmentActions").setInitialized(this.context.composerID,c("ReactComposerAttachmentType").STATUS)},componentDidMount:function k(){c("ReactComposerTaggerActions").updateTaggersSource(this.context.composerID,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].bootstrapData.taggersSource||{});c("Arbiter").inform("ReactComposerStatusEagerAttachment/mounted",this.context.composerID,c("Arbiter").BEHAVIOR_STATE)},renderX:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentContainer.react"),this.props)}});f.exports=j}),null);