if (self.CavalryLogger) { CavalryLogger.start_js(["2WiIB"]); }

__d("OGAggregationBling",["cx","fbt","React","NumberFormat"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";__p&&__p();var m=[];if(this.props.likes)m.push(c("React").createElement("span",{className:"_14a_",key:"likes"},c("React").createElement("i",{className:"_4fx"}),c("React").createElement("span",null,c("NumberFormat").formatInteger(this.props.likes)),c("React").createElement("span",{className:"accessible_elem"},i._("likes"))));if(this.props.comments)m.push(c("React").createElement("span",{className:"_14a_",key:"comments"},c("React").createElement("i",{className:"_4fy"}),c("React").createElement("span",null,c("NumberFormat").formatInteger(this.props.comments)),c("React").createElement("span",{className:"accessible_elem"},i._("comments"))));else{var n=!(this.props.mini&&this.props.likes),o=!this.props.likes&&this.props.alwaysVisible,p="_14a_"+(n?" _4fz":"")+(o?" _55n8":"");m.push(c("React").createElement("span",{className:p,key:"comments"},c("React").createElement("i",{className:"_4fy"})))}return c("React").createElement("a",{className:"_4f-",href:"#",rel:"toggle"},m)};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("OGAggregationUFI",["csx","cx","DOM","CSS","OGAggregationBling","React","ReactDOM","UFICentralUpdates","UFIToplevelPagedCommentList","UFIConstants","UFIFeedbackTargets","UFILikeLink.react","UFIReactionTypes","UFIUserActions"],(function a(b,c,d,e,f,g,h,i){__p&&__p();function j(k,l,m){__p&&__p();this._root=k;this._id=l.ftentidentifier;this._source=l.source;this._mini=l.mini;this._alwaysVisible=l.alwaysvisible;this._bling=c("DOM").scry(this._root,"._4f-")[0];this._initializeLikeLink();c("UFICentralUpdates").handleUpdate(c("UFIConstants").UFIPayloadSourceType.INITIAL_SERVER,m);c("UFICentralUpdates").subscribe("feedback-updated",function(n,o){if(this._id in o.updates)this.render()}.bind(this));this.render()}Object.assign(j.prototype,{_initializeLikeLink:function k(){if(this._likeLink)throw new Error("OGAggregationUFI attempted to initialize the like link when the like link was already present");var l=c("DOM").scry(this._root,".like_link")[0];if(l){var m=document.createElement("span");l.parentNode.replaceChild(m,l);this._likeLink=m;m.appendChild(l)}},render:function k(){__p&&__p();c("UFIFeedbackTargets").getFeedbackTarget(this._id,function(l){__p&&__p();if(this._likeLink){var m=!l.hasviewerliked,n=function(event){c("UFIUserActions").changeReaction(this._id,m?c("UFIReactionTypes").LIKE:c("UFIReactionTypes").NONE,{source:this._source},event.target)}.bind(this),o=c("React").createElement(c("UFILikeLink.react"),{onClick:n,likeAction:m});c("ReactDOM").render(o,this._likeLink)}if(this._bling){var p=c("UFIToplevelPagedCommentList").getDisplayedCommentCountForFeedbackTargetID_UNSAFE(this._id);c("CSS").conditionClass(this._root,"_93n",this._mini&&(l.likecount||p));var q=c("React").createElement(c("OGAggregationBling"),{alwaysVisible:this._alwaysVisible,mini:this._mini,likes:l.likecount,comments:p});c("ReactDOM").render(q,this._bling)}}.bind(this))}});f.exports=j}),null);