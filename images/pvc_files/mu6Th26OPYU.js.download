if (self.CavalryLogger) { CavalryLogger.start_js(["c4joD"]); }

__d("ReactComposerJSONCollageLayoutData",[],(function a(b,c,d,e,f,g){f.exports={2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("CampfireCharacters",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({EMBED:"\ud83d\uddbc",PHOTO:"\ud83d\udcf7",VIDEO:"\ud83d\udcf9"});f.exports=h}),null);
__d("CampfireCommands",[],(function a(b,c,d,e,f,g){var h=Object.freeze({TOGGLE_LINK:"TOGGLE_LINK",SAVE_DRAFT:"SAVE_DRAFT"});f.exports=h}),null);
__d("calculateMenuTop",["DOMVector","Style"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=b.getSelection(),l=k.anchorNode,m=k.focusNode;if(l===null||m===null)return null;var n=i.getIsBackward()?m:l;while(n&&(!n.getAttribute||!n.getAttribute("data-block")))n=n.parentNode;if(!n)return null;var o=c("DOMVector").getElementPosition(n,"viewport").y,p=c("DOMVector").getElementPosition(j,"viewport").y,q=c("Style").getFloat(n,"paddingTop"),r=c("Style").getFloat(n,"lineHeight"),s=o+q+r/2;return Math.floor(s-p)}f.exports=h}),null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i={viewID:h.string.isRequired,selection:h.instanceOf(c("SelectionState")).isRequired,contextComponent:h.object.isRequired,mentionableEntries:h.array.isRequired,highlightedMentionable:h.instanceOf(c("SearchableEntry")),onMentionSelect:h.func.isRequired,onMentionHighlight:h.func.isRequired,onMentionRenderHighlight:h.func.isRequired};f.exports=i}),null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=false,j=c("Locale").isRTL(),k,l,m,n,o=5,p=c("React").createClass({displayName:"MentionsLayer",propTypes:babelHelpers["extends"]({},c("MentionResultsPropTypes"),{typeaheadView:h.func.isRequired,typeaheadViewProps:h.object,autoflip:h.bool,position:h.oneOf(["above","below"])}),getInitialState:function r(){return{bootloaded:i}},componentDidMount:function r(){if(!this.state.bootloaded)q(function(){this.isMounted()&&this.setState({bootloaded:true})}.bind(this))},_onMentionSelect:function r(s,t){t.preventDefault();this.props.onMentionSelect(s,t)},shouldComponentUpdate:function r(s,t){return this.state.bootloaded!==t.bootloaded||!c("areEqual")(this.props.mentionableEntries,s.mentionableEntries)||this.props.highlightedMentionable!==s.highlightedMentionable||this.props.characterOffset!==s.characterOffset},render:function r(){__p&&__p();if(!this.state.bootloaded)return null;var s=this.props.mentionableEntries,t=this.props.selection,u=t.isCollapsed()&&t.getHasFocus()&&s&&s.length,v=null,w=this.props.typeaheadViewProps,x=false;if(w&&w.positionAtContext)x=true;else if(u)v=n(this.props.characterOffset,j);var y={};if(this.props.autoflip){y.ContextualLayerAutoFlip=l;y.ContextualLayerUpdateOnScroll=m}var z=this.props.typeaheadView;return c("React").createElement(k,{shown:u,context:this.props.contextComponent,contextBounds:v,containerWidthMatchContext:x,offsetY:o,offsetX:this.props.offset,position:this.props.position||"below",behaviors:y,shouldSetARIAProperties:false},c("React").createElement("div",{"data-testid":"mentions-contextual-layer"},c("React").createElement(z,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:s||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight})))}});function q(r){c("Bootloader").loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(s,t,u,v){k=s;l=t;m=u;n=v;i=true;r()},"MentionsLayer.react")}f.exports=p}),null);
__d("MentionsTypeaheadViewItem.react",["cx","Badge.react","ImageBlock.react","React","TypeaheadViewItem","cssURL"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"MentionsTypeaheadViewItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},c("TypeaheadViewItem").propTypes,{ariaDescribedBy:i.string}),render:function k(){__p&&__p();var l=this.props.entry,m=l.getAuxiliaryData(),n=null;if(m)if(m.verified)n=c("React").createElement(c("Badge.react"),{type:"verified",size:"xsmall"});else if(m.nonCoworker)n=c("React").createElement(c("Badge.react"),{type:"work_non_coworker"});var o=l.getPhoto()?c("React").createElement("span",{className:"_5u93",style:{backgroundImage:c("cssURL")(l.getPhoto())}}):c("React").createElement("span",null),p=null;if(l.getSubtitle())p=c("React").createElement("div",{className:"_5u95"},l.getSubtitle());var q="_5u91"+(this.props.highlighted?" _5u92":"");return c("React").createElement("li",{role:"option",className:q,"aria-label":l.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},o,c("React").createElement("div",null,c("React").createElement("div",{className:"_5u94"},l.getTitle(),n),p)))}});f.exports=j}),null);
__d("GroupMentionsTypeaheadView.react",["cx","fbt","ix","Image.react","MentionsTypeaheadViewItem.react","React","uniqueID"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes,n=i._("No Results");k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={emptyMembersHeaderID:c("uniqueID")(),membersHeaderID:c("uniqueID")(),nonMembersHeaderID:c("uniqueID")()},this.$GroupMentionsTypeaheadView1=function(u,v){var w=u===this.props.highlightedEntry;return c("React").createElement(c("MentionsTypeaheadViewItem.react"),{key:u.getUniqueID(),ariaDescribedBy:v,entry:u,highlighted:w,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.$GroupMentionsTypeaheadView2})}.bind(this),this.$GroupMentionsTypeaheadView3=function(u){var v=u===this.props.highlightedEntry;return c("React").createElement(c("MentionsTypeaheadViewItem.react"),{key:u.getUniqueID(),entry:u,highlighted:v,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight})}.bind(this),this.$GroupMentionsTypeaheadView4=function(u){__p&&__p();var v=null;if(u.length)v=u.map(function(y,z){var A=z===0?this.state.membersHeaderID:null;return this.$GroupMentionsTypeaheadView1(y,A)}.bind(this));else v=[c("React").createElement("li",{className:"_2ph-",key:this.state.emptyMembersHeaderID,role:"option","aria-describedby":this.state.membersHeaderID,"aria-label":n},n)];var w=null;if(this.props.viewProps.member.aux)w=c("React").createElement("span",{className:"_1knr"}," \xb7 ",this.props.viewProps.member.aux);var x=[c("React").createElement("li",{key:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,w)];x.push.apply(x,v);return x}.bind(this),this.$GroupMentionsTypeaheadView5=function(u){__p&&__p();if(!u.length)return null;var v=null;if(this.props.viewProps.nonMember.aux)v=c("React").createElement("span",{className:"_1knr"}," \xb7 ",this.props.viewProps.nonMember.aux);var w=[c("React").createElement("li",{key:this.state.nonMembersHeaderID,className:"_1kns"},c("React").createElement(c("Image.react"),{src:j("75329"),className:"_1knt"}),this.props.viewProps.nonMember.title,v)];w.push.apply(w,u.map(function(x,y){var z=y===0?this.state.nonMembersHeaderID:null;return this.$GroupMentionsTypeaheadView1(x,z)}.bind(this)));return w}.bind(this),q}o.prototype.render=function(){"use strict";__p&&__p();var p=[],q=[],r=[];this.props.entries.forEach(function(v){var w=v.getAuxiliaryData(),x=w.renderType;if(x==="member")p.push(v);else if(x==="hashtag")r.push(v);else q.push(v)});var s="_5u8_"+(!p.length&&!q.length&&!r.length?" _5u90":""),t=p.length===0&&q.length===0&&r.length>0,u=t?this.props.entries.map(this.$GroupMentionsTypeaheadView3):this.$GroupMentionsTypeaheadView4(p).concat(this.$GroupMentionsTypeaheadView5(q));return c("React").createElement("ul",{className:s,role:"listbox",id:this.props.id},u)};o.propTypes={id:m.string,viewProps:m.object,highlightedEntry:m.object,entries:m.array.isRequired,onSelect:m.func.isRequired,onHighlight:m.func,onRenderHighlight:m.func};f.exports=o}),null);
__d("EmoticonSpan.react",["cx","DraftEntity","EmojiImageURL","EmoticonsList","React","SupportedFBEmoji"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.size,m=c("DraftEntity").get(this.props.entityKey).getData(),n=c("EmoticonsList").emoji[m.type],o=c("SupportedFBEmoji")[n]?c("EmojiImageURL").getFBEmojiURL(n,l):c("EmojiImageURL").getFBEmojiExtendedURL(n,l);return c("React").createElement("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+o+")",backgroundSize:l+"px "+l+"px",height:l+"px",width:l+"px"}},c("React").createElement("span",{className:"_ncl"},this.props.children))};function k(){i.apply(this,arguments)}k.defaultProps={size:16};f.exports=k}),null);
__d("HashtagSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5zk7",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("MentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_247o",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("WeakMentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("getHashtagRegex")();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length)}}f.exports=i}),null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],(function a(b,c,d,e,f,g){__p&&__p();var h;function i(){if(!h){var j=[{strategy:c("getEntityMatcher")(function(k){var l=k.getData();return k.getType()==="MENTION"&&l&&l.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")}];h=new(c("CompositeDraftDecorator"))(j)}return h}f.exports=i}),null);
__d("UFIBotsButtonImplQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"groupID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"groupID",type:"ID!"}],k=[{kind:"Literal",name:"named",value:"",type:"String"}],l=[{kind:"Literal",name:"first",value:15,type:"Int"}],m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},p={kind:"ScalarField",alias:null,name:"subtext",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"UFIBotsButtonImplQuery",id:"1582921211750883",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFIBotsButtonImplQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"InlineFragment",type:"Group",selections:[{kind:"LinkedField",alias:null,name:"group_mentions",storageKey:'group_mentions(named:"")',args:k,concreteType:"GroupMentioning",plural:false,selections:[{kind:"LinkedField",alias:null,name:"bot_section",storageKey:"bot_section(first:15)",args:l,concreteType:"GroupMentionsBotConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GroupMentionsBotEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[m,{kind:"InlineFragment",type:"Page",selections:[n,o]}]},p]}]}]}]}]}]},operation:{kind:"Operation",name:"UFIBotsButtonImplQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[q,n,{kind:"InlineFragment",type:"Group",selections:[{kind:"LinkedField",alias:null,name:"group_mentions",storageKey:'group_mentions(named:"")',args:k,concreteType:"GroupMentioning",plural:false,selections:[{kind:"LinkedField",alias:null,name:"bot_section",storageKey:"bot_section(first:15)",args:l,concreteType:"GroupMentionsBotConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GroupMentionsBotEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:false,selections:[q,m,n,{kind:"InlineFragment",type:"Page",selections:[o]}]},p]}]}]}]}]}]}}}();f.exports=h}),null);
__d("UFIBotsButtonImpl.react",["cx","fbt","Bootloader","FocusRelocator.react","Link.react","React","RelayFBEnvironment","RelayModern","SearchableEntry","createCancelableFunction","idx","UFIBotsButtonImplQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql,n=function n(){return c("UFIBotsButtonImplQuery.graphql")},o=null;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={locked:false,shown:false},this.$UFIBotsButtonImpl5=function(event){event.preventDefault();event.stopPropagation();this.setState({locked:false,shown:!this.state.locked?!this.state.shown:false})}.bind(this),this.$UFIBotsButtonImpl6=function(event){this.setState({locked:this.state.shown})}.bind(this),this.$UFIBotsButtonImpl8=function(v){this.setState({shown:false});this.props.onSelect(v)}.bind(this),this.$UFIBotsButtonImpl9=function(v){if(!v)this.setState({shown:false})}.bind(this),r}p.prototype.componentWillUnmount=function(){if(this.$UFIBotsButtonImpl1){this.$UFIBotsButtonImpl1.cancel();this.$UFIBotsButtonImpl1=null}};p.prototype.render=function(){__p&&__p();return c("React").createElement(l,{environment:c("RelayFBEnvironment"),query:n,variables:{groupID:this.props.groupID},render:function(q){__p&&__p();var r,s=q.error,t=q.props;if(s||!t)return null;var u=((r=t)!=null?(r=r.node)!=null?(r=r.group_mentions)!=null?(r=r.bot_section)!=null?r.edges:r:r:r:r)||[];if(u.length===0)return null;var v=u.map(function(w){var x,y,z,A=((x=w)!=null?(x=x.node)!=null?x.id:x:x)||null,B=((y=w)!=null?(y=y.node)!=null?y.name:y:y)||null,C=((z=w)!=null?(z=z.node)!=null?(z=z.profile_picture)!=null?z.uri:z:z:z)||"";if(!A||!B)return null;return new(c("SearchableEntry"))({uniqueID:A,photo:C,subtitle:w.subtext,title:B})}).filter(Boolean);return this.$UFIBotsButtonImpl4(v)}.bind(this)})};p.prototype.$UFIBotsButtonImpl4=function(q){var r=i._("Discover the Bots available"),s="UFICommentBotsIcon"+(this.state.shown?" UFICommentBotsIconActive":"");return c("React").createElement(c("FocusRelocator.react"),{from:this.$UFIBotsButtonImpl3,to:this.$UFIBotsButtonImpl2},c("React").createElement(c("Link.react"),{className:"_r1a _5f0v","aria-label":r,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":!this.state.shown?r:null,onClick:this.$UFIBotsButtonImpl5,onMouseDown:this.$UFIBotsButtonImpl6,linkRef:function(t){return this.$UFIBotsButtonImpl3=t}.bind(this),role:"button"},c("React").createElement("span",{className:s,ref:function(t){return this.$UFIBotsButtonImpl2=t}.bind(this)}),this.$UFIBotsButtonImpl7(q)))};p.prototype.$UFIBotsButtonImpl7=function(q){__p&&__p();if(!o){if(this.state.shown){this.$UFIBotsButtonImpl1=c("createCancelableFunction")(function(){this.forceUpdate()}.bind(this));c("Bootloader").loadModules(["BotsPicker.react"],function(r){o=r;if(this.$UFIBotsButtonImpl1){this.$UFIBotsButtonImpl1();this.$UFIBotsButtonImpl1=null}}.bind(this),"UFIBotsButtonImpl.react")}return null}return c("React").createElement(o,{bots:q,context:this.$UFIBotsButtonImpl3,groupID:this.props.groupID,onSelect:this.$UFIBotsButtonImpl8,onToggle:this.$UFIBotsButtonImpl9,shown:this.state.shown})};f.exports=p}),null);
__d("ComposerTargetData",[],(function a(b,c,d,e,f,g){function h(i,j,k,l){"use strict";this.targetID=i;this.targetSupportsMultiplePhotos=j;this.viewerIsTarget=k;this.targetSupportsMultiMedia=l}f.exports=h}),null);
__d("LitestandComposer",["Arbiter","Bootloader","ReactComposerEvents","ReactComposerIDGenerator","Run","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();var h=600,i={};function j(m,n,o){__p&&__p();c("Bootloader").loadModules(["Animation","ComposerXController","ComposerXMarauderLogger","DOM","LitestandStream"],function(p,q,r,s,t){__p&&__p();if(!t.isReady()){t.addReadyListener(function(){j(m,n,o)});return}if(!c("ReactComposerIDGenerator").isComposerID(m))q.reset(m);if(!t||!n)return;if(i[m]){s.insertAfter(i[m],n);var u=i[m].parentNode;if(u)u.removeChild(i[m]);delete i[m]}else s.prependContent(t.getStreamRoot(),n);new p(n).from("opacity",0).to("opacity",1).duration(h).go();r.logCompleted(m);o&&o()},"LitestandComposer")}var k={},l={initComposer:function m(n){__p&&__p();if(k[n])l.destructComposer(n);k[n]=new(c("SubscriptionsHandler"))();k[n].addSubscriptions(c("Arbiter").subscribe("LitestandComposer/publish",function(o,p){__p&&__p();if(p.composer_id===n)j(n,p.markup,function(){var q=p.markup;if(q){var r=q.id;if(!r){r="random_id_for_litestand_context_"+Math.random();q.id=r}c("Arbiter").inform("LitestandComposer/attachedToDOM",r)}})}),c("Arbiter").subscribe("LitestandComposer/publishTemp",function(o,p){if(p.composer_id===n)j(n,p.markup,function(){if(p.markup)i[n]=p.markup})}),c("Arbiter").subscribe(c("ReactComposerEvents").COMPOSER_UNMOUNT+n,l.destructComposer.bind(null,n)));c("Run").onLeave(l.destructComposer.bind(null,n))},destructComposer:function m(n){var o=k[n];if(o!=null){o.release();o=null;delete k[n]}}};f.exports=l}),null);
__d("WorkFeedComposerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:WorkFeedComposerLoggerConfig",this.$WorkFeedComposerTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:WorkFeedComposerLoggerConfig",this.$WorkFeedComposerTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$WorkFeedComposerTypedLogger1={};return this};h.prototype.updateData=function(j){this.$WorkFeedComposerTypedLogger1=babelHelpers["extends"]({},this.$WorkFeedComposerTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$WorkFeedComposerTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$WorkFeedComposerTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$WorkFeedComposerTypedLogger1=babelHelpers["extends"]({},this.$WorkFeedComposerTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={event:true,vc:true};f.exports=h}),null);
__d("XNotesUserEmbedsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notes/composer/embeds/",{original_src:{type:"String",required:true}})}),null);
__d("NotesEmbed.react",["cx","fbt","ActorURI","AsyncRequest","Keys","React","XNotesUserEmbedsController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={error:null,loading:false,src:""},this.$NotesEmbed1=function(){this.refs.src.focusInput()}.bind(this),this.$NotesEmbed2=function(){__p&&__p();if(this.state.loading)return;if(this.state.src.trim()===""){this.setState({error:"Please enter a URL."},this.$NotesEmbed1);return}var s=function(){var t=c("XNotesUserEmbedsController").getURIBuilder().setString("original_src",this.state.src).getURI();t=c("ActorURI").create(t,this.props.ownerID);new(c("AsyncRequest"))(t).setHandler(function(u){var v=u.getPayload(),w=v.embedData;this.props.onEmbed(w);this.props.onClose()}.bind(this)).setErrorHandler(function(u){var v=u.errorDescription;this.setState({error:v,loading:false},this.$NotesEmbed1)}.bind(this)).send()}.bind(this);this.setState({loading:true},s)}.bind(this),this.$NotesEmbed3=function(s){this.setState({error:null,src:s.target.value})}.bind(this),this.$NotesEmbed4=function(s){switch(s.which){case c("Keys").RETURN:s.preventDefault();this.$NotesEmbed2()}}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";setTimeout(this.$NotesEmbed1,0)};m.prototype.render=function(){"use strict";var n=i._("Paste in the URL for the media you want to insert into your note...");return c("React").createElement("div",null,c("React").createElement(c("XUIDialogTitle.react"),null,i._("Embed photos, videos, and more")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUITextInput.react"),{className:"_ipd",onChange:this.$NotesEmbed3,onKeyDown:this.$NotesEmbed4,placeholder:n,ref:"src",xuiError:this.state.error}),c("React").createElement(c("XUIText.react"),{className:"_ipe",display:"block"},i._("We currently support embedding from Facebook, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine, and YouTube."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.state.loading,label:i._("Insert"),onClick:this.$NotesEmbed2,use:"confirm"})))};m.propTypes={onClose:l.func.isRequired,onEmbed:l.func.isRequired,ownerID:l.string.isRequired};f.exports=m}),null);
__d("NotesEmbedDialog",["DialogX","NotesEmbed.react","React","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$NotesEmbedDialog2=i.onEmbed;this.$NotesEmbedDialog3=i.onEmbedCancel||c("emptyFunction");this.$NotesEmbedDialog4=i.ownerID;this.$NotesEmbedDialog1=new(c("DialogX"))({width:500},c("React").createElement(c("NotesEmbed.react"),{onClose:function(){return this.hide()}.bind(this),onEmbed:this.$NotesEmbedDialog2,ownerID:this.$NotesEmbedDialog4}));this.$NotesEmbedDialog1.subscribe("cancel",function(){return this.$NotesEmbedDialog3()}.bind(this))}h.prototype.hide=function(){"use strict";this.$NotesEmbedDialog1.hide()};h.prototype.show=function(){"use strict";this.$NotesEmbedDialog1.show()};f.exports=h}),null);
__d("XNotesUserPhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notes/composer/photos/",{thumb_height:{type:"Int",required:true},thumb_width:{type:"Int",required:true}})}),null);
__d("glyph",[],(function a(b,c,d,e,f,g){f.exports=function h(i){throw new Error("glyph: Unexpected glyph call.")}}),null);
__d("NotesPhotoPicker.react",["ix","cx","fbt","glyph","ActorURI","AsyncRequest","CssBackgroundImage.react","FileInput.react","Grid.react","Image.react","React","ScrollableArea.react","XNotesUserPhotosController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","cssURL","getObjectValues"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("Grid.react").GridItem,o=c("React").PropTypes,p=338,q=116,r=149;l=babelHelpers.inherits(s,c("React").Component);m=l&&l.prototype;function s(){__p&&__p();var t,u;"use strict";for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.state={photoData:null},this.renderThumbnailGrid=function(){if(!this.state.photoData)return c("React").createElement("div",{className:"_5tki",style:{height:p+"px"}},c("React").createElement(c("XUISpinner.react"),{className:"_5tkj",size:"large"}));var y=c("getObjectValues")(this.state.photoData).map(function(z){var A=function(){this.props.onPhotoPicked(z);this.props.onClose()}.bind(this);return c("React").createElement(n,{key:"thumbnail_"+z.originalPhotoData.id,onClick:A},c("React").createElement("div",{className:"_5tkk"},c("React").createElement(c("CssBackgroundImage.react"),{imageURI:z.thumbnailSrc,className:"_5tkl",height:q+"px",width:r+"px"})))}.bind(this));return c("React").createElement(c("Grid.react"),{cols:4,spacing:"_2phz"},y)}.bind(this),this.onFileInputChange=function(event){this.props.onPhotoUpload(event.target);this.props.onClose()}.bind(this),u}s.prototype.componentWillMount=function(){"use strict";var t=c("XNotesUserPhotosController").getURIBuilder().setInt("thumb_height",q).setInt("thumb_width",r).getURI();t=c("ActorURI").create(t,this.props.ownerID);new(c("AsyncRequest"))(t).setHandler(function(u){var v=u.payload.photoData;if(v)this.setState({photoData:v})}.bind(this)).send()};s.prototype.render=function(){"use strict";var t=j._("Add Photo To Note");if(this.props.isDoc)t=j._("Add Photo To Doc");else if(this.props.isPageStory)t=j._("Add Photo To Story");return c("React").createElement("div",null,c("React").createElement(c("XUIDialogTitle.react"),null,t),c("React").createElement(c("XUIDialogBody.react"),{className:"_5tkf"},c("React").createElement(c("ScrollableArea.react"),{height:p,shadow:false},this.renderThumbnailGrid())),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("FileInput.react"),{name:"file",onChange:this.onFileInputChange,accept:"image/*"},c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("101456")}),href:{url:"#"},label:j._("Upload New Photo")})),c("React").createElement(c("XUIButton.react"),{className:"_5tkg layerCancel",label:j._("Close"),use:"confirm"})))};s.propTypes={onClose:o.func.isRequired,onPhotoPicked:o.func.isRequired,onPhotoUpload:o.func.isRequired,isDoc:o.bool,isPageStory:o.bool};f.exports=s}),null);
__d("NotesPhotoPickerDialog",["invariant","DialogX","NotesPhotoPicker.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this.$NotesPhotoPickerDialog1=null;this.$NotesPhotoPickerDialog2=j.onPhotoPicked;this.$NotesPhotoPickerDialog3=j.onPhotoUpload;this.$NotesPhotoPickerDialog4=j.onPhotoCancel||c("emptyFunction");this.$NotesPhotoPickerDialog5=j.ownerID;this.$NotesPhotoPickerDialog6=j.isDoc;this.$NotesPhotoPickerDialog7=j.isPageStory;!(this.$NotesPhotoPickerDialog6&&this.$NotesPhotoPickerDialog7)||h(0)}i.prototype.hide=function(){"use strict";if(this.$NotesPhotoPickerDialog1)this.$NotesPhotoPickerDialog1.hide()};i.prototype.show=function(){"use strict";if(!this.$NotesPhotoPickerDialog1){this.$NotesPhotoPickerDialog1=new(c("DialogX"))({width:690},c("React").createElement(c("NotesPhotoPicker.react"),{onClose:function(){return this.hide()}.bind(this),onPhotoPicked:this.$NotesPhotoPickerDialog2,onPhotoUpload:this.$NotesPhotoPickerDialog3,ownerID:this.$NotesPhotoPickerDialog5,isDoc:this.$NotesPhotoPickerDialog6,isPageStory:this.$NotesPhotoPickerDialog7}));this.$NotesPhotoPickerDialog1.subscribe("cancel",function(){return this.$NotesPhotoPickerDialog4()}.bind(this))}this.$NotesPhotoPickerDialog1.show()};f.exports=i}),null);
__d("XNotesUserVideosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notes/composer/videos/",{is_from_cover:{type:"Bool",defaultValue:false}})}),null);
__d("NotesVideoPicker.react",["cx","fbt","ActorURI","AsyncRequest","Grid.react","ScrollableArea.react","React","XNotesUserVideosController","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react","cssURL"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=400;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={videoData:null},this.renderThumbnailGrid=function(){if(!this.state.videoData)return c("React").createElement("div",{className:"_29vm"},c("React").createElement(c("XUISpinner.react"),{className:"_29vo",size:"large"}));var u=Object.keys(this.state.videoData).map(function(v,w){var x=this.state.videoData[v],y=function(){this.props.onVideoPicked(x);this.props.onClose()}.bind(this);return c("React").createElement(l,{key:"thumbnail_"+x.id,onClick:y},c("React").createElement("div",{className:"_29vp"},c("React").createElement("div",{className:"_29vq",style:{backgroundImage:c("cssURL")(x.posterSrc)}})),c("React").createElement("div",{className:"_29vr"},x.title))}.bind(this));return c("React").createElement(c("Grid.react"),{cols:2,spacing:"_2phz"},u)}.bind(this),q}o.prototype.componentWillMount=function(){"use strict";var p=c("XNotesUserVideosController").getURIBuilder().getURI();p=c("ActorURI").create(p,this.props.ownerID);new(c("AsyncRequest"))(p).setHandler(function(q){var r=q.getPayload().videoData;r&&this.setState({videoData:r})}.bind(this)).send()};o.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("XUIDialogTitle.react"),null,i._("Add Video")),c("React").createElement(c("XUIDialogBody.react"),{className:"_29vl"},c("React").createElement(c("ScrollableArea.react"),{height:n,shadow:false},this.renderThumbnailGrid())))};o.propTypes={onClose:m.func.isRequired,onVideoPicked:m.func.isRequired};f.exports=o}),null);
__d("NotesVideoPickerDialog",["DialogX","NotesVideoPicker.react","React","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$NotesVideoPickerDialog1=null;this.$NotesVideoPickerDialog2=i.onVideoPicked;this.$NotesVideoPickerDialog3=i.onVideoCancel||c("emptyFunction");this.$NotesVideoPickerDialog4=i.ownerID}h.prototype.hide=function(){"use strict";if(this.$NotesVideoPickerDialog1)this.$NotesVideoPickerDialog1.hide()};h.prototype.show=function(){"use strict";if(!this.$NotesVideoPickerDialog1){this.$NotesVideoPickerDialog1=new(c("DialogX"))({width:690},c("React").createElement(c("NotesVideoPicker.react"),{onClose:function(){return this.hide()}.bind(this),onVideoPicked:this.$NotesVideoPickerDialog2,ownerID:this.$NotesVideoPickerDialog4}));this.$NotesVideoPickerDialog1.subscribe("cancel",function(){return this.$NotesVideoPickerDialog3()}.bind(this))}this.$NotesVideoPickerDialog1.show()};f.exports=h}),null);
__d("ReactComposerAttachmentLoader",["AsyncRequest","ReactComposerAttachmentActions","ReactComposerAttachmentInitState","ReactComposerAttachmentStore","ReactComposerStore","XReactComposerLoggingODSController"],(function a(b,c,d,e,f,g){__p&&__p();var h={load:function i(j,k,l,m){__p&&__p();var n=c("ReactComposerAttachmentStore").getAttachment(j,k);if(!n||n.initState===c("ReactComposerAttachmentInitState").INITIALIZED)return;c("ReactComposerAttachmentActions").setInitialized(j,k);this._logToODS(j,"bootload_start",k);l(function(o,p){this._logToODS(j,"bootload_done",k);c("ReactComposerAttachmentActions").setBootloaded(j,k,o,p)}.bind(this));this._logToODS(j,"bootstrap_start",k);new(c("AsyncRequest"))(m).setHandler(function(){this._logToODS(j,"bootstrap_done",k);setTimeout(function(){return c("ReactComposerAttachmentActions").setBootstrapped(j,k)},0)}.bind(this)).send()},_logToODS:function i(j,event,k){var l=c("XReactComposerLoggingODSController").getURIBuilder().setString("event",event).setString("attachment_type",k).setEnum("composer_type",c("ReactComposerStore").getRef(j)).getURI();new(c("AsyncRequest"))(l).send()}};f.exports=h}),null);
__d("ReactComposerAttachmentPlaceholder.react",["cx","React","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c("joinClasses")(this.props.className,"_2nt-");return c("React").createElement("div",{className:l},c("React").createElement(c("XUISpinner.react"),{className:"_2nt_",size:"large"}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerAudienceSelectorFunnelLogginConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"CASUAL_GROUP_PICKER_FUNNEL",SEE_NEXT_BUTTON:"SEE_NEXT_BUTTON",TAP_NEXT_BUTTON:"TAP_NEXT_BUTTON",INITIAL_GROUPS_LOAD:"INITIAL_GROUPS_LOAD",SELECTED_POST_OPTION:"SELECTED_POST_OPTION",TAP_PRIVACY_OPTION:"TAP_PRIVACY_OPTION",BACK_FROM_PRIVACY_SELECTOR:"BACK_FROM_PRIVACY_SELECTOR",TAP_CREATE_GROUP_OPTION:"TAP_CREATE_GROUP_OPTION",TAP_CANCEL_IN_CREATE_GROUP:"TAP_CANCEL_IN_CREATE_GROUP",BACK_FROM_CREATE_GROUP:"BACK_FROM_CREATE_GROUP",LOAD_MORE_GROUPS_BUTTON:"LOAD_MORE_GROUPS_BUTTON",SELECTED_GROUP:"SELECTED_GROUP",SEE_MORE_BUTTON:"SEE_MORE_BUTTON",SEE_SHARESHEET_SELECTOR:"SEE_SHARESHEET_SELECTOR",SELECT_PRIVACY_OPTION:"SELECT_PRIVACY_OPTION",TAP_POST_BUTTON:"TAP_POST_BUTTON",TAP_POST_BUTTON_ERROR:"TAP_POST_BUTTON_ERROR",TAP_POST_BUTTON_SUCCESS:"TAP_POST_BUTTON_SUCCESS",TAP_CONFIRM_CREATE_GROUP_BUTTON:"TAP_CONFIRM_CREATE_GROUP_BUTTON",TAP_CREATE_GROUP_AND_POST_BUTTON:"TAP_CREATE_GROUP_AND_POST_BUTTON",TAP_SNAP_GROUP:"TAP_SNAP_GROUP",TAP_SHARESHEET_SELECTOR:"TAP_SHARESHEET_SELECTOR",TAP_CREATE_GROUP_AND_POST_BUTTON_ERROR:"TAP_CREATE_GROUP_AND_POST_BUTTON_ERROR",PROFILE_ENTRY_POINT:"PROFILE_ENTRY_POINT",TAP_CREATE_GROUP_FROM_PROFILE:"TAP_CREATE_GROUP_FROM_PROFILE",TAP_CREATE_GROUP_FROM_PROFILE_SUCCESS:"TAP_CREATE_GROUP_FROM_PROFILE_SUCCESS",TAP_CREATE_GROUP_FROM_PROFILE_FAILURE:"TAP_CREATE_GROUP_FROM_PROFILE_FAILURE",TAP_CANCEL_IN_PROFILE_CREATE_GROUP:"TAP_CANCEL_IN_PROFILE_CREATE_GROUP"}}),null);
__d("ReactComposerAudienceSelector.react",["cx","DOM","PrivacySelector","React","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=1.5,l=20,m=500;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerAudienceSelector1=l,this.$ReactComposerAudienceSelector2=null,this.$ReactComposerAudienceSelector3=null,this.state={loading:true},this.$ReactComposerAudienceSelector8=function(t,u){if(!this.$ReactComposerAudienceSelector4)this.props.onChange(u)}.bind(this),p}n.prototype.componentDidMount=function(){"use strict";this.$ReactComposerAudienceSelector4=false;this.$ReactComposerAudienceSelector5()};n.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerAudienceSelector4=true;this.$ReactComposerAudienceSelector2&&clearTimeout(this.$ReactComposerAudienceSelector2);this.$ReactComposerAudienceSelector3&&clearTimeout(this.$ReactComposerAudienceSelector3)};n.prototype.componentDidUpdate=function(o,p){"use strict";if(this.props.audienceXHP!==o.audienceXHP)this.$ReactComposerAudienceSelector5()};n.prototype.render=function(){"use strict";return c("React").createElement("div",{ref:"audienceSelector",className:c("joinClasses")("_5dd8"+(this.state.loading?" _2hio":""),this.props.className)})};n.prototype.$ReactComposerAudienceSelector5=function(){"use strict";if(this.props.viewerIsTarget)this.$ReactComposerAudienceSelector6();if(this.refs&&this.refs.audienceSelector)c("DOM").setContent(c("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);else this.$ReactComposerAudienceSelector7()};n.prototype.$ReactComposerAudienceSelector7=function(){"use strict";this.$ReactComposerAudienceSelector3=setTimeout(function(){if(this.refs&&this.refs.audienceSelector)c("DOM").setContent(c("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);else this.$ReactComposerAudienceSelector7()}.bind(this),100)};n.prototype.$ReactComposerAudienceSelector6=function(){"use strict";__p&&__p();this.$ReactComposerAudienceSelector2=setTimeout(function(){var o=c("PrivacySelector").getAdamaSelectorInstance(this.props.audienceXHP);if(o){o.subscribe("changed",this.$ReactComposerAudienceSelector8);this.setState({loading:false})}else{this.$ReactComposerAudienceSelector1=Math.min(this.$ReactComposerAudienceSelector1*k,m);this.$ReactComposerAudienceSelector6()}}.bind(this),this.$ReactComposerAudienceSelector1)};f.exports=n}),null);
__d("ReactComposerAudienceSelectorContainer.react",["csx","cx","invariant","fbt","ReactComposerAudienceActions","ReactComposerAudienceSelector.react","ReactComposerAudienceStore","ReactComposerEvents","ReactComposerLoggingName","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerPrefillStore","ReactComposerCollectionsStore","Arbiter","CSS","DOM","BackgroundImage.react","FluxContainer","FunnelLogger","PrivacySelector","React","ReactComposerContextTypes","TooltipData","XUIPopoverButton.react","ReactComposerAudienceSelectorFunnelLogginConstants"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("ReactComposerAudienceSelectorFunnelLogginConstants").FUNNEL_LOGGING_NAME,o=c("ReactComposerAudienceSelectorFunnelLogginConstants").TAP_PRIVACY_OPTION;l=babelHelpers.inherits(p,c("React").PureComponent);m=l&&l.prototype;function p(q,r){"use strict";__p&&__p();m.constructor.call(this,q);this.$ReactComposerAudienceSelectorContainer1=null;this.$ReactComposerAudienceSelectorContainer3=function(s){if(this.props.className)c("FunnelLogger").appendAction(n,o,s.privacy_base);c("ReactComposerAudienceActions").setAudience(this.context.composerID,s.post_param,s.privacy_base,c("ReactComposerLoggingName").AUDIENCE_SELECTOR);if(this.props.onAudienceChanged)this.props.onAudienceChanged()}.bind(this);this.$ReactComposerAudienceSelectorContainer2=function(){var s=c("ReactComposerPrefillStore").getField(this.context.composerID,"albumData");if(s&&s.albumID){c("ReactComposerCollectionsStore").loadCollections(this.context.composerID);c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,s.albumID)}}.bind(this);this.beforeCalculateInitialState(r.composerID,q,r)}p.prototype.beforeCalculateInitialState=function(q,r,s){"use strict";__p&&__p();var t=r.audienceXHP,u=void 0,v=c("PrivacySelector").getAdamaSelectorInstance(t);c("ReactComposerAudienceActions").setAudienceElement(q,r.audienceXHP);c("ReactComposerAudienceActions").setAudienceInstance(q,v);if(!t||!r.viewerIsTarget)return;if(v)u=v.getPostParam();var w=void 0;if(!v)w=c("DOM").scry(t,'select option[selected="1"]').pop();if(!v&&!w){var x=c("DOM").scry(t,'input[name="privacyx"]')[0];if(x)u=x.value}!!(u||w)||c("PrivacySelector").isFakeOrUneditableSelector(t)||s.actorID||j(0);c("ReactComposerAudienceActions").setAudienceWithoutLogging(q,u,w?w.value:null)};p.getStores=function(){"use strict";return[c("ReactComposerAudienceStore"),c("ReactComposerStatusStore"),c("ReactComposerTaggerStore"),c("ReactComposerCollectionsStore")]};p.calculateState=function(q,r,s){"use strict";__p&&__p();var t=s.composerID;if(!r.ignoreCollectionAudience){var u=c("ReactComposerAudienceStore").getCollectionID(t);if(u){var v=c("ReactComposerCollectionsStore").getCollectionByID(t,u)||c("ReactComposerPrefillStore").getField(t,"albumData");if(v)return{collectionPrivacyIcon:v.privacyIcon,collectionPrivacyLabel:v.privacyLabel,collectionOwnerName:v.ownerName}}}var w=c("ReactComposerStatusStore").getMentions(t),x=c("ReactComposerTaggerStore").getTaggerData(t,c("ReactComposerTaggerType").PEOPLE)||[],y=x.map(function(A){return{info:{type:A.getType(),uid:A.getUniqueID(),text:A.getTitle()}}}),z=c("CSS").matchesSelector(r.audienceXHP,"._43_1")?r.audienceXHP:c("DOM").scry(r.audienceXHP,"._43_1")[0];if(z!=null)c("PrivacySelector").genAndThen(z,function(A){A.informTagsChanged({withTags:y,mention:w})});return{collectionPrivacyIcon:null,collectionPrivacyLabel:null,collectionOwnerName:null}};p.prototype.componentWillMount=function(){"use strict";this.$ReactComposerAudienceSelectorContainer2();this.$ReactComposerAudienceSelectorContainer1=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$ReactComposerAudienceSelectorContainer2)};p.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerAudienceSelectorContainer1&&this.$ReactComposerAudienceSelectorContainer1.unsubscribe();this.$ReactComposerAudienceSelectorContainer1=null};p.prototype.render=function(){"use strict";if(this.state.collectionPrivacyIcon&&this.state.collectionPrivacyLabel){var q=this.state.collectionOwnerName?k._("{albumOwnerName} controls who can see what's posted in this album",[k.param("albumOwnerName",this.state.collectionOwnerName)]):null,r=c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({className:"_5dd8",disabled:true,image:c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_3byx",height:12,src:this.state.collectionPrivacyIcon,width:12}),label:this.state.collectionPrivacyLabel},c("TooltipData").propsFor(q)));return r}else return c("React").createElement(c("ReactComposerAudienceSelector.react"),babelHelpers["extends"]({},this.props,{onChange:this.$ReactComposerAudienceSelectorContainer3}))};p.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(p,{withContext:true,withProps:true})}),null);
__d("ReactComposerDragDropPrompt.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_1y-n"},c("React").createElement("div",{className:"_1y-o"},c("React").createElement("span",{className:"_1y-p"},i._("Drag Link\/Photos\/Video Here")),c("React").createElement("span",{className:"_1y-q"},i._("Drop Link")),c("React").createElement("span",{className:"_1y-r"},i._("Drop Photo\/Video")),c("React").createElement("span",{className:"_1y-s"},i._("Drop Photos"))))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerDragDropPromptLazy.react",["fbt","ComposerXDragDropUtils","DragDropTarget","ExceptionDialog","React","ReactComposerDragDropPrompt.react","ReactDOM","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerDragDropPromptLazy1=undefined,this.$ReactComposerDragDropPromptLazy2=function(r){var s=c("ComposerXDragDropUtils").filterImages(r);if(s.length>0){this.props.onMediaDrop(s);return}if(r.length)this.props.onFilesDrop(r);if(r.length>1)c("ExceptionDialog").show(h._("Too many files").toString(),h._("Only one document file can be uploaded at a time.").toString())}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";var m=c("ReactDOM").findDOMNode(this.props.root);this.$ReactComposerDragDropPromptLazy1=new(c("DragDropTarget"))(m).setOnFilesDropCallback(this.$ReactComposerDragDropPromptLazy2).setOnURLDropCallback(this.props.onURLDrop).enable()};l.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerDragDropPromptLazy1&&this.$ReactComposerDragDropPromptLazy1.disable()};l.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerDragDropPrompt.react"),null)};l.propTypes={root:k.object.isRequired,onFilesDrop:k.func,onMediaDrop:k.func,onURLDrop:k.func};l.defaultProps={onFilesDrop:c("emptyFunction"),onMediaDrop:c("emptyFunction"),onURLDrop:c("emptyFunction")};f.exports=l}),null);
__d("ReactComposerWorkFileStoreImpl",["fbt","immutable","ReactComposerStoreBase","ReactComposerWorkFileActionType"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("immutable").Map;i=babelHelpers.inherits(l,c("ReactComposerStoreBase"));j=i&&i.prototype;function l(){"use strict";__p&&__p();var m=void 0;j.constructor.call(this,function(){return{canViewerUploadFiles:true,file:null,installedApps:k(),sandboxBaseURI:null,maxFileUploadString:null,selectedAppsFiles:k(),selectedFileName:m&&m.$ReactComposerWorkFileStore1()}},function(n){__p&&__p();switch(n.type){case c("ReactComposerWorkFileActionType").REMOVE_APP_FILE:m&&m.$ReactComposerWorkFileStore2(n);break;case c("ReactComposerWorkFileActionType").RESET:m&&m.$ReactComposerWorkFileStore3(n);break;case c("ReactComposerWorkFileActionType").SAVE_APP_FILE:m&&m.$ReactComposerWorkFileStore4(n);break;case c("ReactComposerWorkFileActionType").SAVE_FILE:m&&m.$ReactComposerWorkFileStore5(n);break;case c("ReactComposerWorkFileActionType").SET_FILE_CONFIG:m&&m.$ReactComposerWorkFileStore6(n);break;case c("ReactComposerWorkFileActionType").OAUTH:m&&m.$ReactComposerWorkFileStore7(n);break}});m=this}l.prototype.getFile=function(m){"use strict";return this.getComposerData(m).file};l.prototype.getCanViewerUploadFiles=function(m){"use strict";return this.getComposerData(m).canViewerUploadFiles};l.prototype.getMaxFileUploadSize=function(m){"use strict";return this.getComposerData(m).maxFileUploadSize};l.prototype.getMaxFileUploadString=function(m){"use strict";return this.getComposerData(m).maxFileUploadString};l.prototype.getSelectedFileName=function(m){"use strict";return this.getComposerData(m).selectedFileName};l.prototype.getURI=function(m){"use strict";return"/ajax/groups/files/upload"};l.prototype.getInstalledApps=function(m){"use strict";return this.getComposerData(m).installedApps};l.prototype.getSandboxBaseURI=function(m){"use strict";return this.getComposerData(m).sandboxBaseURI};l.prototype.getSelectedAppsFiles=function(m){"use strict";return this.getComposerData(m).selectedAppsFiles};l.prototype.hasAppFiles=function(m){"use strict";return this.getSelectedAppsFiles(m).size>0};l.prototype.hasFile=function(m){"use strict";return!!this.getComposerData(m).file};l.prototype.isFileSelected=function(m){"use strict";return this.hasFile(m)||this.hasAppFiles(m)};l.prototype.$ReactComposerWorkFileStore1=function(){"use strict";return h._("No file chosen")};l.prototype.$ReactComposerWorkFileStore2=function(m){"use strict";var n=this.validateAction(m,["composerID","id"]),o=n[0],p=n[1],q=this.getComposerData(o);q.selectedAppsFiles=q.selectedAppsFiles["delete"](p);this.emitChange(o)};l.prototype.$ReactComposerWorkFileStore3=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.file=null;o.selectedFileName=this.$ReactComposerWorkFileStore1();o.selectedAppsFiles=o.selectedAppsFiles.clear();this.emitChange(m.composerID)};l.prototype.$ReactComposerWorkFileStore4=function(m){"use strict";var n=this.validateAction(m,["composerID","id","name","url"]),o=n[0],p=n[1],q=n[2],r=n[3],s=this.getComposerData(o);s.selectedAppsFiles=s.selectedAppsFiles.set(p,{name:q,url:r});this.emitChange(o)};l.prototype.$ReactComposerWorkFileStore5=function(m){"use strict";var n=this.validateAction(m,["composerID","file","name"]),o=n[0],p=n[1],q=n[2],r=this.getComposerData(o);r.file=p;r.selectedFileName=q;this.emitChange(m.composerID)};l.prototype.$ReactComposerWorkFileStore6=function(m){"use strict";var n=this.validateAction(m,["composerID","config"]),o=n[0],p=n[1],q=this.getComposerData(o);q.canViewerUploadFiles=p.canViewerUploadFiles;q.installedApps=new k(p.installedApps);q.sandboxBaseURI=p.sandboxBaseURI;q.maxFileUploadSize=p.maxFileUploadSize;q.maxFileUploadString=p.maxFileUploadString;this.emitChange(m.composerID)};l.prototype.$ReactComposerWorkFileStore7=function(m){"use strict";var n=this.validateAction(m,["composerID","app","accessToken"]),o=n[0],p=n[1],q=n[2],r=this.getComposerData(o),s=r.installedApps.get(p.type);s.access_token=q;r.installedApps=r.installedApps.set(p.type,s);this.emitChange(m.composerID)};f.exports=new l()}),null);
__d("CollageLayoutConfig",[],(function a(b,c,d,e,f,g){__p&&__p();var h=4;function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?h:arguments[2],m=arguments[3];"use strict";this.$CollageLayoutConfig2=l;this.$CollageLayoutConfig3=k;this.$CollageLayoutConfig5=m;this.$CollageLayoutConfig6(j)}i.prototype.getItemStyleInfos=function(){"use strict";return this.$CollageLayoutConfig1};i.prototype.getIndexForPoint=function(j,k){"use strict";var l=this.$CollageLayoutConfig1.findIndex(function(m){return m.left<=j&&m.top<=k&&m.left+m.width>=j&&m.top+m.height>=k});return l===-1?null:l};i.prototype.getCalculatedHeight=function(){"use strict";return this.$CollageLayoutConfig4};i.prototype.getSpacing=function(){"use strict";return this.$CollageLayoutConfig2};i.prototype.getWidth=function(){"use strict";return this.$CollageLayoutConfig3};i.prototype.$CollageLayoutConfig6=function(j){"use strict";__p&&__p();var k=this.$CollageLayoutConfig7(j),l=this.$CollageLayoutConfig8(j),m=this.$CollageLayoutConfig2*(l-1),n=Math.ceil((this.$CollageLayoutConfig3-m)/l);this.$CollageLayoutConfig4=this.$CollageLayoutConfig5||(n+this.$CollageLayoutConfig2)*k-this.$CollageLayoutConfig2;var o=this.$CollageLayoutConfig2*(k-1),p=Math.ceil((this.$CollageLayoutConfig4-o)/k);this.$CollageLayoutConfig1=[];j.forEach(function(q){var r={left:(n+this.$CollageLayoutConfig2)*q.x,top:(p+this.$CollageLayoutConfig2)*q.y,width:(n+this.$CollageLayoutConfig2)*q.width-this.$CollageLayoutConfig2,height:(p+this.$CollageLayoutConfig2)*q.height-this.$CollageLayoutConfig2};if(r.left+r.width>this.$CollageLayoutConfig3)r.width=this.$CollageLayoutConfig3-r.left;this.$CollageLayoutConfig1.push(r)}.bind(this))};i.prototype.$CollageLayoutConfig8=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.x+l.width)});return k};i.prototype.$CollageLayoutConfig7=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.y+l.height)});return k};f.exports=i}),null);
__d("ReactComposerCollageLayoutActor",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:1,PAGE:2})}),null);
__d("ReactComposerMediaAspectTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"})}),null);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function a(b,c,d,e,f,g){"use strict";f.exports={fromRect:function h(i){return this._fromWidthAndHeight(i.w(),i.h())},fromDimensions:function h(i){return this._fromWidthAndHeight(i[0],i[1])},_fromWidthAndHeight:function h(i,j){if(i>j)return c("ReactComposerMediaAspectTypes").LANDSCAPE;else if(i<j)return c("ReactComposerMediaAspectTypes").PORTRAIT;else return c("ReactComposerMediaAspectTypes").SQUARE}}}),null);
__d("ReactComposerCollageLayoutModel",["regeneratorRuntime","ReactComposerCollageLayoutActor","ReactComposerMediaAspect"],(function a(b,c,d,e,f,g){__p&&__p();var h=[i,j].map(c("regeneratorRuntime").mark);"use strict";function i(l,m){__p&&__p();var n,o;return c("regeneratorRuntime").wrap(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:n=l.next();o=m.next();if(!(n.done||o.done)){q.next=5;break}return q.abrupt("break",9);case 5:q.next=7;return[n.value,o.value];case 7:q.next=0;break;case 9:case"end":return q.stop()}},h[0],this)}function j(l){__p&&__p();var m,n,o,p,q;return c("regeneratorRuntime").wrap(function r(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!n){s.next=7;break}if(!(o>=m.length)){s.next=4;break}return s.abrupt("break",16);case 4:p=m[o++];s.next=11;break;case 7:o=m.next();if(!o.done){s.next=10;break}return s.abrupt("break",16);case 10:p=o.value;case 11:q=p;s.next=14;return q;case 14:s.next=1;break;case 16:case"end":return s.stop()}},h[1],this)}function k(l,m){"use strict";this.$ReactComposerCollageLayoutModel1=!!(l&c("ReactComposerCollageLayoutActor").USER);this.$ReactComposerCollageLayoutModel2=!!(l&c("ReactComposerCollageLayoutActor").PAGE);this.$ReactComposerCollageLayoutModel3=[];if(m)this.addPhotoLayouts(m)}k.prototype.addPhotoLayout=function(l){"use strict";this.$ReactComposerCollageLayoutModel3.push(l);return this};k.prototype.addPhotoLayouts=function(l){"use strict";l.forEach(function(m){return this.$ReactComposerCollageLayoutModel3.push(m)}.bind(this));return this};k.prototype.getNumPhotoLayouts=function(){"use strict";return this.$ReactComposerCollageLayoutModel3.length};k.prototype.getPhotoLayouts=function(){"use strict";return this.$ReactComposerCollageLayoutModel3};k.prototype.getIsValidForPages=function(){"use strict";return this.$ReactComposerCollageLayoutModel2};k.prototype.getIsValidForUsers=function(){"use strict";return this.$ReactComposerCollageLayoutModel1};k.prototype.getIsValidFor=function(l){"use strict";switch(l){case c("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case c("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return false};k.prototype.hasMatchingCollagePhotoLayoutType=function(l){"use strict";var m=c("ReactComposerMediaAspect").fromRect(this.$ReactComposerCollageLayoutModel3[0]),n=c("ReactComposerMediaAspect").fromDimensions(l);return m===n};k.prototype.score=function(l){"use strict";__p&&__p();var m=0;for(var n=i(j(this.getPhotoLayouts()),l.values()),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=r[0],t=r[1];if(!t)continue;var u=s.w(),v=s.h(),w=t[0],x=t[1],y=0;if(w===0||x===0)y=0;else if(u*x/w>=v){var z=u*x/w;y=(z-v)/z}else if(v*w/x>u){var A=v*w/x;y=(A-u)/A}m-=y*100;if(x===w)m-=y*5;else if(u>v)if(w>x)m+=y*25;else m-=y*25;else if(u<v)if(w<x)m+=y*25;else m-=y*25;else if(u===v)m-=y*5}m+=200*this.getNumPhotoLayouts();return m};f.exports=k}),null);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function a(b,c,d,e,f,g){"use strict";var h=[];Object.keys(c("ReactComposerJSONCollageLayoutData")).forEach(function(i){c("ReactComposerJSONCollageLayoutData")[i].forEach(function(j){h.push(new(c("ReactComposerCollageLayoutModel"))(j.validActors,j.photoLayouts.map(function(k){return new(Function.prototype.bind.apply(c("Rect"),[null].concat(k)))()})))})});f.exports=h}),null);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","Map","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function h(i){return c("ReactComposerCollageLayoutData").filter(function(j){return j.getIsValidFor(i)})},getMaxPhotosSupported:function h(){return Math.max.apply(Math,c("ReactComposerCollageLayoutData").map(function(i){return i.getNumPhotoLayouts()}))},getMaxPhotosSupportedFor:function h(i){return Math.max.apply(Math,this._getCollageLayoutsFor(i).map(function(j){return j.getNumPhotoLayouts()}))},getCollageLayout:function h(i,j){if(!j)return this.getBestUserCollageLayout(i);var k=c("FBIDCheck").isUser_deprecated(j)?this.getBestUserCollageLayout(i):this.getBestPageCollageLayout(i);return k},getBestPageCollageLayout:function h(i){__p&&__p();if(i.size==0)return new(c("Map"))();var j=i.values().next().value,k=Math.min(this.getMaxPhotosSupportedFor(c("ReactComposerCollageLayoutActor").PAGE),i.size),l=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").PAGE).filter(function(x){return x.getNumPhotoLayouts()===k});if(!l.length)throw new Error("no valid layout for these media");var m=l.filter(function(x){return x.hasMatchingCollagePhotoLayoutType(j)});if(!m.length)throw new Error("no valid layout for these media starts with a suitable aspect");var n=m[0],o=new(c("Map"))(),p=0,q=n.getPhotoLayouts();for(var r=i.keys(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=q[p++];if(w)o.set(v,w)}return o},getBestUserCollageLayout:function h(i){__p&&__p();var j=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").USER).filter(function(u){return u.getNumPhotoLayouts()<=i.size});if(!j.length)throw new Error("no valid layout for these media");var k=this._bestLayoutByScore(j,i);if(!k)throw new Error("no best layout? Should not happen!");var l=new(c("Map"))(),m=0,n=k.getPhotoLayouts();for(var o=i.keys(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r,t=n[m++];if(t)l.set(s,t)}return l},_bestLayoutByScore:function h(i,j){var k=i.map(function(n){return[n,n.score(j)]}),l=k.reduce(function(n,o){var p=n[0],q=n[1],r=o[0],s=o[1];return q===null||s>q?[r,s]:[p,q]},[null,null]),m=l[0];return m}}}),null);
__d("ReactComposerCollageUtils",["CollageLayoutConfig","Map","ReactComposerCollageLayoutSelection"],(function a(b,c,d,e,f,g){__p&&__p();var h={extractDimensionDataIfValid:function i(j){__p&&__p();var k=true,l=new(c("Map"))();j.forEach(function(m){if(!m.width||!m.height){k=false;return}var n=m.width,o=m.height;if(m.isSpherical)n=o;l.set(m.id,[n,o])});return k?l:null},getCollageLayout:function i(j){__p&&__p();if(!j||j.size<2)return[];var k=h.extractDimensionDataIfValid(j);if(!k)return[];var l=c("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(k);if(!l)return[];var m=[];for(var n=k.keys(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=l.get(r);if(!s)return[];m.push({x:s.l,y:s.t,width:s.w(),height:s.h()})}return m},getCollageLayoutConfig:function i(j,k){var l=j.filter(function(n){return n.width&&n.height}),m=h.getCollageLayout(l);return new(c("CollageLayoutConfig"))(m,k)},getSingleItemStyleInfo:function i(j,k){var l=[],m=k,n=j.width/j.height;if(j.isSpherical)n=1;if(n>1)m=k/n;else k=n*m;l.push({left:0,top:0,width:k,height:m});return l}};f.exports=h}),null);
__d("ReactComposerBootloaderPropTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes;f.exports=h.shape({statusAttachment:h.func.isRequired,mediaAttachment:h.func.isRequired,qandaAttachment:h.func,questionAttachment:h.func,visualPollAttachment:h.func,extraAttachment:h.func,redEnvelopeAttachment:h.func,findPlayersAttachment:h.func,salesPromoAttachment:h.func,eventCreationAttachment:h.func})}),null);
__d("ReactComposerAttachmentBodyMixin",["invariant","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];k=k.concat(c("ReactComposerAttachmentStore"));return{contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(this,k)],statics:{beforeCalculateInitialState:function m(n,o){var p=this.getAttachmentConfig?this.getAttachmentConfig(o):o.config&&o.config.attachmentsConfig&&o.config.attachmentsConfig[this.attachmentID];c("ReactComposerAttachmentActions").registerAttachment(n,{id:this.attachmentID,selected:o.selected,active:o.prefillConfig&&o.prefillConfig.shouldActivateSelectedAttachment,config:p})},calculateState:function m(n,o){return Object.assign({selected:c("ReactComposerAttachmentStore").getIsAttachmentSelected(n,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(n,o):{})}},componentWillMount:function m(){this.constructor.attachmentID||h(0);this.constructor.attachmentID||h(0)},render:function m(){if(!this.state.selected)return null;return this.renderX()}}}f.exports=i}),null);
__d("ReactComposerLoadableAttachmentBodyMixin",["cx","invariant","React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentInitState","ReactComposerAttachmentLoader","ReactComposerAttachmentPlaceholder.react","ReactComposerAttachmentStore","ReactComposerStore"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={mixins:[c("ReactComposerAttachmentBodyMixin")(c("ReactComposerAttachmentStore"))],statics:{calculateAttachmentState:function k(l,m){var n=c("ReactComposerAttachmentStore").getAttachment(l,this.attachmentID),o=c("ReactComposerAttachmentStore").getIsAttachmentSelected(l,this.attachmentID),p=c("ReactComposerStore").isActive(l);return{composerIsActive:p,initState:n&&n.initState,attachmentModule:n&&n.module,bootstrapped:n&&n.bootstrapped,postButtonModule:n&&n.postButtonModule,isSelected:o,attachmentID:this.attachmentID}}},componentWillMount:function k(){this.constructor.attachmentID||i(0);if(this.props.selected&&this._shouldInitialize())this._initialize()},componentDidUpdate:function k(l,m){if(this.state.initState===c("ReactComposerAttachmentInitState").INITIALIZING&&this._shouldInitialize())this._initialize()},renderX:function k(){if(!this.state.attachmentModule||!this.state.bootstrapped){var l=this.getPlaceholderModule&&this.getPlaceholderModule(),m=l?l:c("ReactComposerAttachmentPlaceholder.react");return c("React").createElement(m,babelHelpers["extends"]({className:"_3rlw"},this.props))}var n=this.state.attachmentModule;return c("React").createElement(n,babelHelpers["extends"]({},this.props,{postButtonModule:this.state.postButtonModule}))},_shouldInitialize:function k(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:true},_initialize:function k(){c("ReactComposerAttachmentLoader").load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI())}};f.exports=j}),null);
__d("XReactComposerMediaAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/media/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerMediaInitUtils",["ActorURI","Bootloader","XReactComposerMediaAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h={bootload:function i(j){c("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerMediaAttachmentPostButtonContainer.react"],j,"ReactComposerMediaInitUtils")},getBootstrapURI:function i(j,k,l,m){return c("ActorURI").create(c("XReactComposerMediaAttachmentBootstrapController").getURIBuilder().setString("composer_id",j).setEnum("composer_type",k).setString("target_id",l).getURI(),m)}};f.exports=h}),null);
__d("ReactComposerMediaLazyAttachment.react",["React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","ReactComposerMediaInitUtils"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMediaLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{additionalTaggers:h.arrayOf(h.shape({button:h.element.isRequired,container:h.element.isRequired})),additionalFooterActions:h.arrayOf(h.element),bootloader:c("ReactComposerBootloaderPropTypes")},statics:{attachmentID:c("ReactComposerAttachmentType").MEDIA},bootload:function j(k){if(this.props.bootloader)this.props.bootloader.mediaAttachment(k);else c("ReactComposerMediaInitUtils").bootload(k)},getBootstrapURI:function j(){return c("ReactComposerMediaInitUtils").getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID)}});f.exports=i}),null);
__d("ReactComposerStatusActions",["ReactComposerDispatcher","ReactComposerStatusActionType","ReactComposerStatusStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerStatusStore");h.prototype.setMentionsSource=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_MENTIONS_SOURCE,mentionsSource:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTypeaheadReporter=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER,typeaheadReporter:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setEditorState=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_EDITOR_STATE,editorState:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setOriginalEditorState=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE,originalEditorState:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMentions=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_MENTIONS,mentions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTextLength=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerStatusActionType").SET_TEXT_LENGTH,textLength:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerSourceSurface",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",FEED:"newsfeed",TIMELINE:"timeline",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",SOCIAL_BALLOT:"social_ballot",VOTER_REGISTRATION:"voter_registration",ELECTION_HUB:"election_hub",QUICK_ELECTION:"quick_election",LIVE_MAP:"live_map",LOCAL_NEWS:"local_news",UNKNOWN:"unknown",PAGE_RECOMMENDATION_ACTION_BAR:"page_recommendation_action_bar",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_LEARN_PAGE:"recommendations_learn_page",GROUP_RECOMMENDATIONS_TAB:"group_recommendations_tab",RECENT_POSTS:"timeline/recent_posts",INSTANT_GAME:"instant_game",THROWBACK_PERMALINK:"throwback_permalink",MESSENGER_SHARE_DIALOG:"messenger_share_dialog",WORKBENCH:"workbench",TOWNHALL:"townhall",CIVIC_DIGEST_EMAIL:"civic_digest_email",LEARNING_COURSE_UNIT:"learning_course_unit",PETITION:"petition",PREFILL_HOLIDAY_CARD:"prefill_holiday_card"})}),null);
__d("ExtensibleSproutsSurfaceItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNDIRECTED_FEED_COMPOSER:"UNDIRECTED_FEED_COMPOSER",UNDIRECTED_FEED_PUBLISHER_BAR:"UNDIRECTED_FEED_PUBLISHER_BAR"})}),null);
__d("ReactComposerConfig",["ComposerEntryPointRef","ReactComposerLoggingName","ComposerSourceSurface","ComposerTargetData","ComposerTargetType","ExtensibleSproutsItemType","ReactComposerAttachmentType","ExtensibleSproutsSurfaceItemType","React","getObjectValues"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape({actorConfig:h.object,attachmentsConfig:h.object.isRequired,audienceXHP:h.any,contextInfo:h.object,loggingConfig:h.shape({isEditComposer:h.bool,targetType:h.oneOf(c("getObjectValues")(c("ComposerTargetType"))).isRequired,ref:h.oneOf(c("getObjectValues")(c("ComposerEntryPointRef"))).isRequired,composerSourceSurface:h.oneOf(c("getObjectValues")(c("ComposerSourceSurface"))).isRequired,rankerRequestID:h.string,composerType:h.string,sproutSurface:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsSurfaceItemType"))),inlineSproutSurface:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsSurfaceItemType")))}).isRequired,activateOnInit:h.bool,mediaAcceptParam:h.shape({photos:h.string,both:h.string}),nuxConfig:h.object.isRequired,postButtonConfig:h.object,showExpandedComposer:h.bool,taggersConfig:h.object,sproutsConfig:h.object,inlineSproutsList:h.arrayOf(h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType")))),targetData:h.instanceOf(c("ComposerTargetData")).isRequired,instagramCrossPostingEnabled:h.bool,triggeredFrom:h.oneOf(Object.values(c("ReactComposerLoggingName"))),focusOnInit:h.bool,initSelectedAttachment:h.oneOf(c("getObjectValues")(c("ReactComposerAttachmentType"))),sproutWithNewBadge:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),sproutsPromotionConfig:h.shape({promotionID:h.number,sprout:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:h.string})})}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l)},handlePostSucceeded:function j(k){c("ReactComposerActions").postSucceeded(k);c("ReactComposerActions").reset(k)}};f.exports=i}),null);
__d("ReactComposerProfilePhoto.react",["cx","fbt","Image.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=40;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o="_3hvt",p=c("React").createElement(c("Image.react"),{className:"_bth",src:this.props.src,height:m,width:m}),q=i._("Profile of {name}",[i.param("name",this.props.profileName)]),r=void 0;if(this.props.profileDialogURI)r=c("React").createElement(c("Link.react"),{ajaxify:this.props.profileDialogURI,rel:"dialog","aria-label":q,className:o,href:this.props.profileURI,onClick:function(s){this.props.onClick(s);s.stopPropagation()}.bind(this),onFocus:function s(t){t.stopPropagation();t.nativeEvent.isPropagationStopped=true}},p);else if(this.props.profileURI)r=c("React").createElement(c("Link.react"),{"aria-label":q,className:o,href:this.props.profileURI,onClick:this.props.onClick},p);else r=c("React").createElement("div",{className:o},p);return r};function n(){"use strict";j.apply(this,arguments)}n.PROFILE_PIC_WIDTH=m;n.propTypes={src:l.string.isRequired,profileName:l.string,profileURI:l.string,profileDialogURI:l.string,onClick:l.func};f.exports=n}),null);
__d("ReactComposerProfilePhotoBlock.react",["cx","Layout.react","ReactComposerProfilePhoto.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props.profilePhotoBadge,p=this.props.onClick||c("emptyFunction");return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,{className:"_q-v"},o?c("React").createElement(o,this.props):c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:p})),c("React").createElement(l,null,this.props.children))};function n(){i.apply(this,arguments)}n.propTypes={profileName:m.string,profilePicSrc:m.string.isRequired,profileURI:m.string,profileDialogURI:m.string,profilePhotoBadge:m.any,currentProfileBadgeURI:m.string,profileBadgeNUX:m.string,onClick:m.func};f.exports=n}),null);
__d("getBlockNumberAndOffsetFromText",["splitTextIntoTextBlocks"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.slice(0,j),l=c("splitTextIntoTextBlocks")(k),m=l.map(function(o){return o.length}).slice(0,-1),n=m.reduce(function(o,p){return o+p+1},0);return{block:l.length-1,offset:j-n}}f.exports=h}),null);
__d("ReactComposerPrefillMentionsInput",["EditorState","SelectionState","createEditorStateWithEntities","getBlockNumberAndOffsetFromText","getMentionsInputDecorator"],(function a(b,c,d,e,f,g){__p&&__p();var h={createEditorState:function i(j,k){__p&&__p();if(!j||!j.text)return c("EditorState").createEmpty();var l=c("createEditorStateWithEntities")({text:j.text,ranges:j.ranges||[],decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:function p(q,r){return r.createEntity("MENTION","IMMUTABLE",{id:q.id,isWeak:!!q.weakreference,type:q.type})}});if(k){var m=l.getCurrentContent().getBlockMap(),n=c("getBlockNumberAndOffsetFromText")(j.text,k.start),o=c("getBlockNumberAndOffsetFromText")(j.text,k.end);l=c("EditorState").acceptSelection(l,new(c("SelectionState"))({anchorKey:m.skip(n.block).first().getKey(),anchorOffset:n.offset,focusKey:m.skip(o.block).first().getKey(),focusOffset:o.offset,isBackward:false}))}else l=c("EditorState").moveSelectionToEnd(l);return l},getMentionsFromEditorState:function i(j){__p&&__p();var k=j.getCurrentContent(),l=[],m=0;k.getBlockMap().forEach(function(n){n.findEntityRanges(function(){return true},function(o,p){var q=n.getEntityAt(o);if(!q)return;var r=k.get(q);l.push({entity:{id:Number(r.getData().id),noncoworker:false,type:r.getData().type,url:""},length:p-o,offset:o+m})});m+=n.getLength()+1});return l}};f.exports=h}),null);
__d("ReactComposerStatusLazyAttachmentTextarea.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusLazyAttachmentTextarea",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{"aria-label":i.string,className:i.string,expanded:i.bool,onFocus:i.func.isRequired,placeholder:i.string.isRequired},getInitialState:function k(){return{message:null}},componentWillUnmount:function k(){this._onUnmount()},render:function k(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_4h96")},c("React").createElement("textarea",{className:"_4h98 navigationFocus",ref:"textarea","aria-label":this.props["aria-label"],placeholder:this.props.placeholder,onFocus:this.props.onFocus,onChange:this.onChange,name:"xhpc_message_text","data-testid":"status-attachment-mentions-input"}),c("React").createElement("input",{type:"hidden",name:"xhpc_message",value:this.state.message}))},onChange:function k(l){if(!(l.target instanceof HTMLTextAreaElement))return;this.setState({message:l.target.value})},focus:function k(){this.refs.textarea.focus()},_onUnmount:function k(){var l=c("ReactDOM").findDOMNode(this.refs.textarea);e(["ReactComposerStatusActions","ReactComposerPrefillMentionsInput","ReactInputSelection"],function(m,n,o){var p=l.value;if(!p)return;var q={text:p},r=o.getSelection(l),s=n.createEditorState(q,r);m.setEditorState(this.context.composerID,s)}.bind(this))}});f.exports=j}),null);
__d("ReactComposerStatusLazyAttachmentTextareaContainer.react",["cx","Arbiter","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusLazyAttachmentTextarea.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusLazyAttachmentTextareaContainer",_subscriptions:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"))],statics:{calculateState:function k(l,m){return{focused:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l)}}},componentWillMount:function k(){this._subscriptions=new(c("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(c("Arbiter").subscribe(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID,function(){var l=c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);if(l===c("ReactComposerAttachmentType").STATUS)this.refs.textarea.focus()}.bind(this)))},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release()},propTypes:{expanded:i.bool,id:i.string,hasProfilePic:i.bool,onFocus:i.func.isRequired,placeholder:i.node.isRequired},render:function k(){return c("React").createElement(c("ReactComposerStatusLazyAttachmentTextarea.react"),babelHelpers["extends"]({className:(this.state.focused?"_3_1x":"")+(this.props.expanded?" _4h97":"")+(this.props.hasProfilePic?" _30z":"")},this.props,{ref:"textarea"}))}});f.exports=j}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=c("joinClasses")("_2ph-",this.props.className);return c("React").createElement(c("XUICardSection.react"),{className:l},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerFooter.react",["cx","React","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(!this.props.showInlineSproutsPostBar&&this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE)return null;var l=c("joinClasses")("_2dck",this.props.className);return c("React").createElement(c("XUICardSection.react"),{background:this.props.background,className:l},this.props.children)};function k(){"use strict";i.apply(this,arguments)}k.defaultProps={background:"white"};f.exports=k}),null);
__d("ReactComposerFooterContainer.react",["React","ReactComposerContextTypes","ReactComposerFooter.react","ReactComposerStore","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.calculateState=function(k,l,m){return{sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(m.composerID)}};j.getStores=function(){return[c("ReactComposerStore")]};j.prototype.render=function(){var k=this.context.gks&&this.context.gks.isSproutsComposer;return c("React").createElement(c("ReactComposerFooter.react"),babelHelpers["extends"]({sproutsDisplayState:k?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar},this.props))};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(j,{withContext:true,withProps:true})}),null);
__d("ReactComposerFormattedTextPickerComponent.react",["cx","Grid.react","Link.react","Locale","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.$ReactComposerFormattedTextPickerComponent1=function(n){this.props.onSelect&&this.props.onSelect(n)};m.prototype.$ReactComposerFormattedTextPickerComponent2=function(){__p&&__p();var n=[];for(var o=m.NO_BG_COLOR;o<this.props.textFormats.length;o++){var p=null;if(this.props.noSproutDesign){var q=m.DEFAULT_SWATCH_SIZE,r=this.props.biggerSwatches?40:q,s=this.props.collapsed?-q:(o+1)*r;if(c("Locale").isRTL())s=-s;var t=this.props.collapsed?.01:1;p={opacity:t,transform:"translateX("+s+"px)"}}var u=this.props.badgingEnabled&&o!==m.NO_BG_COLOR&&this.props.textFormats[o].shouldBadge&&(this.props.textFormatsToUnbadge==null||this.props.textFormatsToUnbadge[this.props.textFormats[o].presetID]!==true)&&o!==this.props.selectedIndex&&!this.props.collapsed?c("React").createElement("div",{className:"_3eyp"}):null,v=c("React").createElement(k,{key:o+2,style:p,className:this.props.noSproutDesign?"_4ydj":""},c("React").createElement("div",{className:o===this.props.selectedIndex?"_4ydk":""},c("React").createElement(c("Link.react"),{tabIndex:this.props.collapsed?-1:null,href:"#",onClick:o===this.props.selectedIndex?null:this.$ReactComposerFormattedTextPickerComponent1.bind(this,o)},c("React").createElement("div",{className:"_2j78"+(o===this.props.selectedIndex?" _4ydl":"")+(o===m.NO_BG_COLOR?" _23ju":"")+(this.props.collapsed?" _4vb-":"")+(this.props.biggerSwatches?" _4vc0":""),style:o===m.NO_BG_COLOR?null:this.props.textFormats[o].swatchStyle}),u)));n.push(v)}return n};m.prototype.$ReactComposerFormattedTextPickerComponent3=function(){return c("React").createElement(k,{key:0,className:(this.props.noSproutDesign?"_469m":"")+" _w4h"},c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onToggle},c("React").createElement("div",{className:"_4vc1"+(this.props.collapsed?" _2j7a":"")+(this.props.biggerSwatches?" _4vc2":"")},c("React").createElement("div",{className:!this.props.collapsed?"_2j7b":""}))))};m.prototype.render=function(){var n=this.props.noSproutDesign?this.$ReactComposerFormattedTextPickerComponent3():null,o=this.$ReactComposerFormattedTextPickerComponent2(),p=n===null?o.length:o.length+1;return c("React").createElement(c("Grid.react"),{cols:p,role:"presentation",className:"_23jv"+(this.props.suppressTransition?" _3oia":"")+(this.props.hidden?" _akr":"")+(this.props.noSproutDesign?" _2j7c":"")},n,o)};function m(){i.apply(this,arguments)}m.NO_BG_COLOR=-1;m.DEFAULT_SWATCH_SIZE=28;m.propTypes={biggerSwatches:l.bool,collapsed:l.bool,hidden:l.bool,noSproutDesign:l.bool,onSelect:l.func.isRequired,onToggle:l.func,selectedIndex:l.number,suppressTransition:l.bool,textFormats:l.arrayOf(l.object).isRequired,textFormatsToUnbadge:l.object};f.exports=m}),null);
__d("ReactComposerOptimisticPostingActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},"ReactComposerOptimisticPostingActionType")}),null);
__d("ReactComposerOptimisticPostingStore",["Arbiter","JSLog","React","ReactComposerActionTypes","ReactComposerEvents","ReactComposerInit","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStoryContainer.react","ReactComposerStoreBase","ReactDOM","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";var l=function(m){switch(m.type){case c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(m);break;case c("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING:case c("ReactComposerActionTypes").POST_SUCCEEDED:case c("ReactComposerActionTypes").POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(m);break;default:}}.bind(this);i.constructor.call(this,function(){return{hasVideo:null,optimisticallyPostingElement:null}},l)}k.prototype.isOptimisticallyPosting=function(l){"use strict";return!!this.getComposerData(l).optimisticallyPostingElement};k.prototype.hadOptimisticallyPosted=function(l){"use strict";return!!j[l]};k.prototype.$ReactComposerOptimisticPostingStore3=function(l,m){"use strict";c("Arbiter").inform(c("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+l);c("Arbiter").inform("LitestandComposer/publishTemp",{composer_id:l,markup:m});c("ReactComposerInit").hideAndReplaceComposer(l)};k.prototype.$ReactComposerOptimisticPostingStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","config","attachmentType","actorID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=this.$ReactComposerOptimisticPostingStore4(c("React").createElement(c("ReactComposerOptimisticPostingStoryContainer.react"),{attachmentType:p,composerID:n,config:o,actorID:q,targetID:r}));this.getComposerData(n).optimisticallyPostingElement=s;c("ifRequired")("ReactComposerMediaUploadStore",function(t){this.getComposerData(n).hasVideo=t.getUploadsOfType(n,c("ReactComposerMediaUploadType").VIDEO).size}.bind(this),function(){c("JSLog").error("ReactComposerMediaUploadStore isn't loaded when it's supposed to be.")});this.emitChange(n);setTimeout(this.$ReactComposerOptimisticPostingStore3.bind(null,n,s),0)};k.prototype.$ReactComposerOptimisticPostingStore2=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m).optimisticallyPostingElement;if(!n)return;this.getComposerData(m).optimisticallyPostingElement=null;if(!this.getComposerData(m).hasVideo)c("ReactDOM").unmountComponentAtNode(n);j[m]=true;this.emitChange(m)};k.prototype.$ReactComposerOptimisticPostingStore4=function(l){"use strict";var m=document.createElement("div");c("ReactDOM").render(l,m);return m};f.exports=new k()}),null);
__d("ReactComposerOptimisticPostingStoryFailureMessage.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){var j=function j(){return c("React").createElement("div",{className:"_1rsx"},i._("Your post failed to upload. Please check your internet connection and refresh the browser to try again."))};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryGeneric.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i=function i(){return c("React").createElement("div",{className:"_3lza"},c("React").createElement("div",{className:"_2iwq"},c("React").createElement("div",{className:"_2iwy"}),c("React").createElement("div",{className:"_2iwz"}),c("React").createElement("div",{className:"_2iw-"}),c("React").createElement("div",{className:"_2iw_"}),c("React").createElement("div",{className:"_2ix0"})))};f.exports=i}),null);
__d("ReactComposerOptimisticPostingStoryHeader.react",["cx","fbt","Layout.react","ReactComposerProfilePhoto.react","React"],(function a(b,c,d,e,f,g,h,i){var j=c("Layout.react").Column,k=c("Layout.react").FillColumn,l=c("React").PropTypes,m=function m(){},n=function n(o){var p=o.profilePicSrc,q=o.profileName;return c("React").createElement(c("Layout.react"),{className:"_1zm9"},c("React").createElement(j,{className:"_2pii"},c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:p,profileName:q,onClick:m})),c("React").createElement(k,null,c("React").createElement("h6",{className:"_5pbw"},q),c("React").createElement("span",null,i._("Just now"))))};n.propTypes={profilePicSrc:l.string.isRequired,profileName:l.string.isRequired};f.exports=n}),null);
__d("ReactComposerOptimisticPostingStoryVideo.react",["Bootloader","EventListener","Image.react","JSLog","React","ReactDOM","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=function k(){};h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){"use strict";i.constructor.call(this);this.$ReactComposerOptimisticPostingStoryVideo1=null;this.state={thumbSrc:m.videoUpload.thumbSrc}}l.prototype.componentDidMount=function(){"use strict";if(!this.state.thumbSrc){var m=document.createElement("video");m.setAttribute("src",this.props.videoUpload.fileURL);c("Bootloader").loadModules(["generateVideoThumbnails"],function(){},"ReactComposerOptimisticPostingStoryVideo.react");this.$ReactComposerOptimisticPostingStoryVideo1=c("EventListener").listen(m,"loadedmetadata",this.$ReactComposerOptimisticPostingStoryVideo2.bind(this,m))}};l.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove()};l.prototype.$ReactComposerOptimisticPostingStoryVideo2=function(m){"use strict";var n=c("ReactDOM").findDOMNode(this);c("Bootloader").loadModules(["generateVideoThumbnails"],function(o){o(m,n.clientWidth,n.clientHeight,1).done(function(p){return this.setState({thumbSrc:p.thumbnails[0].getURL()})}.bind(this))}.bind(this),"ReactComposerOptimisticPostingStoryVideo.react");this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();this.$ReactComposerOptimisticPostingStoryVideo1=null};l.prototype.$ReactComposerOptimisticPostingStoryVideo3=function(){"use strict";return c("React").createElement(c("Image.react"),{src:this.state.thumbSrc})};l.prototype.$ReactComposerOptimisticPostingStoryVideo4=function(){"use strict";return c("ifRequired")("ReactComposerVideoXUploadPlaceholder.react",function(m){return c("React").createElement(m,{onRemoveButtonClicked:k,uploadID:this.props.videoUpload.id,uploadProgress:this.props.videoUpload.progress,uploadState:this.props.videoUpload.state})}.bind(this),function(){c("JSLog").error("ReactComposerVideoXUploadPlaceholderContainer.react isn't loaded when it's supposed to be.")})};l.prototype.render=function(){"use strict";return this.state.thumbSrc&&this.state.thumbSrc.indexOf("data:image/")===0?this.$ReactComposerOptimisticPostingStoryVideo3():this.$ReactComposerOptimisticPostingStoryVideo4()};l.propTypes={videoUpload:j.object.isRequired};f.exports=l}),null);
__d("ReactComposerOptimisticPostingStoryMedia.react",["cx","Image.react","immutable","React","ReactComposerCollageUtils","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStoryVideo.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=5,m=1e3;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.$ReactComposerOptimisticPostingStoryMedia1=function(o){"use strict";if(o.size===0)return[];else if(o.size===1)return c("ReactComposerCollageUtils").getSingleItemStyleInfo(o.first(),m);else{var p=c("ReactComposerCollageUtils").getCollageLayoutConfig(o,m);return p.getItemStyleInfos()}};n.prototype.$ReactComposerOptimisticPostingStoryMedia2=function(o){"use strict";var p=0;o.forEach(function(q){var r=q.top+q.height;if(r>p)p=r});return p/m*100};n.prototype.$ReactComposerOptimisticPostingStoryMedia3=function(o){"use strict";__p&&__p();return o.map(function(p,q){__p&&__p();var r=this.props.mediaUploads.get(q),s=p.height/m*100,t=p.width/m*100,u=p.top/m*100,v=p.left/m*100,w=void 0;if(r.mediaType===c("ReactComposerMediaUploadType").VIDEO)w=c("React").createElement(c("ReactComposerOptimisticPostingStoryVideo.react"),{videoUpload:r});else{var x=r.width/r.height,y=p.width/p.height,z=x>y?{height:"100%"}:{width:"100%"},A=r.isSpherical&&r.thumbSrc?r.thumbSrc:r.fileURL;w=c("React").createElement(c("Image.react"),{src:A,style:z})}var B=null;if(this.props.mediaUploads.size>l&&q===l-1)B=this.$ReactComposerOptimisticPostingStoryMedia4();return c("React").createElement("div",{key:r.id,className:"_58vp",style:{paddingBottom:""+s+"%",width:""+t+"%",top:""+u+"%",left:""+v+"%"}},w,B)}.bind(this))};n.prototype.$ReactComposerOptimisticPostingStoryMedia4=function(){"use strict";var o=this.props.mediaUploads.size-l+1;return c("React").createElement("div",{className:"_52d9"},c("React").createElement("div",{className:"_52da"},c("React").createElement("div",{className:"_52db"},"+",o)))};n.prototype.render=function(){"use strict";var o=this.$ReactComposerOptimisticPostingStoryMedia1(this.props.mediaUploads.take(l));return c("React").createElement("div",{className:"_58vq",style:{paddingBottom:""+this.$ReactComposerOptimisticPostingStoryMedia2(o)+"%"}},this.$ReactComposerOptimisticPostingStoryMedia3(o))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={mediaUploads:k.instanceOf(c("immutable").List).isRequired};f.exports=n}),null);
__d("ReactComposerOptimisticPostingStoryProgress.react",["cx","fbt","BUIProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=function k(l){var m=l.percent,n=void 0;if(m===null)n={isBuffering:true};else n={percentage:m};return c("React").createElement("div",{className:"_2oj3"},c("React").createElement("span",null,i._("Uploading...")),c("React").createElement(c("BUIProgressBar.react"),babelHelpers["extends"]({className:"_2oj4",flexibleWidth:true},n)))};k.propTypes={percent:j.number};f.exports=k}),null);
__d("ReactComposerOptimisticPostingStoryStatus.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=function j(l){var m=l.status;return c("React").createElement("div",{className:"_4sfj"},c("React").createElement("div",{className:"_5pbx"},m))},k=i.oneOfType([i.number,i.string,i.element,i.arrayOf(k)]);j.PropTypes={status:k.isRequired};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryVideoMessage.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){var j=function j(){return c("React").createElement("div",{className:"_1rsx"},i._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view."))};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryContainer.react",["cx","Arbiter","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerEvents","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStore","ReactComposerOptimisticPostingStoryGeneric.react","ReactComposerOptimisticPostingStoryHeader.react","ReactComposerOptimisticPostingStoryMedia.react","ReactComposerOptimisticPostingStoryProgress.react","ReactComposerOptimisticPostingStoryStatus.react","ReactComposerOptimisticPostingStoryVideoMessage.react","ReactComposerOptimisticPostingStoryFailureMessage.react","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerStatusStore","ReactComposerStore","ReactComposerVideoUploadStore","StoreBasedStateMixinHelper","XUICard.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerOptimisticPostingStoryContainer",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{attachmentType:i.string.isRequired,composerID:i.string.isRequired,config:c("ReactComposerConfig").isRequired,targetID:i.string.isRequired,actorID:i.string.isRequired},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function k(){return this._calculateState()},componentDidUpdate:function k(l,m){if(this.state.isOptimisticallyPosting&&!this.state.isUploading&&!this.state.videoFinishedPosting&&this.state.uploadSuccessRate!==0)c("ReactComposerActions").postStarted(this.props.composerID,{actorID:this.props.actorID,config:this.props.config,targetID:this.props.targetID})},componentDidMount:function k(){__p&&__p();this._previousPercent=0;this._mixin=new(c("StoreBasedStateMixinHelper"))([c("ReactComposerMediaUploadStore"),c("ReactComposerOptimisticPostingStore"),c("ReactComposerPhotoStore"),c("ReactComposerStore"),c("ReactComposerVideoUploadStore")]);this._mixin.subscribeCallback(function(l){if(this._recalculateStateID===null)this._recalculateStateID=setTimeout(function(){var m=this._calculateState(),n=Math.max(m.percent,this._previousPercent);m.percent=n;this._previousPercent=n;this.setState(m);this._recalculateStateID=null}.bind(this),0)}.bind(this));if(c("ReactComposerMediaUploadStore")&&c("ReactComposerMediaUploadStore").getUploadsOfType(this.props.composerID,c("ReactComposerMediaUploadType").VIDEO).size)c("Arbiter").subscribeOnce(c("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedPosting:true})}.bind(this))},componentWillUnmount:function k(){this._mixin&&this._mixin.release();this._recalculateStateID&&clearTimeout(this._recalculateStateID)},_calculateState:function k(){__p&&__p();var l,m=this,n=null,o=1;if(this.props.attachmentType===c("ReactComposerAttachmentType").MEDIA&&c("ReactComposerMediaUploadStore"))(function(){__p&&__p();var s=c("ReactComposerMediaUploadStore").getUploads(m.props.composerID),t=0,u=0,v=0,w=0,x=0;s.forEach(function(A){if(A.get("fileSize")!==null){u+=A.get("fileSize");v+=(A.progress||0)*A.get("fileSize")}else{w++;x+=A.progress||0}if(A.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE)t++});if(w){var y=s.size-w,z=y?u/y:1;u+=z*w;v+=z*x}if(u)n=v/u;o=t/s.size})();if(this.props.attachmentType===c("ReactComposerAttachmentType").STATUS)n=100;var p=c("ReactComposerVideoUploadStore").getVideo(this.props.composerID)&&c("ReactComposerStore").isPosting(this.props.composerID),q=c("ReactComposerPhotoStore").isSphericalPhotoUpdating(this.props.composerID),r=c("ReactComposerMediaUploadStore").isUploading(this.props.composerID)||c("ReactComposerPhotoStore").isRecognizing(this.props.composerID)||q||p;return{percent:n,videoFinishedPosting:this.state&&this.state.videoFinishedPosting,isUploading:r,isOptimisticallyPosting:c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(this.props.composerID),uploadSuccessRate:o}},_renderStatusElement:function k(){var l=c("ReactComposerStatusStore").getMessageText(this.props.composerID),m=[].concat(l.split("\n"));for(var n=1;n<m.length;n+=2)m.splice(n,0,c("React").createElement("br",{key:n}));return c("React").createElement(c("ReactComposerOptimisticPostingStoryStatus.react"),{key:"status",status:m})},_renderMediaElement:function k(){if(!c("ReactComposerMediaUploadStore"))return this._renderGenericElement();if(!this._mediaUploads)this._mediaUploads=c("ReactComposerMediaUploadStore").getUploads(this.props.composerID);var l=c("React").createElement(c("ReactComposerOptimisticPostingStoryMedia.react"),{key:"media",mediaUploads:this._mediaUploads});if(!c("ReactComposerStatusStore").getMessageText(this.props.composerID))return l;return[this._renderStatusElement(),l]},_renderGenericElement:function k(){return c("React").createElement(c("ReactComposerOptimisticPostingStoryGeneric.react"),null)},_renderBody:function k(){var l=void 0;if(this.props.attachmentType===c("ReactComposerAttachmentType").STATUS)l=this._renderStatusElement();else if(this.props.attachmentType===c("ReactComposerAttachmentType").MEDIA)l=this._renderMediaElement();else l=this._renderGenericElement();return c("React").createElement("div",{className:"_38-r"},l)},render:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=l.profilePicSrc,n=l.profileName;return c("React").createElement(c("XUICard.react"),{className:"_4rtr"},this.state.videoFinishedPosting?c("React").createElement(c("ReactComposerOptimisticPostingStoryVideoMessage.react"),null):!this.state.isUploading&&this.state.uploadSuccessRate===0?c("React").createElement(c("ReactComposerOptimisticPostingStoryFailureMessage.react"),null):c("React").createElement(c("ReactComposerOptimisticPostingStoryProgress.react"),{percent:this.state.percent}),c("React").createElement(c("ReactComposerOptimisticPostingStoryHeader.react"),{profilePicSrc:m,profileName:n}),this._renderBody())}});f.exports=j}),null);
__d("ReactComposerOptimisticPostingActions",["ReactComposerConfig","ReactComposerDispatcher","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStore"],(function a(b,c,d,e,f,g){c("ReactComposerOptimisticPostingStore");var h={startOptimisticallyPosting:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,config:k,attachmentType:l,actorID:m,targetID:n,type:c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING})},finishOptimisticallyPosting:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING})}};f.exports=h}),null);
__d("ReactComposerPostButton.react",["cx","fbt","ix","Image.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.getButtonSize=function(){return"medium"};n.prototype.render=function(){var o=c("React").createElement(c("Image.react"),{className:"_5gm4"+(this.props.disabled&&this.props.isPosting?" _5gm5":""),src:j("85428"),"data-testid":"react-composer-throbber"}),p=c("React").createElement("span",{className:this.props.disabled&&this.props.isPosting?"_5gm9":""},this.props.label);return c("React").createElement(c("XUIButton.react"),{className:"_1mf7",disabled:this.props.disabled,label:p,image:o,onClick:this.props.onClick,use:"confirm","data-testid":"react-composer-post-button"})};function n(){k.apply(this,arguments)}n.propTypes={disabled:m.bool,onClick:m.func,label:m.string,isPosting:m.bool};n.defaultProps={disabled:false,label:i._("Post")};f.exports=n}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","BanzaiODS","BootloadedComponent.react","Bootloader","JSResource","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerFormattedTextPickerComponent.react","ReactComposerInit","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReloadPage","SimpleXUIDialog","XUIButtonGroup.react","$","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="misinfo_warning_disputed_flags",j="composer_confirmation_dialog_shown",k="composer_posted_anyways",l=c("React").PropTypes,m={contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerOptimisticPostingStore"),c("ReactComposerStore"))],propTypes:{config:c("ReactComposerConfig").isRequired,forceDisabled:l.bool,onClickPreprocess:l.func,useDefaultScheduleComponent:l.bool},getDefaultProps:function n(){return{forceDisabled:false}},statics:{calculateState:function n(o,p,q){var r=c("ReactComposerStore").isPosting(o),s=c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(o);return{disabled:p.forceDisabled||r||s,isPosting:r,isOptimisticallyPosting:s}},getButtonSize:function n(){return"medium"}},render:function n(){var o=c("React").createElement(c("ReactComposerPostButton.react"),babelHelpers["extends"]({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:this._onClick,isPosting:this.state.isPosting}));if(this.props.useDefaultScheduleComponent&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr)return c("React").createElement("span",null,c("React").createElement(c("XUIButtonGroup.react"),null,o),c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin"),bootloadPlaceholder:c("React").createElement("div",null),composerID:this.context.composerID,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:this.props.config.actorConfig.minScheduledTimeDelta,maxScheduledTimeDelta:this.props.config.actorConfig.maxScheduledTimeDelta,timezoneOffset:this.props.config.actorConfig.timezoneOffset,defaultScheduledTimeDelta:this.props.config.actorConfig.defaultScheduledTimeDelta}));return o},_onClick:function n(event){__p&&__p();if(this.state.disabled){event.preventDefault();return}if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;c("ifRequired")("ReactComposerFormattedTextStore",function(o){this._checkEmptyTextWithBackgroundColor(o)}.bind(this),function(){this._validateAndStartPost()}.bind(this))},_checkEmptyTextWithBackgroundColor:function n(o){var p=c("ReactComposerStatusStore").getTextLength(this.context.composerID),q=o.getBackgroundColorIsActive(this.context.composerID);if(p===0&&q)c("Bootloader").loadModules(["XUIDialogButton.react"],function(r){var s=c("React").createElement("div",null,c("React").createElement(r,{action:"cancel",label:h._("Go Back")}),c("React").createElement(r,{action:"cancel",label:h._("Post"),onClick:function(){this._removeBackground();this._validateAndStartPost()}.bind(this),use:"confirm"}));c("SimpleXUIDialog").showEx(h._("The background you selected will only appear when you add text to your post."),h._("Post Without Background?"),s)}.bind(this),"ReactComposerPostButtonContainerMixin");else this._validateAndStartPost()},_validateAndStartPost:function n(){__p&&__p();var o,p=this;if(this._validateAlbumAddition()===false){c("SimpleXUIDialog").show(h._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),h._("Cannot add post to album"));c("BanzaiODS").bumpEntityKey("www_composer_albumsv2","error_no_media");return}var q=this.context.composerID,r=c("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(q);if(r){var o=function(){__p&&__p();var s,t=c("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(q);r.subscribe("confirm",function(){r.hide();r.destroy();if(t)c("BanzaiODS").bumpEntityKey(i,k);this._doStartPost()}.bind(p));if(t)(function(){var u=r.subscribe("show",function(){c("BanzaiODS").bumpEntityKey(i,j);u.unsubscribe()})})();r.show();return{v:void 0}}();if(typeof o==="object")return o.v}else this._doStartPost()},_removeBackground:function n(){c("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(o){o.setSelectedIndex(this.context.composerID,c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)}.bind(this),"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function n(){var o=this.context.composerID,p=c("ReactComposerAudienceStore").getCollectionID(o);if(!p)return true;var q=c("ReactComposerMediaUploadStore").getUploads(o);if(q&&q.size>0)return true;return this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function n(){if(this.context.gks.optimisticPosting)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else c("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});if(this.props.config.dialogComposer){c("ReactComposerInit").unmountInstance(this.context.composerID);c("$")(this.props.config.dialogElementID).remove();c("ReloadPage").now()}}};f.exports=m}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerPostButtonContainer",mixins:[c("ReactComposerPostButtonContainerMixin")]});f.exports=h}),null);
__d("ReactComposerGenericFooter.react",["ReactComposerConfig","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerPostButtonContainer.react","React","LeftRight.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.postButton?this.props.postButton:c("React").createElement(c("ReactComposerPostButtonContainer.react"),{config:this.props.config}),m=void 0,n=this.props.config,o=n.actorConfig,p=n.postButtonConfig;if(p&&p.isScheduledPost){if(p.scheduleNotice){var q=p.scheduleNotice.module;if(q)m=c("React").createElement(q,{config:this.props.config})}}else if(o&&o.scheduleNotice){var r=o.scheduleNotice.module;if(r)m=c("React").createElement(r,{config:this.props.config})}return c("React").createElement(c("ReactComposerFooterContainer.react"),{background:this.props.background},m,c("React").createElement(c("LeftRight.react"),null,this.props.leftChild,c("React").createElement(c("ReactComposerFooterActions.react"),null,this.props.audienceSelector,this.props.helpIcon,this.props.backButton,l)))};function k(){"use strict";h.apply(this,arguments)}k.propTypes={audienceSelector:j.element,background:j.string,config:c("ReactComposerConfig").isRequired,leftChild:j.element,postButton:j.element,backButton:j.element,helpIcon:j.element};k.defaultProps={background:"white",leftChild:c("React").createElement("noscript",null)};f.exports=k}),null);
__d("ReactComposerStatusPlaceholderFooter.react",["cx","fbt","ReactComposerAttachmentType","ReactComposerConfig","ComposerEntryPointRef","ReactComposerGenericFooter.react","ReactComposerPostButtonContainer.react","DOMContainer.react","React","idx","requireWeak","ReactComposerTimelineAudienceSelectorContainerGatedModule"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=void 0;c("requireWeak")("ReactComposerAudienceSelectorContainer.react",function(o){l=o});var m=c("ReactComposerTimelineAudienceSelectorContainerGatedModule").module;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.$ReactComposerStatusPlaceholderFooter1=function(){"use strict";return this.props.composerType===c("ComposerEntryPointRef").TIMELINE&&this.props.config.targetData.viewerIsTarget&&!m};n.prototype.render=function(){var o;"use strict";var p=this.props.config,q=p.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],r=q.footerBackground?q.footerBackground:p.showExpandedComposer?"white":"light-wash",s=c("React").createElement(c("ReactComposerPostButtonContainer.react"),{label:this.$ReactComposerStatusPlaceholderFooter1()?i._("Next"):((o=p)!=null?(o=o.postButtonConfig)!=null?o.isScheduledPost:o:o)?i._("Schedule Post"):i._("Post"),forceDisabled:true,config:p}),t=null;if(p.audienceXHP&&!this.$ReactComposerStatusPlaceholderFooter1())t=l&&p.targetData?c("React").createElement(l,{audienceXHP:p.audienceXHP,viewerIsTarget:p.targetData.viewerIsTarget}):c("React").createElement(c("DOMContainer.react"),{className:"_5dd8"},p.audienceXHP);return c("React").createElement(c("ReactComposerGenericFooter.react"),{audienceSelector:t,postButton:s,background:r,config:p})};function n(){"use strict";j.apply(this,arguments)}n.propTypes={config:c("ReactComposerConfig").isRequired};f.exports=n}),null);
__d("ReactComposerTaggerSummaryPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3o1x"})};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerStatusAttachmentPlaceholder.react",["ActorURI","Bootloader","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextTypes","ReactComposerDragDropPromptLazy.react","ReactComposerLoggingName","ReactComposerPostUtilsCore","ReactComposerProfilePhotoBlock.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusLazyAttachmentTextareaContainer.react","ReactComposerStatusPlaceholderFooter.react","ReactComposerStore","ReactComposerTaggerSummaryPlaceholder.react","ReactComposerWorkFileStore","ReactDOM","SubscriptionsHandler","curry"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("ReactComposerWorkFileStore").module,i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusAttachmentPlaceholder",_subscriptionsHandler:null,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerStore"))],propTypes:{config:c("ReactComposerConfig").isRequired,expanded:i.bool,placeholder:i.string.isRequired},statics:{calculateState:function k(l,m){return{isActive:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(l)}}},componentDidMount:function k(){var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(c("Event").listen(c("ReactDOM").findDOMNode(this.refs.form),"success",c("curry")(c("ReactComposerPostUtilsCore").handlePostSucceeded,this.context.composerID)));this._subscriptionsHandler=l},componentWillUnmount:function k(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},render:function k(){var l=this.context.gks&&this.context.gks.isSproutsComposer,m=this._renderTextArea(),n=l?this._renderSproutsList():null,o=this.state.isActive||this.props.expanded||l?c("React").createElement(c("ReactComposerStatusPlaceholderFooter.react"),{config:this.props.config,composerType:this.context.composerType}):null,p=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],q=null;if(p.audienceIndicator){var r=p.footerBackground?p.footerBackground:this.props.config.showExpandedComposer?"white":"light-wash",s=p.audienceIndicator.module;q=c("React").createElement(s,{background:r,config:this.props.config})}return c("React").createElement("div",null,c("React").createElement(c("ReactComposerDragDropPromptLazy.react"),{root:this,config:this.props.config,onFilesDrop:this._onFilesDrop,onMediaDrop:this._onMediaDrop,onURLDrop:this._onURLDrop}),c("React").createElement("form",{action:c("ActorURI").create("/ajax/updatestatus.php",this.context.actorID),method:"post",rel:"async",ref:"form"},m,c("React").createElement(c("ReactComposerTaggerSummaryPlaceholder.react"),null),n,q,o,this._getHiddenInputs()))},_renderTextArea:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=c("React").createElement(c("ReactComposerStatusLazyAttachmentTextareaContainer.react"),{expanded:this.props.expanded,hasProfilePic:l.showProfilePic,onFocus:this._onFocus,placeholder:this.props.placeholder});if(l.showProfilePic)return c("React").createElement(c("ReactComposerProfilePhotoBlock.react"),{profilePicSrc:l.profilePicSrc,profileURI:l.profileURI,profileDialogURI:l.profileDialogURI,profilePhotoBadge:l.customProfilePhoto,currentProfileBadgeURI:l.currentProfileBadgeURI},m);else return m},_renderSproutsList:function k(){var l=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return c("React").createElement(l,{config:this.props.config})},_onFocus:function k(){c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true,c("ReactComposerLoggingName").INLINE_COMPOSER)},_onFilesDrop:function k(l){c("Bootloader").loadModules(["ReactComposerFileUtils","ReactComposerFileStore","ReactComposerStatusUtils"],function(m,n,o){var p=this.context.composerID,q=m.selectFileOrWorkFileModule(n,h).getMaxFileUploadSize(p);if(m.hasExceededFileSize(l[0],q))return;o.loadDroppedFile(p,l[0],this.context)}.bind(this),"ReactComposerStatusAttachmentPlaceholder.react")},_onMediaDrop:function k(l){var m=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];c("Bootloader").loadModules(["ReactComposerStatusUtils","ReactComposerPhotoUploader"],function(n,o){var p=this.context.composerID;n.uploadDroppedMedia(p,l,new o(this.context,m.photoLimit,{disableFaceRecognition:m.disableFaceboxTagger}),this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],this.context)}.bind(this),"ReactComposerStatusAttachmentPlaceholder.react")},_onURLDrop:function k(l){c("Bootloader").loadModules(["ReactComposerScrapedAttachmentActions","ReactComposerStatusUtils"],function(m,n){var o=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").STATUS,true,c("ReactComposerLoggingName").LINK_DROPPED);m.enabled(this.context.composerID,o.canScrapeShare);n.scrapeLink(this.context.composerID,this.context.targetID,l,this.context.composerType,this.context.actorID)}.bind(this),"ReactComposerStatusAttachmentPlaceholder.react")},_getHiddenInputs:function k(){var l=c("ReactComposerPostUtilsCore").getCoreData(this.context.composerID,this.props.config.contextInfo,this.context.targetID),m=[];for(var n in l)m.push(c("React").createElement("input",{type:"hidden",name:n,value:l[n],key:n}));return m}});f.exports=j}),null);
__d("XReactComposerStatusAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/status/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerStatusLazyAttachment.react",["fbt","ActorURI","Arbiter","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","ReactComposerStatusAttachmentPlaceholder.react","XReactComposerStatusAttachmentBootstrapController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerStatusLazyAttachment",_useCustomPlaceholder:true,mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{additionalTaggers:i.arrayOf(i.shape({button:i.element.isRequired,container:i.element.isRequired})),additionalFooterActions:i.arrayOf(i.element),bootloader:c("ReactComposerBootloaderPropTypes"),config:i.object.isRequired,expanded:i.bool,onPostIntent:i.func,placeholder:i.string.isRequired},getDefaultProps:function k(){return{placeholder:h._("What's on your mind?")}},statics:{attachmentID:c("ReactComposerAttachmentType").STATUS,initOnlyWhenComposerActive:true},getInitialState:function k(){return{expanded:false}},componentDidMount:function k(){c("Arbiter").inform("ReactComposerStatusLazyAttachment/mounted",this.context.composerID,c("Arbiter").BEHAVIOR_STATE)},componentWillUpdate:function k(l,m){if(!m.isSelected)this._useCustomPlaceholder=false},getPlaceholderModule:function k(){if(!this._useCustomPlaceholder)return null;if(this._placeholder)return this._placeholder;this._placeholder=c("ReactComposerStatusAttachmentPlaceholder.react");return this._placeholder},bootload:function k(l){if(this.props.bootloader)this.props.bootloader.statusAttachment(l);else c("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react"],l,"ReactComposerStatusLazyAttachment.react")},getBootstrapURI:function k(){return c("ActorURI").create(c("XReactComposerStatusAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=j}),null);
__d("ReactComposerMarkdownPreviewActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_PREVIEW:null,UPDATE_PREVIEW:null},"ReactComposerMarkdownPreviewActionType")}),null);
__d("XReactComposerMarkdownPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/status/markdown_preview/",{})}),null);
__d("ReactComposerMarkdownPreviewStore",["AsyncRequest","ReactComposerMarkdownPreviewActionType","ReactComposerStoreBase","XReactComposerMarkdownPreviewController","getMentionsTextForContentState"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{renderedContent:null}},function(l){switch(l.type){case c("ReactComposerMarkdownPreviewActionType").UPDATE_PREVIEW:k&&k.$ReactComposerMarkdownPreviewStore1(l);break;case c("ReactComposerMarkdownPreviewActionType").SET_PREVIEW:k&&k.$ReactComposerMarkdownPreviewStore2(l);break}});k=this}j.prototype.getRenderedContent=function(k){"use strict";return this.getComposerData(k).renderedContent};j.prototype.$ReactComposerMarkdownPreviewStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","contentState","targetID"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m),q=c("getMentionsTextForContentState")(n),r=c("XReactComposerMarkdownPreviewController").getURIBuilder().getURI();new(c("AsyncRequest"))(r).setData({xc_message:q,composer_id:m,target_id:o}).send();this.emitChange(m)};j.prototype.$ReactComposerMarkdownPreviewStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","renderedContent"]),m=l[0],n=l[1],o=this.getComposerData(m);o.renderedContent=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerMarkdownPreviewActions",["ReactComposerDispatcher","ReactComposerMarkdownPreviewActionType","throttle","ReactComposerMarkdownPreviewStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMarkdownPreviewStore");var h=700;function i(){"use strict";this.updatePreview=c("throttle")(this.$ReactComposerMarkdownPreviewActions1,h,this)}i.prototype.$ReactComposerMarkdownPreviewActions1=function(j,k,l){"use strict";c("ReactComposerDispatcher").dispatch({composerID:j,contentState:l,targetID:k,type:c("ReactComposerMarkdownPreviewActionType").UPDATE_PREVIEW})};i.prototype.setPreview=function(j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:j,renderedContent:k,type:c("ReactComposerMarkdownPreviewActionType").SET_PREVIEW})};f.exports=new i()}),null);
__d("ReactComposerMarkdownPreviewSyntaxHelpDialog.react",["cx","fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.componentDidUpdate=function(){"use strict";this.props.prettify.init()};l.prototype.render=function(){"use strict";if(!this.props.show)return null;return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:true,shown:true,onToggle:this.props.onToggle,hideOnEscape:true,width:450},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("XUIText.react"),null,i._("Text Formatting Help"))),this.$ReactComposerMarkdownPreviewSyntaxHelpDialog1())};l.prototype.$ReactComposerMarkdownPreviewSyntaxHelpDialog1=function(){"use strict";return c("React").createElement(c("XUIDialogBody.react"),{className:(this.props.isMarkdownForInternalEmployee?"_2pi2":"")+(!this.props.isMarkdownForInternalEmployee?" _2pi3":"")+" _3w8y"},c("React").createElement("table",{className:"_11_e"},c("React").createElement("thead",null,c("React").createElement("tr",null,c("React").createElement("td",null,i._("Result")),c("React").createElement("td",null,i._("Formatting")))),c("React").createElement("tbody",null,c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("strong",null,i._("Bold"))),c("React").createElement("td",null,"**",i._("text"),"**")),c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("em",null,i._("Emphasize"))),c("React").createElement("td",null,"*",i._("text"),"*")),c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("p",null,c("React").createElement("a",{href:"https://facebook.com",target:"_blank"},i._("Link")))),c("React").createElement("td",null,"[",i._("title"),"](https://facebook.com)")),c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("code",null,i._("Inline code"))),c("React").createElement("td",null,"`",i._("code"),"`")),c("React").createElement("tr",null,c("React").createElement("td",null,c("React").createElement("pre",{className:"prettyprint"},c("React").createElement("code",null,'console.log("Code block!");'))),c("React").createElement("td",null,"```",c("React").createElement("br",null),"// "," ",i._("your code here"),";",c("React").createElement("br",null),"```")),c("React").createElement("tr",null,c("React").createElement("td",null,i._("List")),c("React").createElement("td",null,"-"," ",i._("item"))),c("React").createElement("tr",null,c("React").createElement("td",null,i._("Numbered List")),c("React").createElement("td",null,"1."," ",i._("first item"))),c("React").createElement("tr",null,c("React").createElement("td",null,i._("Quote")),c("React").createElement("td",null,">"," ",i._("quote"))),c("React").createElement("tr",null,c("React").createElement("td",null,"H1"),c("React").createElement("td",null,"#"," ",i._("Heading"))),c("React").createElement("tr",null,c("React").createElement("td",null,"H2"),c("React").createElement("td",null,"##"," ",i._("Heading"))),this.props.isMarkdownForInternalEmployee?[c("React").createElement("tr",{key:"tasks"},c("React").createElement("td",null,"Tasks"),c("React").createElement("td",null,"T123456 or #123456")),c("React").createElement("tr",{key:"diffs"},c("React").createElement("td",null,"Diffs"),c("React").createElement("td",null,"D123456")),c("React").createElement("tr",{key:"paste"},c("React").createElement("td",null,"Paste"),c("React").createElement("td",null,"P123456")),c("React").createElement("tr",{key:"sev"},c("React").createElement("td",null,"SEV"),c("React").createElement("td",null,"S123456")),c("React").createElement("tr",{key:"Bunny"},c("React").createElement("td",null,"Bunny"),c("React").createElement("td",null,"$s stamps$"))]:null)),this.props.isMarkdownForInternalEmployee?c("React").createElement("div",{className:"_2pi3 _11_f"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small"},i._("For further Markdown reference see {Link to markdown dex}.",[i.param("Link to markdown dex",c("React").createElement("a",{href:"http://fburl.com/markdown",target:"_blank"},"Markdown Dex"))]))):null)};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerMarkdownPreview.react",["cx","fbt","DOMContainer.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMarkdownPreviewActions","ReactComposerMarkdownPreviewSyntaxHelpDialog.react","ReactComposerStatusStore","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerMarkdownPreview",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],getInitialState:function l(){return{showSyntaxHelpDialog:false}},propTypes:{prettify:j.object.isRequired,shouldShow:j.bool.isRequired,renderedContent:j.object,isMarkdownForInternalEmployee:j.bool.isRequired},componentDidUpdate:function l(){this.props.prettify.init()},componentWillReceiveProps:function l(m){if(!this.props.shouldShow&&m.shouldShow){var n=c("ReactComposerStatusStore").getEditorState(this.context.composerID);c("ReactComposerMarkdownPreviewActions").updatePreview(this.context.composerID,this.context.targetID,n&&n.getCurrentContent())}},render:function l(){if(!this.props.shouldShow)return null;return c("React").createElement("div",{className:"_371c"},c("React").createElement(c("ReactComposerMarkdownPreviewSyntaxHelpDialog.react"),{show:this.state.showSyntaxHelpDialog,onToggle:this._onDialogToggle,prettify:this.props.prettify,isMarkdownForInternalEmployee:this.props.isMarkdownForInternalEmployee}),c("React").createElement("span",{className:"_371d"},i._("Here's what your post will look like -")," "),c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this._onHintClick},i._("Formatting help")),c("React").createElement("br",null),this.props.renderedContent?c("React").createElement(c("DOMContainer.react"),{className:"_3-8y",display:"block"},this.props.renderedContent):null)},_onHintClick:function l(){this.setState({showSyntaxHelpDialog:true})},_onDialogToggle:function l(){this.setState({showSyntaxHelpDialog:false})}});f.exports=k}),null);
__d("ReactComposerMarkdownPreviewContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerMarkdownPreview.react","ReactComposerMarkdownPreviewStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMarkdownPreviewContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerMarkdownPreviewStore"),c("ReactComposerTaggerStore"))],propTypes:{prettify:h.object.isRequired,isMarkdownForInternalEmployee:h.bool.isRequired},statics:{calculateState:function j(k,l){var m=!!c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").MARKDOWN).isMarkdown;return{shouldShow:m,renderedContent:c("ReactComposerMarkdownPreviewStore").getRenderedContent(k)}}},render:function j(){return c("React").createElement(c("ReactComposerMarkdownPreview.react"),{prettify:this.props.prettify,isMarkdownForInternalEmployee:this.props.isMarkdownForInternalEmployee,shouldShow:this.state.shouldShow,renderedContent:this.state.renderedContent})}});f.exports=i}),null);
__d("ReactComposerGroupishPeopleTaggerPresenter.react",["GroupMentionsTypeaheadView.react"],(function a(b,c,d,e,f,g){var h=function h(i){var j=[],k=[];i.map(function(l){var m=l.getAuxiliaryData(),n=m.renderType;if(n==="member")j.push(l);else k.push(l)});return j.concat(k)};f.exports={ViewRenderer:c("GroupMentionsTypeaheadView.react"),useLayer:true,sortEntries:h}}),null);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes")}),null);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=-1;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(m){switch(m.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c("ReactComposerSessionMetricsActionTypes").KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c("ReactComposerSessionMetricsActionTypes").PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break}});this.ttiTimestamp=j;l=this}k.prototype.getComposerEntryTime=function(l){"use strict";if(this.ttiTimestamp==j)return 0;else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1e3)};k.prototype.getComposerStartTime=function(l){"use strict";return this.getComposerData(l).composerStartTime};k.prototype.getKeystrokeCount=function(l){"use strict";return this.getComposerData(l).keystrokeCount};k.prototype.getPasteCount=function(l){"use strict";return this.getComposerData(l).pasteCount};k.prototype.$ReactComposerSessionMetricsStore1=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now()};k.prototype.$ReactComposerSessionMetricsStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.keystrokeCount++};k.prototype.$ReactComposerSessionMetricsStore3=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.pasteCount++};f.exports=new k()}),null);
__d("ReactComposerContextProviderMixin",["invariant","ReactComposerContextTypes"],(function a(b,c,d,e,f,g,h){var i={childContextTypes:c("ReactComposerContextTypes"),staticGetChildContext:function j(k){return{actorID:k.contextConfig.actorID,composerID:k.contextConfig.composerID,composerType:k.contextConfig.composerType,gks:k.contextConfig.gks||{},targetID:k.contextConfig.targetID,jsModules:k.contextConfig.jsModules,jsResources:k.contextConfig.jsResources}},getChildContext:function j(){return i.staticGetChildContext(this.props)},componentWillMount:function j(){this.props.contextConfig.actorID||h(0);this.props.contextConfig.composerID||h(0);this.props.contextConfig.composerType||h(0);this.props.contextConfig.targetID||h(0)}};f.exports=i}),null);
__d("ReactComposer.react",["cx","FluxContainer","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hasBeenActive:false,isActive:false},m}k.getStores=function(){return[c("ReactComposerStore"),c("ReactComposerSessionMetricsStore")]};k.calculateState=function(l,m,n){var o=n.composerID;return{isActive:c("ReactComposerStore").isActive(o)}};k.prototype.componentDidMount=function(){c("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout);if(this.props.activateOnInit)c("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};k.prototype.componentDidUpdate=function(l,m){if(this.state.isActive&&!this.state.hasBeenActive){this.setState({hasBeenActive:!this.state.hasBeenActive});c("ReactComposerLoggingQueue").initBootload(this.context.composerID,c("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig)}};k.prototype.componentWillUnmount=function(){c("ReactComposerInit").unmountInstance(this.context.composerID,true)};k.prototype.render=function(){var l="_36bx"+(this.props.hideBorders?" _4a60":"");return c("React").createElement(c("XUICard.react"),{className:c("joinClasses")(this.props.className,l),"data-testid":"react-composer-root","data-test-actorid":this.context.actorID,id:this.context.composerID},this.props.children)};k.defaultProps={hideBorders:false,activateOnInit:false,activateOnInitEntryPoint:c("ReactComposerLoggingName").OTHERS};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerBody.react",["cx","React","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c("joinClasses")("_4zoz",this.props.className);return c("React").createElement(c("XUICardSection.react"),{className:l},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerBodyContainer.react",["cx","React","ReactComposerContextTypes","ReactComposerAttachmentStore","ReactComposerBody.react","FluxContainer"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.calculateState=function(l,m,n){var o=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(n.composerID);return{active:o}};k.getStores=function(){return[c("ReactComposerAttachmentStore")]};k.prototype.render=function(){var l=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return c("React").createElement(c("ReactComposerBody.react"),{className:l},this.props.children)};function k(){i.apply(this,arguments)}k.defaultProps={expanded:false,hasMinHeight:true};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerFocusScrollLockUtils",["csx","cx","CSS","DOMQuery","Style","getDocumentScrollElement","getElementRect","getUnboundedScrollPosition","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=300,k=400,l={_interval:0,_pageRoot:null,enable:function m(n){__p&&__p();var o=c("getUnboundedScrollPosition")(c("getDocumentScrollElement")());c("CSS").addClass(this._getPageRoot(),"_ihc");var p=c("getElementRect")(n),q=p.top,r=function(){var s=q+n.offsetHeight+k,t=Math.max(c("getViewportDimensions")().height,s)+"px";if(c("Style").get(this._getPageRoot(),"height")!==t)c("Style").set(this._getPageRoot(),"height",t)}.bind(this);this._interval=setInterval(r,j);r();requestAnimationFrame(function(){window.scrollTo(o.x,0)})},disable:function m(){c("CSS").removeClass(this._getPageRoot(),"_ihc");c("Style").set(this._getPageRoot(),"height",null);clearInterval(this._interval)},_getPageRoot:function m(){if(!this._pageRoot)this._pageRoot=c("DOMQuery").scry(document.body,"._li")[0];return this._pageRoot}};f.exports=l}),null);
__d("ReactComposerFocusModal.react",["fbt","Arbiter","Bootloader","React","ReactComposerFocusScrollLockUtils","ReactComposerFocusWrapperCore.react","ReactComposerLoggingActions","ReactDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=null,m=null,n=null;i=babelHelpers.inherits(o,c("React").PureComponent);j=i&&i.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={focused:false,showDiscardDialog:false},this.$ReactComposerFocusModal2=function(){c("Bootloader").loadModules(["ReactComposerHandleUnsavedChanges","ReactComposerFocusDiscardDialog.react","ReactComposerInit"],function(u,v,w){n=u;m=v;l=w},"ReactComposerFocusModal.react")},this.$ReactComposerFocusModal4=function(u){if(u)return this.$ReactComposerFocusModal1();if(m&&n&&n.hasUnsavedChanges(this.$ReactComposerFocusModal6()))this.$ReactComposerFocusModal7();else this.$ReactComposerFocusModal8()}.bind(this),this.$ReactComposerFocusModal8=function(){c("ReactComposerLoggingActions").composerCancel(this.$ReactComposerFocusModal6());this.$ReactComposerFocusModal9();try{if(l)l.resetComposer(this.$ReactComposerFocusModal6())}catch(u){}c("Arbiter").inform("ReactComposerFocus/reset/"+this.$ReactComposerFocusModal6());this.$ReactComposerFocusModal1()}.bind(this),this.$ReactComposerFocusModal3=function(){var u=c("ReactDOM").findDOMNode(this.refs.focus.getComposer());c("ReactComposerFocusScrollLockUtils").enable(u);this.setState({focused:true})}.bind(this),this.$ReactComposerFocusModal1=function(){c("ReactComposerFocusScrollLockUtils").disable();this.setState({focused:false})}.bind(this),this.$ReactComposerFocusModal7=function(){this.setState({showDiscardDialog:true})}.bind(this),this.$ReactComposerFocusModal9=function(){this.setState({showDiscardDialog:false})}.bind(this),this.$ReactComposerFocusModal6=function(){return this.refs.focus.getComposerID()}.bind(this),q}o.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerFocusModal1()};o.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("ReactComposerFocusWrapperCore.react"),{composerID:this.props.composerID,focused:this.state.focused,fixHeight:true,onFirstFocus:this.$ReactComposerFocusModal2,onFocus:this.$ReactComposerFocusModal3,onDismiss:this.$ReactComposerFocusModal4,gks:this.props.gks,ref:"focus"},this.props.children),this.$ReactComposerFocusModal5())};o.prototype.$ReactComposerFocusModal5=function(){"use strict";var p=null;if(this.state.showDiscardDialog&&m)p=c("React").createElement(m,{onConfirm:this.$ReactComposerFocusModal8,onCancel:this.$ReactComposerFocusModal9});return p};o.propTypes={composerID:k.string.isRequired,actorID:k.string.isRequired,gks:k.object.isRequired};f.exports=o}),null);
__d("ReactComposerSproutItem.react",["cx","fbt","ExtensibleSproutsItemType","Focus","Image.react","Link.react","React","TooltipData","XUISpinner.react","ReactComposerActions","ReactComposerSproutBadgePromotionUtils","joinClasses","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSproutItem1=function(){if(this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout)if(this.context.promotionID)c("ReactComposerSproutBadgePromotionUtils").endPromotion(this.context.promotionID,this.context.composerID)}.bind(this),o}m.prototype.render=function(){var n=this.props.loading?c("React").createElement(c("XUISpinner.react"),{className:"_20j1",background:"dark",size:"small"}):null,o=this.props.uiConfig,p=i._("NEW"),q=!this.context.hasFinishedSproutPromotion&&this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-delay":"500"},c("TooltipData").propsFor(p),{"data-tooltip-display":"overflow",className:"_25vx",title:this.context.subtitle&&this.context.subtitle}),p):null;return c("React").createElement(c("Link.react"),{role:"button","aria-pressed":this.props.highlighted},c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")("_m_1"+(this.props.loading?" _20jn":"")+(this.props.highlighted?" _3x6w":"")+(q?" _4c9w":""),o.className),onClick:this.$ReactComposerSproutItem1,onMouseDown:function r(s){return s.preventDefault()},"data-testid":o.webDriverTestID,ref:"sproutItemRoot"},c("TooltipData").propsFor(o.tooltip)),c("React").createElement(c("Image.react"),{className:"_4a0a",src:o.icon}),c("React").createElement("div",babelHelpers["extends"]({"data-tooltip-delay":"500","data-tooltip-display":"overflow"},c("TooltipData").propsFor(o.label),{className:"_2aha"}),o.label),q,n))};m.prototype.focus=function(){c("Focus").set(this.refs.sproutItemRoot)};m.contextTypes={hasFinishedSproutPromotion:l.bool.isRequired,promotionID:l.number,promotedSprout:l.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:l.string,composerID:l.string};m.defaultProps={highlighted:false};f.exports=m}),null);
__d("ReactComposerEllipsisSproutContainer.react",["cx","ix","React","ReactComposerContextTypes","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerSproutItem.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerEllipsisSproutContainer1=function(event){c("ReactComposerLoggingActions").composerEntry(this.context.composerID,c("ReactComposerLoggingName").ELLIPSIS_SPROUT)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:{label:"",iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",icon:i("28705"),className:"_1gr3",loggingName:c("ReactComposerLoggingName").ELLIPSIS_SPROUT},onClick:this.$ReactComposerEllipsisSproutContainer1})};l.contextTypes=c("ReactComposerContextTypes");f.exports=l}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerSproutItem.react","ReactComposerTaggerActions","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={loading:false},this.$ReactComposerLazySproutContainer1=function(){this.setState({loading:true});if(this.props.uiConfig.sproutTaggerID)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,this.props.uiConfig.sproutTaggerID,true)}.bind(this),l}j.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$ReactComposerLazySproutContainer1,loading:this.state.loading})};j.contextTypes=c("ReactComposerContextTypes");f.exports=j}),null);
__d("ReactComposerSproutsStyleUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function i(j,k){var l=this.calculateSproutContainerHeight(j),m=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,n=Math.round(Math.max(k-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/m),o=Math.round((k+l-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/m);return{start:n,end:o}},calculateVisibleSprouts:function i(j,k){var l={};for(var m=0;m<k.length;m++){var n=m>=j.start*this.SPROUTS_PER_ROW&&m<(j.end+1)*this.SPROUTS_PER_ROW;l[k[m]]=n}return l},calculateVisibleInlineSprouts:function i(j,k){var l={};for(var m=0;m<k.length;m++){var n=j.indexOf(k[m])>=0;l[k[m]]=n}return l},calculateSproutContainerHeight:function i(j){return j*this.SPROUT_HEIGHT_PX+Math.floor(j)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};f.exports=h}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","Grid.react","React","ReactComposerActions","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","ReactComposerStore","ComposerWaterfallEvent","ReactComposerSproutBadgePromotionUtils","ExtensibleSproutsItemType","debounce","getObjectValues","joinClasses","ReactComposerContextTypes"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerSproutsListRenderer8=function(){this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_SCROLL)}.bind(this),p}n.prototype.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};n.prototype.componentDidMount=function(){if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)setTimeout(function(){this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_INITIAL)}.bind(this),0);else this.$ReactComposerSproutsListRenderer4(c("ComposerWaterfallEvent").SPROUTS_INITIAL)};n.prototype.componentDidUpdate=function(o){if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED&&o.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE)this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE);if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE&&o.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListRenderer4(c("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE)};n.prototype.render=function(){var o=this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED?this.$ReactComposerSproutsListRenderer5():this.$ReactComposerSproutsListRenderer6(),p=this.$ReactComposerSproutsListRenderer7();return c("React").createElement("div",{className:"_16ve",style:p,ref:function(q){return this.$ReactComposerSproutsListRenderer1=q}.bind(this),onScroll:this.context.gks.extensibleSproutsNumRows&&c("debounce")(this.$ReactComposerSproutsListRenderer8)},o)};n.prototype.$ReactComposerSproutsListRenderer7=function(){if(this.context.gks.extensibleSprouts&&this.context.gks.extensibleSproutsNumRows){var o=this.context.gks.extensibleSproutsNumRows,p=c("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(o);return{maxHeight:p+"px",overflowY:"auto"}}else return{}};n.prototype.$ReactComposerSproutsListRenderer3=function(event){__p&&__p();if(!this.$ReactComposerSproutsListRenderer1)return;var o=c("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$ReactComposerSproutsListRenderer1.scrollTop),p=c("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(o,c("ReactComposerStore").getOrderedSprouts(this.context.composerID));c("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,p,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){var q=this.props.config.sproutsPromotionConfig.sprout;if(!this.props.hasLoggedSproutPromotionView&&q)if(p[q]===true)if(this.props.config.sproutsPromotionConfig.promotionID)c("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)}};n.prototype.$ReactComposerSproutsListRenderer4=function(event){var o=c("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$ReactComposerSproutsListRenderer2,c("ReactComposerStore").getOrderedSprouts(this.context.composerID));c("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,o,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};n.prototype.$ReactComposerSproutsListRenderer9=function(o,p){return c("React").createElement("li",{className:"_5xmp",key:p},o)};n.prototype.$ReactComposerSproutsListRenderer6=function(){__p&&__p();var o=[];this.$ReactComposerSproutsListRenderer2=[];var p=this.props.config.sproutsConfig,q=this.props.config.inlineSproutsList;if(p)if(q&&q.length>0){for(var r=0;r<q.length;r++)if(this.$ReactComposerSproutsListRenderer10(p[q[r]])&&!this.$ReactComposerSproutsListRenderer11(q[r]))if(this.$ReactComposerSproutsListRenderer12(q[r],o))break}else for(var s in p){if(!this.$ReactComposerSproutsListRenderer10(p[s])||!this.$ReactComposerSproutsListRenderer13(p[s])||this.$ReactComposerSproutsListRenderer11(s))continue;if(this.$ReactComposerSproutsListRenderer12(s,o))break}o.length<=3||i(0);return c("React").createElement("ul",{className:"_16vg"+(o.length===3?" _1oxv":"")},o,this.$ReactComposerSproutsListRenderer9(c("React").createElement(c("ReactComposerEllipsisSproutContainer.react"),null),"ELLIPSIS"))};n.prototype.$ReactComposerSproutsListRenderer5=function(){__p&&__p();var o=[],p=this.props.config.sproutsConfig,q=this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout;if(q)o.push(c("React").createElement(l,{key:q},this.props.sprouts[q]));if(p)for(var r in p){if(!this.$ReactComposerSproutsListRenderer10(p[r])||this.$ReactComposerSproutsListRenderer11(r)||r===q)continue;this.props.sprouts[r]||i(0);o.push(c("React").createElement(l,{key:r},this.props.sprouts[r]))}return c("React").createElement("div",{className:"_16vl"},c("React").createElement(c("Grid.react"),{cols:2,fixed:true,spacing:c("joinClasses")("pas","_1fng")},o))};n.prototype.$ReactComposerSproutsListRenderer10=function(o){return!!o&&o.enabled};n.prototype.$ReactComposerSproutsListRenderer13=function(o){return this.$ReactComposerSproutsListRenderer10(o)&&!!o&&o.inline};n.prototype.$ReactComposerSproutsListRenderer11=function(o){return!!this.props.isGroupTabSelected&&!this.$ReactComposerSproutsListRenderer14(o)};n.prototype.$ReactComposerSproutsListRenderer14=function(o){return o===c("ExtensibleSproutsItemType").MINUTIAE||o===c("ExtensibleSproutsItemType").LOCATION||o===c("ExtensibleSproutsItemType").WITH_TAG||o===c("ExtensibleSproutsItemType").MEDIA};n.prototype.$ReactComposerSproutsListRenderer12=function(o,p){this.props.sprouts[o]||i(0);this.$ReactComposerSproutsListRenderer2.push(o);p.push(this.$ReactComposerSproutsListRenderer9(this.props.sprouts[o],o));if(p.length>=3)return true;return false};n.contextTypes=c("ReactComposerContextTypes");n.childContextTypes={hasFinishedSproutPromotion:m.bool.isRequired,promotionID:m.number,promotedSprout:m.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:m.string};f.exports=n}),null);
__d("ReactComposerSproutsList.react",["React","ReactComposerActions","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerSproutsListRenderer.react","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){var k=c("React").createElement(c("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{extensibleSprouts:this.context.gks.extensibleSprouts,extensibleSproutsNumRows:this.context.gks.extensibleSproutsNumRows,sprouts:this.$ReactComposerSproutsList1()}));return k};j.prototype.$ReactComposerSproutsList1=function(){__p&&__p();var k=this.props.config.sproutsConfig,l={};if(k)for(var m in k){if(!k[m].enabled)continue;var n=c("ReactComposerSproutsDefaultUIConfig")[m];if(this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===m)n.sprout=m;var o=!this.props.fakeSprouts?this.props.sproutModules[m]||c("ReactComposerLazySproutContainer.react"):c("ReactComposerSproutItem.react");l[m]=c("React").createElement(o,{uiConfig:n,config:this.props.config})}return l};j.prototype.$ReactComposerSproutsList2=function(k){c("ReactComposerActions").expandSprouts(this.context.composerID)};function j(){h.apply(this,arguments)}j.contextTypes=c("ReactComposerContextTypes");f.exports=j}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","JSResourceReference","React","ReactComposerContextTypes","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStore","FluxContainer","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$ReactComposerSproutsListContainer2={};this.state={additionalSproutModules:{},bootloading:false}}k.getStores=function(){var l=[c("ReactComposerStore")];c("ifRequired")("ReactComposerPostToGroupStore",function(m){l.push(m)});return l};k.calculateState=function(l,m,n){var o=false;c("ifRequired")("ReactComposerPostToGroupStore",function(p){o=p.getIsTabSelected(n.composerID)});return{sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(n.composerID),isGroupTabSelected:o,hasLoggedSproutPromotionView:c("ReactComposerStore").hasLoggedSproutPromotionView(n.composerID),hasFinishedSproutPromotion:c("ReactComposerStore").hasFinishedSproutPromotion(n.composerID)}};k.prototype.componentDidMount=function(){this.$ReactComposerSproutsListContainer1=false;if(this.state.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListContainer3()};k.prototype.componentDidUpdate=function(){if(this.state.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListContainer3()};k.prototype.componentWillUnmount=function(){this.$ReactComposerSproutsListContainer1=true};k.prototype.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return c("React").createElement(c("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion})};k.prototype.$ReactComposerSproutsListContainer3=function(){__p&&__p();var l,m=this;if(this.state.bootloading)return;var n=this.props.config.sproutsConfig,o={};for(var p in n){if(!n[p].enabled||!n[p].lazyLoad)continue;this.context.jsResources.sprouts[p]||h(0);o[p]=this.context.jsResources.sprouts[p]}var q=function q(r){o[r].load().done(function(s){if(this.$ReactComposerSproutsListContainer1)return;this.$ReactComposerSproutsListContainer2[r]=s;this.setState({additionalSproutModules:Object.assign({},this.$ReactComposerSproutsListContainer2)})}.bind(m))};for(var r in o)q(r);this.setState({bootloading:true})};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(l,m){j.constructor.call(this,l,m);this.beforeCalculateInitialState(this.context.composerID,this.props);this.state=k.calculateState(this.state,this.props,this.context)}k.getStores=function(){return[c("ReactComposerStore")]};k.prototype.beforeCalculateInitialState=function(l,m){if(m.expandOnInit){c("ReactComposerActions").expandSprouts(l);c("ReactComposerAttachmentActions").initializeAttachment(l,m.defaultAttachmentOnExpand,true,c("ReactComposerLoggingName").OTHERS)}};k.calculateState=function(l,m,n){var o=n.composerID;return{displayState:c("ReactComposerStore").getSproutsDisplayState(o)}};k.prototype.componentWillMount=function(){this.$ReactComposerWithSprouts1=new(c("SubscriptionsHandler"))();this.$ReactComposerWithSprouts1.addSubscriptions(c("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(l,m){return this.$ReactComposerWithSprouts2(c("ReactComposerLoggingName").PROMPT,m)}.bind(this)))};k.prototype.render=function(){return c("React").createElement("div",{className:"_1cx1"+(this.state.displayState===c("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===c("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":""),onClick:function(l){return this.$ReactComposerWithSprouts2(c("ReactComposerLoggingName").INLINE_COMPOSER)}.bind(this),role:"presentation"},c("React").createElement(c("ReactComposer.react"),this.props.innerProps,this.props.children))};k.prototype.$ReactComposerWithSprouts2=function(l,m){__p&&__p();if(this.state.displayState===c("ReactComposerSproutsDisplayState").INLINE){c("ReactComposerActions").expandSprouts(this.context.composerID);c("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,true,l);var n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,n||this.props.defaultAttachmentOnExpand,true,l);if(m)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,m.loggingName,m.taggerType);if(!c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===c("ReactComposerTaggerType").FORMATTED_TEXT)setTimeout(function(){return c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}};k.defaultProps={expandOnInit:false};k.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerWorkBodyPlaceholder.react",["fbt","LeftRight.react","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerProfilePhotoBlock.react","ReactComposerStatusLazyAttachmentTextareaContainer.react","XUIButton.react"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerWorkBodyPlaceholder",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{config:i.object.isRequired,onInteract:i.func.isRequired},render:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=h._("Post to a group..."),n=h._("Post to a group"),o=c("React").createElement(c("ReactComposerStatusLazyAttachmentTextareaContainer.react"),{expanded:true,hasProfilePic:l.showProfilePic,onFocus:function s(){},placeholder:m,"aria-label":n,ref:"placeholder"}),p=l.showProfilePic?c("React").createElement(c("ReactComposerProfilePhotoBlock.react"),{profilePicSrc:l.profilePicSrc,profileURI:l.profileURI,profilePhotoBadge:l.customProfilePhoto,currentProfileBadgeURI:l.currentProfileBadgeURI},o):o,q=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer,r=c("React").createElement(q,{config:this.props.config,fakeSprouts:true});return c("React").createElement("div",{onClick:this.props.onInteract,onFocus:this.props.onInteract,role:"presentation"},p,r,c("React").createElement(c("ReactComposerFooterContainer.react"),{background:"light-wash"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("ReactComposerFooterActions.react"),null,c("React").createElement(c("XUIButton.react"),{label:h._("Post"),use:"confirm"})))))}});f.exports=j}),null);
__d("ReactComposerWorkSpinner.react",["cx","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ReactComposerWorkSpinner",render:function j(){return c("React").createElement("div",{className:"_47pt"},c("React").createElement(c("XUISpinner.react"),{size:"large",background:"light"}))}});f.exports=i}),null);
__d("ReactComposerWorkGroupRow.react",["cx","fbt","Badge.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","React","TypeaheadViewItem","WorkModeConfig","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerWorkGroupRow",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},c("TypeaheadViewItem").propTypes),render:function k(){var l=i._({"*":"{number} members","_1":"1 member"},[i.plural(this.props.entry.getAuxiliaryData().member_count,"number")]),m=this.props.entry.getAuxiliaryData().is_mcg&&!c("WorkModeConfig").is_in_solo_community?c("React").createElement(c("Badge.react"),{type:"work_non_coworker"}):null;return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:(this.props.highlighted?"_4yhq":"")+" _2pi8 _2pi2",onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("Link.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{className:"_4s59",src:this.props.entry.getAuxiliaryData().cover_photo}),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:true},c("React").createElement("div",{className:"ellipsis"},c("React").createElement(c("XUIGrayText.react"),{shade:"dark",size:"medium",weight:"bold"},this.props.entry.getTitle()),m),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small"},this.props.entry.getAuxiliaryData().privacy_title?c("React").createElement("span",null,this.props.entry.getAuxiliaryData().privacy_title," \xb7"," "):null,l)))))}});f.exports=j}),null);
__d("ReactComposerWorkTimelineRow.react",["cx","fbt","Image.react","ImageBlock.react","InlineBlock.react","Link.react","React","TypeaheadViewItem","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){var j=c("React").createClass({displayName:"ReactComposerWorkTimelineRow",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},c("TypeaheadViewItem").propTypes),render:function k(){var l=i._({"*":"{number} followers","_1":"1 follower"},[i.plural(this.props.entry.getAuxiliaryData().follower_count,"number")]);return c("React").createElement("li",{"aria-selected":this.props.highlighted,className:(this.props.highlighted?"_4yhq":"")+" _2pi8 _2pi2",onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c("React").createElement(c("Link.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{className:"_4s59",src:this.props.entry.getPhoto()}),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:true},c("React").createElement("div",{className:"ellipsis"},c("React").createElement(c("XUIGrayText.react"),{shade:"dark",size:"medium",weight:"bold"},this.props.entry.getTitle())),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small"},this.props.entry.getAuxiliaryData().privacy_title?c("React").createElement("span",null,this.props.entry.getAuxiliaryData().privacy_title," \xb7"," "):null,l)))))}});f.exports=j}),null);
__d("ReactComposerWorkGroupTypeaheadView.react",["cx","fbt","React","ReactComposerWorkGroupRow.react","ReactComposerWorkTimelineRow.react","TypeaheadViewPropTypes","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerWorkGroupTypeaheadView2=function(r){var s=r===this.props.highlightedEntry;if(r.getAuxiliaryData().is_timeline)return c("React").createElement(c("ReactComposerWorkTimelineRow.react"),{key:r.getUniqueID(),entry:r,highlighted:s,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight});else return c("React").createElement(c("ReactComposerWorkGroupRow.react"),{key:r.getUniqueID(),entry:r,highlighted:s,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight})}.bind(this),n}l.prototype.render=function(){"use strict";__p&&__p();var m=[],n=[],o=[];this.props.entries.map(function(u){if(u.getAuxiliaryData().top_group)m.push(u);else if(u.getAuxiliaryData().is_member)n.push(u);else o.push(u)});var p=this.$ReactComposerWorkGroupTypeaheadView1(m,i._("YOUR TOP GROUPS")),q=this.$ReactComposerWorkGroupTypeaheadView1(n,i._("GROUPS YOU'RE IN")),r=this.$ReactComposerWorkGroupTypeaheadView1(o,i._("OTHER GROUPS YOU CAN POST TO")),s=null,t=this.props.timelineTarget;if(t)s=this.$ReactComposerWorkGroupTypeaheadView1([t],i._("YOUR TIMELINE"));return c("React").createElement("ul",{id:this.props.controlleeID,role:this.props.role},p,q,r,s)};l.prototype.$ReactComposerWorkGroupTypeaheadView1=function(m,n){"use strict";if(m.length==0)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_1gf0 _1gf1 _2ph-",shade:"light",weight:"bold"},n),m.map(this.$ReactComposerWorkGroupTypeaheadView2))};l.defaultProps={role:"listbox"};f.exports=l}),null);
__d("XWorkFeedComposerGroupsBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/work/composer/group_typeahead_bootstrap/",{})}),null);
__d("XWorkFeedComposerGroupsTypeaheadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/work/composer/group_typeahead/",{value:{type:"String",defaultValue:""}})}),null);
__d("WorkComposerGroupsSearchSource",["AbstractSearchSource","immutable","SearchableEntry","WebAsyncSearchSource","WorkComposerGroupsBootstrap","XWorkFeedComposerGroupsBootstrapController","XWorkFeedComposerGroupsTypeaheadController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").OrderedSet(c("WorkComposerGroupsBootstrap").top_groups);h=babelHelpers.inherits(k,c("AbstractSearchSource"));i=h&&h.prototype;function k(){"use strict";i.constructor.call(this);var l={uri:c("XWorkFeedComposerGroupsTypeaheadController").getURIBuilder().getURI()},m={uri:c("XWorkFeedComposerGroupsBootstrapController").getURIBuilder().getURI()};this.$WorkComposerGroupsSearchSource1=new(c("WebAsyncSearchSource"))({queryRequests:[l],bootstrapRequests:[m]})}k.prototype.bootstrapImpl=function(l){"use strict";l();this.$WorkComposerGroupsSearchSource1.bootstrap()};k.prototype.searchImpl=function(l,m){"use strict";if(l.length)this.$WorkComposerGroupsSearchSource1.search(l,m);else{var n=j.map(function(o){return new(c("SearchableEntry"))({uniqueID:o.id,title:o.name,auxiliaryData:{cover_photo:o.photo,member_count:o.member_count,privacy_icon:o.privacy_icon,privacy_title:o.privacy_title,privacy_description:o.privacy_description,top_group:o.top_group,is_member:o.is_member,is_mcg:o.is_mcg}})}).toArray();m(n,l)}};f.exports=new k()}),null);
__d("WorkFeedComposerLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SHOW_COMPOSER:"SHOW_COMPOSER",OPEN_GROUP_SEARCH:"OPEN_GROUP_SEARCH",TYPING_GROUP_QUERY:"TYPING_GROUP_QUERY",SELECT_GROUP:"SELECT_GROUP",CREATE_POST:"CREATE_POST"})}),null);
__d("ReactComposerWorkGroupSearch.react",["ix","cx","fbt","AbstractTypeahead.react","Image.react","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerWorkGroupTypeaheadView.react","WorkComposerGroupsSearchSource","WorkFeedComposerLoggerEvent","WorkFeedComposerTypedLogger","XUICardSection.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"ReactComposerWorkGroupSearch",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{onTargetChange:k.func.isRequired,timelineTarget:k.object},getInitialState:function m(){return{search:"",typing:false}},render:function m(){return c("React").createElement(c("XUICardSection.react"),null,c("React").createElement("div",null,c("React").createElement(c("AbstractTypeahead.react"),{inputClassName:"_1gf2 _2pi9 _2pi4",hideViewWithEntries:false,focusedOnInit:true,queryString:this.state.search,onSelectAttempt:this._onSelect,onChange:this._onTypeaheadChange,presenter:{ViewRenderer:c("ReactComposerWorkGroupTypeaheadView.react"),useLayer:false,maxEntries:8,sortEntries:this._sortEntries,extraRendererProps:{timelineTarget:this.props.timelineTarget}},ref:"searchInput",searchSource:c("WorkComposerGroupsSearchSource"),showEntriesOnFocus:true}),c("React").createElement(c("Image.react"),{className:"_3f2l",src:h("126436")}),this.state.search?null:c("React").createElement(c("XUIText.react"),{className:"_3daz",size:"medium"},j._("Search for a group to post to"))))},_onTypeaheadChange:function m(event){if(!this.state.typing)new(c("WorkFeedComposerTypedLogger"))().setEvent(c("WorkFeedComposerLoggerEvent").TYPING_GROUP_QUERY).log();this.setState({search:event.target.value,typing:this.state.typing||!!event.target.value})},_onSelect:function m(n){this.props.onTargetChange(n)},_sortEntries:function m(n){var o=[],p=[],q=[];n.map(function(r){if(r.getAuxiliaryData().top_group)o.push(r);else if(r.getAuxiliaryData().is_member)p.push(r);else q.push(r)});return o.concat(p).concat(q)}});f.exports=l}),null);
__d("ReactComposerWorkHeader.react",["cx","fbt","Image.react","InlineBlock.react","Link.react","React","ReactComponentWithPureRenderMixin","Tooltip.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerWorkHeader",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{target:j.object.isRequired},render:function l(){__p&&__p();var m=null,n=null,o=null;if(this.props.target.getAuxiliaryData().is_timeline){m=c("React").createElement(c("Link.react"),{className:"_4s55",href:this.props.target.getURI()},c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},i._("Your Timeline")));n=i._({"*":"{number} followers","_1":"1 follower"},[i.plural(this.props.target.getAuxiliaryData().follower_count,"number")])}else{m=c("React").createElement(c("Link.react"),{className:"_4s55",href:this.props.target.getURI()},c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"},this.props.target.getTitle()));n=i._({"*":"{number} members","_1":"1 member"},[i.plural(this.props.target.getAuxiliaryData().member_count,"number")]);o=c("React").createElement("span",{className:"_33bu _3-99"},c("React").createElement("div",{className:"_33bw"},c("React").createElement(c("Tooltip.react"),{tooltip:c("React").createElement("div",{className:"_33bx"},c("React").createElement(c("XUIText.react"),{className:"_3-94",display:"block",weight:"bold"},this.props.target.getAuxiliaryData().privacy_title),c("React").createElement(c("XUIText.react"),{display:"block"},this.props.target.getAuxiliaryData().privacy_description))},c("React").createElement(c("Image.react"),{src:this.props.target.getAuxiliaryData().privacy_icon}))))}return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_3-8t",height:64},c("React").createElement(c("XUIGrayText.react"),{className:"_1gf0 _3-94",shade:"light",weight:"bold"},i._("POSTING TO")),c("React").createElement("span",{className:"_33bt"},m,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium"}," ","\xb7 ",n),o))}});f.exports=k}),null);
__d("ReactComposerContextConfig",["React","ReactComposerContextTypes"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape(c("ReactComposerContextTypes"))}),null);
__d("ReactComposerWorkFeedActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({SET_DISPLAY_STATE:null,SET_TARGET:null,SET_WORK_PROPS:null})}),null);
__d("ReactComposerWorkFeedActions",["ReactComposerDispatcher","ReactComposerWorkFeedActionTypes"],(function a(b,c,d,e,f,g){var h={setDisplayState:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerWorkFeedActionTypes").SET_DISPLAY_STATE,state:k})},setTarget:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerWorkFeedActionTypes").SET_TARGET,target:k})},setWorkProps:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerWorkFeedActionTypes").SET_WORK_PROPS,props:k})}};f.exports=h}),null);
__d("ReactComposerWorkFeedDisplayState",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({DEFAULT:null,SEARCH:null,COMPOSER:null})}),null);
__d("ReactComposerWorkFeedStore",["FeedComposerIDStore","ReactComposerActionStore","ReactComposerInit","ReactComposerWorkFeedActionTypes","ReactComposerWorkFeedDisplayState","WorkFeedComposerLoggerEvent","WorkFeedComposerTypedLogger","update"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerActionStore"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{target:null,props:null,state:c("ReactComposerWorkFeedDisplayState").DEFAULT}},function(l){switch(l.type){case c("ReactComposerWorkFeedActionTypes").SET_DISPLAY_STATE:k&&k.$ReactComposerWorkFeedStore1(l);break;case c("ReactComposerWorkFeedActionTypes").SET_TARGET:k&&k.$ReactComposerWorkFeedStore2(l);break;case c("ReactComposerWorkFeedActionTypes").SET_WORK_PROPS:k&&k.$ReactComposerWorkFeedStore3(l);break}});k=this}j.prototype.getDisplayState=function(k){return this.getComposerData(k).state};j.prototype.getTarget=function(k){return this.getComposerData(k).target};j.prototype.getProps=function(k){return this.getComposerData(k).props};j.prototype.showGroupTypeahead=function(k){return this.getComposerData(k).showGroupTypeahead};j.prototype.$ReactComposerWorkFeedStore1=function(k){__p&&__p();var l=this.validateAction(k,"composerID"),m=this.validateAction(k,"state"),n=this.getComposerData(l);if(m!==n.state){var event=void 0;switch(m){case c("ReactComposerWorkFeedDisplayState").SEARCH:event=c("WorkFeedComposerLoggerEvent").OPEN_GROUP_SEARCH;break;case c("ReactComposerWorkFeedDisplayState").COMPOSER:event=c("WorkFeedComposerLoggerEvent").SELECT_GROUP;break}if(event)new(c("WorkFeedComposerTypedLogger"))().setEvent(event).log()}n.state=m;this.emitChange(l)};j.prototype.$ReactComposerWorkFeedStore2=function(k){var l=this.validateAction(k,"composerID"),m=this.validateAction(k,"target"),n=this.getComposerData(l);n.target=m;this.emitChange(l)};j.prototype.$ReactComposerWorkFeedStore3=function(k){var l=this.validateAction(k,"composerID"),m=this.validateAction(k,"props"),n=this.getComposerData(l);n.props=m;n.target=m.target;if(m.target)n.state=c("ReactComposerWorkFeedDisplayState").COMPOSER;else n.state=c("ReactComposerWorkFeedDisplayState").DEFAULT;this.emitChange(l)};j.prototype.__onPostSucceeded=function(k){new(c("WorkFeedComposerTypedLogger"))().setEvent(c("WorkFeedComposerLoggerEvent").CREATE_POST).log()};j.prototype.__cleanup=function(k){var l,m=this.validateAction(k,"composerID"),n=this.getComposerData(m);if(n.props)(function(){var o=c("update")(n.props,{workTarget:{$set:null}});setTimeout(function(){c("ReactComposerInit").changeProps(c("FeedComposerIDStore").get(),o)},0)})()};f.exports=new j()}),null);
__d("ReactComposerWorkFeedBodyContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerWorkBodyPlaceholder.react","ReactComposerWorkFeedActions","ReactComposerWorkFeedDisplayState","ReactComposerWorkFeedStore","ReactComposerWorkSpinner.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerWorkFeedBodyContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerWorkFeedStore"))],propTypes:{children:h.oneOfType([h.element,h.arrayOf(h.element)]),config:h.object.isRequired,target:h.object},statics:{calculateState:function j(k,l,m){var n=c("ReactComposerWorkFeedStore").getDisplayState(k);return{showPlaceholder:n===c("ReactComposerWorkFeedDisplayState").DEFAULT&&!l.target,showSpinner:n===c("ReactComposerWorkFeedDisplayState").COMPOSER&&!l.target,showComposer:l.target}}},render:function j(){if(this.state.showPlaceholder)return c("React").createElement(c("ReactComposerWorkBodyPlaceholder.react"),{config:this.props.config,onInteract:this._onPlaceholderInteract});if(this.state.showSpinner)return c("React").createElement(c("ReactComposerWorkSpinner.react"),null);if(this.state.showComposer)return c("React").createElement("div",null,this.props.children);return c("React").createElement("div",null)},_onPlaceholderInteract:function j(){c("ReactComposerWorkFeedActions").setDisplayState(this.context.composerID,c("ReactComposerWorkFeedDisplayState").SEARCH)}});f.exports=i}),null);
__d("ReactComposerWorkFeedBootloader",["Bootloader"],(function a(b,c,d,e,f,g){"use strict";var h={statusAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerWorkFeedPostButtonContainer.react"],j,"ReactComposerWorkFeedBootloader")},mediaAttachment:function i(j){c("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerWorkFeedPostButtonContainer.react"],j,"ReactComposerWorkFeedBootloader")}};f.exports=h}),null);
__d("XReactComposerTargetChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/target/change/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String"}})}),null);
__d("ReactComposerWorkHeaderContainer.react",["cx","AsyncRequest","React","ReactComponentWithPureRenderMixin","ComposerEntryPointRef","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerWorkFeedActions","ReactComposerWorkFeedDisplayState","ReactComposerWorkFeedStore","ReactComposerWorkGroupSearch.react","ReactComposerWorkHeader.react","XReactComposerTargetChangeController","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerWorkHeaderContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerWorkFeedStore"))],propTypes:{className:i.string,config:i.object.isRequired,target:i.object},statics:{calculateState:function k(l,m){var n=c("ReactComposerWorkFeedStore").getDisplayState(l),o=m.target||c("ReactComposerWorkFeedStore").getTarget(l);return{showHeader:n!==c("ReactComposerWorkFeedDisplayState").DEFAULT||o,showSearch:n===c("ReactComposerWorkFeedDisplayState").SEARCH,target:o}}},render:function k(){if(!this.state.showHeader)return c("React").createElement("div",null);return c("React").createElement(c("XUICardSection.react"),{className:c("joinClasses")(!this.state.showSearch?"_1dzv":"",this.props.className)},this.state.showSearch?c("React").createElement(c("ReactComposerWorkGroupSearch.react"),{onTargetChange:this._onTargetChange,timelineTarget:this.props.config.workTimelineTarget}):c("React").createElement(c("ReactComposerWorkHeader.react"),{target:this.state.target}))},_onTargetChange:function k(l){c("ReactComposerWorkFeedActions").setTarget(this.context.composerID,l);c("ReactComposerWorkFeedActions").setDisplayState(this.context.composerID,c("ReactComposerWorkFeedDisplayState").COMPOSER);var m=c("XReactComposerTargetChangeController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",c("ComposerEntryPointRef").WORK_FEED).setString("target_id",l.getUniqueID());new(c("AsyncRequest"))().setURI(m.getURI()).send()}});f.exports=j}),null);
__d("ReactWorkFeedComposer.react",["cx","fbt","Arbiter","FeedComposerIDStore","LitestandComposer","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerInit","ReactComposerMediaLazyAttachment.react","ReactComposerStatusLazyAttachment.react","ReactComposerWithSprouts.react","ReactComposerWorkFeedActions","ReactComposerWorkFeedBodyContainer.react","ReactComposerWorkFeedBootloader","ReactComposerWorkFeedStore","ReactComposerWorkHeaderContainer.react","update"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactWorkFeedComposer",_resetSubscription:undefined,mixins:[c("ReactComposerContextProviderMixin")],propTypes:{contextConfig:c("ReactComposerContextConfig").isRequired,config:c("ReactComposerConfig").isRequired,workTarget:j.object},componentWillMount:function l(){c("FeedComposerIDStore").set(this.props.contextConfig.composerID)},componentDidMount:function l(){var m=this.props.contextConfig.composerID;c("ReactComposerWorkFeedStore").registerComposerID(m);c("ReactComposerWorkFeedActions").setWorkProps(m,this.props);if(this.props.workTarget)c("ReactComposerAttachmentActions").selectAttachment(m,c("ReactComposerAttachmentType").STATUS,true);this._resetSubscription=c("Arbiter").subscribe("ReactComposerFocus/reset/"+m,this._resetTarget);c("LitestandComposer").initComposer(m)},componentWillUnmount:function l(){this._resetSubscription&&this._resetSubscription.unsubscribe()},render:function l(){return c("React").createElement(c("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:c("ReactComposerAttachmentType").STATUS,innerProps:{className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig}},c("React").createElement(c("ReactComposerWorkHeaderContainer.react"),{config:this.props.config,target:this.props.workTarget}),c("React").createElement(c("ReactComposerWorkFeedBodyContainer.react"),{target:this.props.workTarget,config:this.props.config},c("React").createElement(c("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},c("React").createElement(c("ReactComposerStatusLazyAttachment.react"),{bootloader:c("ReactComposerWorkFeedBootloader"),config:this.props.config,selected:true,expanded:this.props.config.showExpandedComposer,placeholder:i._("What are you working on?")}),c("React").createElement(c("ReactComposerMediaLazyAttachment.react"),{bootloader:c("ReactComposerWorkFeedBootloader"),key:"media",config:this.props.config}))))},_resetTarget:function l(){var m=c("update")(this.props,{workTarget:{$set:null}});c("ReactComposerInit").changeProps(this.props.contextConfig.composerID,m)}});f.exports=k}),null);
__d("moveBlockInContentState",["invariant","ContentBlockNode","immutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").OrderedMap,j=c("immutable").List,k=function k(n,o){__p&&__p();var p=n.getNextSiblingKey();if(p)return p;var q=n.getParentKey();if(!q)return null;var r=o.get(q);while(r&&(!r.getNextSiblingKey()||!r.getParentKey())){var s=r.getParentKey();r=s?o.get(s):null}if(!r)return null;return r.getNextSiblingKey()},l=function l(n,o,p,q,r){__p&&__p();if(!r)return n;var s=q==="after",t=o.getKey(),u=p.getKey(),v=o.getParentKey(),w=o.getNextSiblingKey(),x=o.getPrevSiblingKey(),y=p.getParentKey(),z=s?p.getNextSiblingKey():u,A=s?u:p.getPrevSiblingKey();return n.withMutations(function(B){__p&&__p();if(v){var C=B.get(v),D=C.getChildKeys();B.mergeIn(v,C.merge({children:D["delete"](D.indexOf(t))}))}if(x){var E=B.get(x);B.mergeIn(x,E.merge({nextSibling:o.getNextSiblingKey()}))}if(w){var F=B.get(w);B.mergeIn(w,F.merge({prevSibling:o.getPrevSiblingKey()}))}if(z){var G=B.get(z);B.mergeIn(z,G.merge({prevSibling:t}))}if(A){var H=B.get(A);B.mergeIn(A,H.merge({nextSibling:t}))}if(y){var I=B.get(y),J=I.getChildKeys(),K=J.indexOf(u),L=s?K+1:K!==0?K-1:0,M=J.toArray();M.splice(L,0,t);B.mergeIn(y,I.merge({children:j(M)}))}B.mergeIn(t,o.merge({nextSibling:z,prevSibling:A,parent:y}))})},m=function m(n,o,p,q){__p&&__p();q!=="replace"||h(0);var r=p.getKey(),s=o.getKey();s!==r||h(0);var t=n.getBlockMap(),u=o instanceof c("ContentBlockNode"),v=[o],w=t["delete"](s);if(u){v=[];w=t.withMutations(function(D){var E=o.getNextSiblingKey(),F=k(o,D);D.toSeq().skipUntil(function(G){return G.getKey()===s}).takeWhile(function(G){var H=G.getKey(),I=H===s,J=E&&H!==E,K=!E&&G.getParentKey()&&(!F||H!==F);return!!(I||J||K)}).forEach(function(G){v.push(G);D["delete"](G.getKey())})})}var x=w.toSeq().takeUntil(function(D){return D===p}),y=w.toSeq().skipUntil(function(D){return D===p}).skip(1),z=v.map(function(D){return[D.getKey(),D]}),A=i();if(q==="before"){var B=n.getBlockBefore(r);!B||B.getKey()!==o.getKey()||h(0);A=x.concat([].concat(z,[[r,p]]),y).toOrderedMap()}else if(q==="after"){var C=n.getBlockAfter(r);!C||C.getKey()!==s||h(0);A=x.concat([[r,p]].concat(z),y).toOrderedMap()}return n.merge({blockMap:l(A,o,p,q,u),selectionBefore:n.getSelectionAfter(),selectionAfter:n.getSelectionAfter().merge({anchorKey:s,focusKey:s})})};f.exports=m}),null);
__d("AtomicBlockUtils",["BlockMapBuilder","CharacterMetadata","ContentBlock","DraftModifier","EditorState","immutable","SelectionState","generateRandomKey","moveBlockInContentState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Repeat,j={insertAtomicBlock:function k(l,m,n){var o=l.getCurrentContent(),p=l.getSelection(),q=c("DraftModifier").removeRange(o,p,"backward"),r=q.getSelectionAfter(),s=c("DraftModifier").splitBlock(q,r),t=s.getSelectionAfter(),u=c("DraftModifier").setBlockType(s,t,"atomic"),v=c("CharacterMetadata").create({entity:m}),w=[new(c("ContentBlock"))({key:c("generateRandomKey")(),type:"atomic",text:n,characterList:h(i(v,n.length))}),new(c("ContentBlock"))({key:c("generateRandomKey")(),type:"unstyled",text:"",characterList:h()})],x=c("BlockMapBuilder").createFromArray(w),y=c("DraftModifier").replaceWithFragment(u,t,x),z=y.merge({selectionBefore:p,selectionAfter:y.getSelectionAfter().set("hasFocus",true)});return c("EditorState").push(l,z,"insert-fragment")},moveAtomicBlock:function k(l,m,n,o){__p&&__p();var p=l.getCurrentContent(),q=l.getSelection(),r=void 0;if(o==="before"||o==="after"){var s=p.getBlockForKey(o==="before"?n.getStartKey():n.getEndKey());r=c("moveBlockInContentState")(p,m,s,o)}else{var t=c("DraftModifier").removeRange(p,n,"backward"),u=t.getSelectionAfter(),v=t.getBlockForKey(u.getFocusKey());if(u.getStartOffset()===0)r=c("moveBlockInContentState")(t,m,v,"before");else if(u.getEndOffset()===v.getLength())r=c("moveBlockInContentState")(t,m,v,"after");else{var w=c("DraftModifier").splitBlock(t,u),x=w.getSelectionAfter(),y=w.getBlockForKey(x.getFocusKey());r=c("moveBlockInContentState")(w,m,y,"before")}}var z=r.merge({selectionBefore:q,selectionAfter:r.getSelectionAfter().set("hasFocus",true)});return c("EditorState").push(l,z,"move-block")}};f.exports=j}),null);
__d("RichComposedTextEditorBlock.react",["DraftEditorBlock.react","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";return c("React").createElement(c("DraftEditorBlock.react"),babelHelpers["extends"]({contentEditable:"inherit"},this.props.blockProps,this.props),this.props.children)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ComposedLinkEntityProperties",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({URL:"url",SHIMMED_URL:"shimmedURL",HOVERCARD_ENDPOINT:"hovercard_endpoint"})}),null);
__d("getRangeBoundingClientRect",["getRangeClientRects"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=c("getRangeClientRects")(i),k=0,l=0,m=0,n=0;if(j.length){if(j.length>1&&j[0].width===0){var o=j[1];k=o.top;l=o.right;m=o.bottom;n=o.left}else{var p=j[0];k=p.top;l=p.right;m=p.bottom;n=p.left}for(var q=1;q<j.length;q++){var r=j[q];if(r.height!==0&&r.width!==0){k=Math.min(k,r.top);l=Math.max(l,r.right);m=Math.max(m,r.bottom);n=Math.min(n,r.left)}}}return{top:k,right:l,bottom:m,left:n,width:l-n,height:m-k}}f.exports=h}),null);
__d("getVisibleSelectionRect",["getRangeBoundingClientRect"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(b){var i=b.getSelection();if(!i.rangeCount)return null;var j=i.getRangeAt(0),k=c("getRangeBoundingClientRect")(j),l=k.top,m=k.right,n=k.bottom,o=k.left;if(l===0&&m===0&&n===0&&o===0)return null;return k}f.exports=h}),null);
__d("RichComposedTextEditorInlineStyleMenu.react",["cx","fbt","invariant","ComposedLinkEntityProperties","ContextualLayerAutoFlip","EditorState","immutable","Keys","LeftRight.react","React","ReactDOM","ReactFragment","Rect","SelectionState","TooltipData","URI","UserAgent","XUICloseButton.react","XUIContextualDialog.react","XUIError.react","getVisibleSelectionRect"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("immutable").OrderedSet,l=c("React").PropTypes,m={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip")},n={bold:i._("Bold"),italic:i._("Italic"),link:i._("Link"),mono:i._("Code"),linkPlaceholder:i._("Paste or type a link...")},o=["http","https","mailto"];function p(t){return o.indexOf(t)>=0}var q=c("React").createClass({displayName:"RichComposedTextEditorInlineStyleMenu",propTypes:{editorState:l.instanceOf(c("EditorState")).isRequired,onRemoveLink:l.func.isRequired,onAddLink:l.func.isRequired,onCancelLink:l.func.isRequired,onToggle:l.func.isRequired},getInitialState:function t(){return{addingLink:false,flyoutState:"style",bounds:null,targetSelection:null,linkText:"",linkErrorMessage:null}},componentDidUpdate:function t(){if(this.state.addingLink)setTimeout(function(){return this.refs.linkInput.focus()}.bind(this),0)},_toggleBold:function t(u){u.preventDefault();this.props.onToggle("BOLD")},_toggleItalic:function t(u){u.preventDefault();this.props.onToggle("ITALIC")},_toggleMono:function t(u){u.preventDefault();this.props.onToggle("CODE")},_toggleLink:function t(u){u.preventDefault();this._toggleLinkImpl()},_toggleLinkImpl:function t(){if(this._alreadyContainsLink()){this.props.onRemoveLink();return}this.setState({addingLink:true,flyoutState:"link",bounds:r(),targetSelection:this.props.editorState.getSelection(),linkText:""})},toggleLink:function t(){if(!this._canAddLink())return false;this._toggleLinkImpl();return true},_onLinkValueChange:function t(u){var v=u.target;v instanceof HTMLInputElement||j(0);this.setState({linkText:v.value})},_onLinkValueKeydown:function t(u){__p&&__p();switch(u.which){case c("Keys").RETURN:u.preventDefault();if(this.state.linkText){var v=new(c("URI"))(this.state.linkText),w=v.getProtocol();if(!w)v.setProtocol("http");else if(!p(w))return;if(!c("URI").isValidURI(v.toString())){this.setState({linkErrorMessage:"Invalid link"});return}else this.setState({linkErrorMessage:null});var x=this.props.editorState.getCurrentContent(),y=x.createEntity("LINK","MUTABLE",s(v)),z=y.getLastCreatedEntityKey();this.props.onAddLink(this.state.targetSelection,z);this.setState(this.getInitialState())}return;case c("Keys").ESC:u.preventDefault();this._cancelLink();return;default:this.setState({linkErrorMessage:null})}},reset:function t(u){this.setState(this.getInitialState(),u)},resetToStyles:function t(u){this.setState(Object.assign(this.getInitialState(),{targetSelection:this.props.editorState.getSelection(),bounds:this.state.bounds}),u)},_cancelLink:function t(){var u=this.state.targetSelection;this.props.onCancelLink(u);setTimeout(function(){return this.resetToStyles()}.bind(this),0)},_renderBold:function t(u){var v="_4q5h"+(u.has("BOLD")?" _u4r":"");return c("React").createElement("li",babelHelpers["extends"]({className:v,onMouseDown:this._toggleBold},c("TooltipData").propsFor(n.bold)))},_renderItalic:function t(u){var v="_4q5j"+(u.has("ITALIC")?" _u4r":"");return c("React").createElement("li",babelHelpers["extends"]({className:v,onMouseDown:this._toggleItalic},c("TooltipData").propsFor(n.italic)))},_renderMono:function t(u){var v="_4q5k"+(u.has("CODE")?" _u4r":"");return c("React").createElement("li",babelHelpers["extends"]({className:v,onMouseDown:this._toggleMono},c("TooltipData").propsFor(n.mono)))},_canAddLink:function t(){var u=this.props.editorState,v=this._getSelectionWithoutTrailingNewline(u);return!v.isCollapsed()&&v.getAnchorKey()===v.getFocusKey()},_alreadyContainsLink:function t(){var u=this.props.editorState,v=this._getSelectionWithoutTrailingNewline(u);return u.getCurrentContent().getBlockForKey(v.getAnchorKey()).getCharacterList().slice(v.getStartOffset(),v.getEndOffset()).some(function(w){var x=w.getEntity(),y=u.getCurrentContent();return x&&y.getEntity(x).getType()==="LINK"})},_getSelectionWithoutTrailingNewline:function t(u){__p&&__p();var v=u.getSelection();if(!v.isCollapsed()&&v.getEndOffset()===0){var w=u.getCurrentContent(),x=w.getKeyBefore(v.getEndKey());if(x){var y=w.getBlockForKey(x).getLength(),z=v.getIsBackward();if(z)return new(c("SelectionState"))({anchorKey:x,anchorOffset:y,focusKey:v.getFocusKey(),focusOffset:v.getFocusOffset(),isBackward:true});else return new(c("SelectionState"))({anchorKey:v.getAnchorKey(),anchorOffset:v.getAnchorOffset(),focusKey:x,focusOffset:y,isBackward:false})}}return v},_renderLink:function t(){if(!this._canAddLink())return null;var u=this._alreadyContainsLink(),v="_4q5l"+(u?" _u4r":"");return c("React").createElement("li",babelHelpers["extends"]({className:v,onMouseDown:this._toggleLink},c("TooltipData").propsFor(n.link)))},_renderStyleBody:function t(u){return c("React").createElement("ul",{className:"_u4s clearfix"},this._renderBold(u),this._renderItalic(u),this._renderMono(u),this._renderLink())},_renderLinkBody:function t(){return c("React").createElement(c("LeftRight.react"),{className:"_u4u"},c("React").createElement(c("XUIError.react"),{xuiError:this.state.linkErrorMessage},c("React").createElement("input",{className:"_u4v",type:"text",ref:"linkInput",placeholder:n.linkPlaceholder,value:this.state.linkText,onChange:this._onLinkValueChange,onKeyDown:this._onLinkValueKeydown})),c("React").createElement(c("XUICloseButton.react"),{className:"_u4w",size:"medium",shade:"dark",onClick:this._cancelLink}))},renderLayers:function t(){__p&&__p();var u=false,v=false,w=null;if(this.state.flyoutState==="link"){u=true;w=this.state.bounds}else{var x=this.props.editorState,y=!x.getSelection().isCollapsed();w=y?r():null;v=!!(y&&w)}var z=v?x.getCurrentInlineStyle():k();return c("ReactFragment").create({style:c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,shown:v,alignment:"center",contextBounds:w,behaviors:m,contextRef:function(){return this.refs.inlineStyle}.bind(this)},this._renderStyleBody(z)),link:c("React").createElement(c("XUIContextualDialog.react"),{hideOnEscape:false,autoFocus:false,shown:u,alignment:"center",contextBounds:w,behaviors:m,contextRef:function(){return this.refs.inlineStyle}.bind(this)},this._renderLinkBody())})},render:function t(){return c("React").createElement("span",null,c("React").createElement("div",{ref:"inlineStyle"}),this.renderLayers())}});function r(){var t=c("getVisibleSelectionRect")(b);if(t==null)return null;var u=t.top,v=t.right,w=t.bottom,x=t.left;return new(c("Rect"))(u,v,w,x,"viewport").convertTo("document")}function s(t){var u={};u[c("ComposedLinkEntityProperties").URL]=t.toString();return u}f.exports=q}),null);
__d("RichComposedTextEditorMenu.react",["cx","fbt","ContextualLayerAutoFlip","EditorState","NotesEmbedDialog","NotesPhotoPickerDialog","NotesVideoPickerDialog","React","ReactDOM","ReactFragment","XUIContextualDialog.react","XUIContextualDialogBody.react","calculateMenuTop","clearImmediate","keyMirror","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=c("keyMirror")({STYLE:null,ATTACH:null}),n={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip")},o={embed:i._("Embed"),photo:i._("Photo"),video:i._("Video")};j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.state={top:null,visibleMenu:null},this.$RichComposedTextEditorMenu1=function(){if(this.$RichComposedTextEditorMenu2)c("clearImmediate")(this.$RichComposedTextEditorMenu2);this.$RichComposedTextEditorMenu2=null}.bind(this),this.$RichComposedTextEditorMenu3=function(){var y=this.props.editorState.getCurrentContent(),z=this.props.editorState.getSelection(),A=c("calculateMenuTop")(z,c("ReactDOM").findDOMNode(this.refs.container));if(this.state.top!==A)this.setState({top:A,visibleMenu:null})}.bind(this),this.$RichComposedTextEditorMenu4=function(y){y.preventDefault();if(this.state.visibleMenu===m.ATTACH)this.setState({visibleMenu:null});else this.setState({visibleMenu:m.ATTACH})}.bind(this),this.$RichComposedTextEditorMenu5=function(y){y.preventDefault();if(this.state.visibleMenu===m.STYLE)this.setState({visibleMenu:null});else this.setState({visibleMenu:m.STYLE})}.bind(this),this.$RichComposedTextEditorMenu6=function(){var y=this.props.editorState,z=y.getSelection();return y.getCurrentContent().getBlockForKey(z.getStartKey()).getType()}.bind(this),this.$RichComposedTextEditorMenu7=function(y){y.preventDefault()},this.$RichComposedTextEditorMenu10=function(){var y=this.props.editorState,z=y.getSelection(),A=this.$RichComposedTextEditorMenu6();return this.state.top!==null&&A!=="atomic"&&z.getHasFocus()}.bind(this),this.$RichComposedTextEditorMenu11=function(y){y.preventDefault();this.props.onToggleBlockType("header-one")}.bind(this),this.$RichComposedTextEditorMenu12=function(y){y.preventDefault();this.props.onToggleBlockType("header-two")}.bind(this),this.$RichComposedTextEditorMenu13=function(y){y.preventDefault();this.props.onToggleBlockType("unordered-list-item")}.bind(this),this.$RichComposedTextEditorMenu14=function(y){y.preventDefault();this.props.onToggleBlockType("ordered-list-item")}.bind(this),this.$RichComposedTextEditorMenu15=function(y){y.preventDefault();this.props.onToggleBlockType("blockquote")}.bind(this),this.$RichComposedTextEditorMenu16=function(y){y.preventDefault();this.props.onToggleBlockType("code-block")}.bind(this),this.$RichComposedTextEditorMenu17=function(y){y.preventDefault();setTimeout(function(){var z=function(A){this.props.onAddEmbed(q(A,this.props.editorState.getCurrentContent()))}.bind(this);new(c("NotesEmbedDialog"))({onEmbed:z,ownerID:this.props.ownerID}).show()}.bind(this),200)}.bind(this),this.$RichComposedTextEditorMenu9=function(y){y.preventDefault();setTimeout(function(){var z=this.props.compositionID,A=this.props.editorState.getCurrentContent(),B=function(E){this.props.onAddPhoto(r(Object.assign(E,{compositionID:z}),A))}.bind(this),C=function(E){this.props.onAddPhoto(r({compositionID:z,fileInput:E},A))}.bind(this),D=function(){this.props.onCancelPhoto()}.bind(this);new(c("NotesPhotoPickerDialog"))({onPhotoPicked:B,onPhotoUpload:C,onPhotoCancel:D,ownerID:this.props.ownerID,isPageStory:this.props.isPageStory}).show()}.bind(this),200)}.bind(this),this.$RichComposedTextEditorMenu18=function(y){y.preventDefault();setTimeout(function(){var z=this.props.compositionID,A=function(B){this.props.onAddVideo(s(Object.assign(B,{compositionID:z},this.props.editorState.getCurrentContent())))}.bind(this);new(c("NotesVideoPickerDialog"))({onVideoPicked:A,ownerID:this.props.ownerID}).show()}.bind(this),200)}.bind(this),u}p.prototype.componentDidMount=function(){this.$RichComposedTextEditorMenu1();this.$RichComposedTextEditorMenu2=c("setImmediate")(function(){return this.$RichComposedTextEditorMenu3()}.bind(this))};p.prototype.componentDidUpdate=function(){this.$RichComposedTextEditorMenu1();this.$RichComposedTextEditorMenu2=c("setImmediate")(function(){return this.$RichComposedTextEditorMenu3()}.bind(this))};p.prototype.componentWillUnmount=function(){this.$RichComposedTextEditorMenu1()};p.prototype.$RichComposedTextEditorMenu8=function(){var t=this.$RichComposedTextEditorMenu6(),u={top:this.state.top+"px"},v=void 0;if(this.props.canAttachVideo||this.props.canAttachEmbed)v=c("React").createElement("li",{className:"_15_2",ref:"attach"});else if(this.props.canAttachPhoto)v=c("React").createElement("li",{className:"_15_4",onClick:this.$RichComposedTextEditorMenu9});else v=null;var w="_15_5"+(t==="unstyled"?" _15_6":"")+(t==="header-one"?" _15_7":"")+(t==="header-two"?" _15_8":"")+(t==="unordered-list-item"?" _15_9":"")+(t==="ordered-list-item"?" _15_a":"")+(t==="blockquote"?" _15_b":"")+(t==="code-block"?" _15_c":"");return c("React").createElement("ul",{style:u,className:"clearfix _15_d",onMouseDown:this.$RichComposedTextEditorMenu7},v,c("React").createElement("li",{className:w,ref:"style"}))};p.prototype.$RichComposedTextEditorMenu19=function(t){var u="_15_7"+(t==="header-one"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu11})};p.prototype.$RichComposedTextEditorMenu20=function(t){var u="_15_8"+(t==="header-two"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu12})};p.prototype.$RichComposedTextEditorMenu21=function(t){var u="_15_9"+(t==="unordered-list-item"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu13})};p.prototype.$RichComposedTextEditorMenu22=function(t){var u="_15_a"+(t==="ordered-list-item"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu14})};p.prototype.$RichComposedTextEditorMenu23=function(t){var u="_15_b"+(t==="blockquote"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu15})};p.prototype.$RichComposedTextEditorMenu24=function(t){var u="_15_c"+(t==="code-block"?" _15_e":"");return c("React").createElement("li",{className:u,onMouseDown:this.$RichComposedTextEditorMenu16})};p.prototype.$RichComposedTextEditorMenu25=function(){if(!this.props.canAttachEmbed)return null;return c("React").createElement("li",{className:"_15_o",onMouseDown:this.$RichComposedTextEditorMenu17},o.embed)};p.prototype.$RichComposedTextEditorMenu26=function(){var t="_15_r";return c("React").createElement("li",{className:t,onMouseDown:this.$RichComposedTextEditorMenu9},o.photo)};p.prototype.$RichComposedTextEditorMenu27=function(){if(!this.props.canAttachVideo)return null;var t="_15_s";return c("React").createElement("li",{className:t,onMouseDown:this.$RichComposedTextEditorMenu18},o.video)};p.prototype.renderLayers=function(){var t=this.$RichComposedTextEditorMenu10(),u=this.$RichComposedTextEditorMenu6();return c("ReactFragment").create({attach:c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.attach}.bind(this),hoverContextRef:function(){return this.refs.attach}.bind(this),hoverHideDelay:0,alignment:"center",offsetY:-2,behaviors:n,shown:t&&this.state.visibleMenu===m.ATTACH},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("ul",{className:"_15_t clearfix"},this.$RichComposedTextEditorMenu26(),this.$RichComposedTextEditorMenu27(),this.$RichComposedTextEditorMenu25()))),style:c("React").createElement(c("XUIContextualDialog.react"),{autoFocus:false,contextRef:function(){return this.refs.style}.bind(this),hoverContextRef:function(){return this.refs.style}.bind(this),hoverHideDelay:40,alignment:"center",behaviors:n,shown:t&&this.state.visibleMenu===m.STYLE},c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("ul",{className:"_15_u clearfix"},this.$RichComposedTextEditorMenu19(u),this.$RichComposedTextEditorMenu20(u),this.$RichComposedTextEditorMenu21(u),this.$RichComposedTextEditorMenu22(u),this.$RichComposedTextEditorMenu23(u),this.$RichComposedTextEditorMenu24(u))))})};p.prototype.render=function(){var t="_15_v"+(this.$RichComposedTextEditorMenu10()?" _15_w":"");return c("React").createElement("span",null,c("React").createElement("div",{className:t,ref:"container"},c("React").createElement("div",{className:"_40eu"},this.$RichComposedTextEditorMenu8())),this.renderLayers())};p.propTypes={editorState:l.instanceOf(c("EditorState")).isRequired,compositionID:l.string.isRequired,onToggleBlockType:l.func.isRequired,onAddPhoto:l.func.isRequired,onAddVideo:l.func.isRequired,onCancelPhoto:l.func.isRequired,ownerID:l.string.isRequired,isPageStory:l.bool};function q(t,u){var v=u.createEntity("EMBED","IMMUTABLE",t);return v.getLastCreatedEntityKey()}function r(t,u){var v=u.createEntity("IMAGE","IMMUTABLE",t);return v.getLastCreatedEntityKey()}function s(t,u){var v=u.createEntity("VIDEO","IMMUTABLE",t);return v.getLastCreatedEntityKey()}f.exports=p}),null);
__d("RichTextEditorMarkdownUtil",["DraftModifier","EditorState","SelectionState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=4,i=[{text:"# ",type:"header-one"},{text:"## ",type:"header-two"},{text:"* ",type:"unordered-list-item"},{text:"- ",type:"unordered-list-item"},{text:"+ ",type:"unordered-list-item"},{text:"1. ",type:"ordered-list-item"},{text:"1) ",type:"ordered-list-item"},{text:"> ",type:"blockquote"},{text:"```",type:"code-block"},{text:"    ",type:"code-block"}];function j(p,q){var r=arguments.length<=2||arguments[2]===undefined?q:arguments[2],s=p.getSelection().getAnchorKey();return new(c("SelectionState"))({anchorKey:s,anchorOffset:q,focusKey:s,focusOffset:r,isBackward:false,hasFocus:false})}function k(p,q){var r=p.getCurrentContent(),s=j(p,0,q.text.length);return c("DraftModifier").replaceText(c("DraftModifier").setBlockType(r,s,q.type),s,"")}var l="replaced-markdown-text-with-block-style";function m(p){__p&&__p();var q=p.getSelection(),r=p.getCurrentContent().getBlockForKey(p.getSelection().getStartKey());if(q.isCollapsed()&&q.getStartOffset()<=h&&r.getType()==="unstyled")for(var s=i,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v;if(q.getStartOffset()===w.text.length&&r.getText().startsWith(w.text))return c("EditorState").forceSelection(c("EditorState").push(p,k(p,w),l),j(p,0))}return null}function n(p){return p.getLastChangeType()==="insert-characters"?m(p):null}function o(p,q){__p&&__p();var r=p==="backspace"||p==="backspace-word"||p==="backspace-to-start-of-line";if(!r)return null;var s=q.getLastChangeType()===l;if(!s)return null;var t=q.getSelection().isCollapsed()&&q.getSelection().getStartOffset()===0;if(!t)return null;var u=q.getUndoStack().size&&q.getSelection().getStartKey()===q.getUndoStack().first().getSelectionAfter().getStartKey();if(!u)return null;return c("EditorState").undo(q)}f.exports={_textToBlockStyle:m,textToBlockStyle:n,blockStyleToText:o}}),null);
__d("createMentionEntityForContentState",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=j.getType().toLowerCase();if(k==="hashtag")return i.createEntity("HASHTAG","IMMUTABLE");var l=k==="user"||k==="fb4c"?"SEGMENTED":"IMMUTABLE",m=j.getAuxiliaryData();return i.createEntity("MENTION",l,{id:j.getUniqueID(),isWeak:m&&m.renderType==="non_member",type:k})}f.exports=h}),null);
__d("RichComposedTextEditor.react",["cssVar","cx","AbstractMentionsTextEditor.react","AtomicBlockUtils","CampfireCharacters","CampfireCommands","RichComposedTextEditorBlock.react","RichComposedTextEditorInlineStyleMenu.react","RichComposedTextEditorMenu.react","DraftModifier","EditorState","MentionsLayer.react","React","RichTextEditorUtil","RichTextEditorMarkdownUtil","XUITypeaheadView.react","createMentionEntityForContentState","isSoftNewlineEvent","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=c("CampfireCharacters").EMBED,n=c("CampfireCharacters").PHOTO,o=c("CampfireCharacters").VIDEO,p=4,q={CODE:{backgroundColor:"#f6f7f9",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"14px",padding:4}};j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){__p&&__p();var w,x;for(var y=arguments.length,z=Array(y),A=0;A<y;A++)z[A]=arguments[A];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.$RichComposedTextEditor1=function(B){this.props.onChange(c("RichTextEditorUtil").onTab(B,this.props.editorState,p))}.bind(this),this.$RichComposedTextEditor2=function(B,C){__p&&__p();if(this.props.handleContentReturn&&this.props.handleContentReturn(B,C))return true;if(c("isSoftNewlineEvent")(B)){this.props.onChange(c("RichTextEditorUtil").insertSoftNewline(C));return true}var D=c("RichTextEditorUtil").tryToRemoveBlockStyle(C);if(D){this.props.onChange(c("EditorState").push(C,D,"change-block-type"));return true}var E=s(C);if(E){this.props.onChange(c("EditorState").push(C,E,"change-block-type"));return true}return false}.bind(this),this.$RichComposedTextEditor3=function(B,C){__p&&__p();if(B===c("CampfireCommands").SAVE_DRAFT){this.props.onSave();return true}else if(B===c("CampfireCommands").TOGGLE_LINK){var D=this.refs.inlineStyleMenu;return D.toggleLink()}else{var E=c("RichTextEditorMarkdownUtil").blockStyleToText(B,C);if(E){this.props.onChange(E);return true}}var F=c("RichTextEditorUtil").handleKeyCommand(C,B);if(F){this.props.onChange(F);return true}return false}.bind(this),this.$RichComposedTextEditor4=function(B){this.props.onChange(c("RichTextEditorMarkdownUtil").textToBlockStyle(B)||B)}.bind(this),this.$RichComposedTextEditor5=function(B){this.props.onChange(c("RichTextEditorUtil").toggleBlockType(this.props.editorState,B))}.bind(this),this.$RichComposedTextEditor6=function(B){this.props.onChange(c("RichTextEditorUtil").toggleInlineStyle(this.props.editorState,B))}.bind(this),this.$RichComposedTextEditor7=function(){var B=this.props.editorState;this.props.onChange(c("RichTextEditorUtil").toggleLink(B,B.getSelection(),null))}.bind(this),this.$RichComposedTextEditor8=function(B,C){this.props.onChange(c("RichTextEditorUtil").toggleLink(this.props.editorState,B,C))}.bind(this),this.$RichComposedTextEditor9=function(B){this.props.onChange(c("EditorState").forceSelection(this.props.editorState,B))}.bind(this),this.$RichComposedTextEditor10=function(B,C){if(this.props.canAttachPhoto){var D=c("EditorState").forceSelection(this.props.editorState,B);return this.$RichComposedTextEditor11(D,C)}else if(this.props.handleDroppedFiles)return this.props.handleDroppedFiles(B,C);return false}.bind(this),this.$RichComposedTextEditor12=function(B){if(this.props.canAttachPhoto)return this.$RichComposedTextEditor11(this.props.editorState,B);else if(this.props.handlePastedFiles)return this.props.handlePastedFiles(B);return false}.bind(this),this.$RichComposedTextEditor13=function(B){this.props.onChange(u(this.props.editorState,B,n))}.bind(this),this.$RichComposedTextEditor14=function(B){this.props.onChange(u(this.props.editorState,B,o))}.bind(this),this.$RichComposedTextEditor15=function(B){this.props.onChange(u(this.props.editorState,B,m))}.bind(this),this.$RichComposedTextEditor16=function(){this.props.onChange(c("EditorState").forceSelection(this.props.editorState,this.props.editorState.getSelection()))}.bind(this),this.focus=function(){this.refs.inlineStyleMenu.reset();this.refs.editor.focus()}.bind(this),x}r.prototype.$RichComposedTextEditor11=function(w,x){__p&&__p();var y=x[0];if(!y||y.type!="image/png"&&y.type!="image/jpeg")return false;var z=new FileReader();z.onload=function(A){var B=A.target.result,C=new Image();C.src=B;C.onload=function(){var D=this.props.compositionID,x={photo:y},E={files:x,compositionID:D},F=this.props.editorState.getCurrentContent(),G=F.createEntity("IMAGE","IMMUTABLE",E),H=G.getLastCreatedEntityKey(),I=c("EditorState").set(w,{currentContent:G});this.props.onChange(u(I,H,n))}.bind(this)}.bind(this);z.readAsDataURL(y);return true};r.prototype.blur=function(){this.refs.editor.blur()};r.prototype.shouldComponentUpdate=function(w){return w.editorState!==this.props.editorState||w.readOnly!==this.props.readOnly};r.prototype.render=function(){__p&&__p();var w=this.props.editorState.getCurrentContent(),x=false;if(!w.hasText()){var y=w.getBlockMap().first().getType();x=y!=="unstyled"}var z=c("joinClasses")(this.props.className,"_4u4d"+(x?" _4u4e":"")),A=null,B=null;if(!this.props.readOnly){A=c("React").createElement(c("RichComposedTextEditorMenu.react"),{editorState:this.props.editorState,canAttachVideo:this.props.canAttachVideo,canAttachPhoto:this.props.canAttachPhoto,canAttachEmbed:this.props.canAttachEmbed,compositionID:this.props.compositionID,onToggleBlockType:this.$RichComposedTextEditor5,onAddEmbed:this.$RichComposedTextEditor15,onAddPhoto:this.$RichComposedTextEditor13,onAddVideo:this.$RichComposedTextEditor14,onCancelPhoto:this.$RichComposedTextEditor16,ownerID:this.props.ownerID,isPageStory:this.props.isPageStory});B=c("React").createElement(c("RichComposedTextEditorInlineStyleMenu.react"),{ref:"inlineStyleMenu",editorState:this.props.editorState,onToggle:this.$RichComposedTextEditor6,onRemoveLink:this.$RichComposedTextEditor7,onAddLink:this.$RichComposedTextEditor8,onCancelLink:this.$RichComposedTextEditor9})}return c("React").createElement("div",{className:z,onClick:this.focus,role:"presentation"},c("React").createElement(c("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},this.props,{ref:"editor",blockRendererFn:this.props.blockRendererFn,customStyleMap:q,mentionResultsComponent:c("MentionsLayer.react"),mentionResultsProps:{typeaheadView:c("XUITypeaheadView.react")},mentionCreationForContentStateFn:c("createMentionEntityForContentState"),blockStyleFn:v,blockComponent:c("RichComposedTextEditorBlock.react"),onTab:this.$RichComposedTextEditor1,handleKeyCommand:this.$RichComposedTextEditor3,handleContentReturn:this.$RichComposedTextEditor2,handleDroppedFiles:this.$RichComposedTextEditor10,handlePastedFiles:this.$RichComposedTextEditor12,onChange:this.$RichComposedTextEditor4})),A,B)};r.propTypes={editorState:l.instanceOf(c("EditorState")).isRequired,canAttachVideo:l.bool,canAttachPhoto:l.bool,canAttachEmbed:l.bool,blockRendererFn:l.func,onSave:l.func.isRequired,ownerID:l.string.isRequired,isPageStory:l.bool};function s(w){var x=w.getSelection(),y=x.getAnchorOffset(),z=w.getCurrentContent(),A=z.getBlockForKey(x.getAnchorKey());if(x.isCollapsed()&&A.getLength()===y&&t(A.getType())){var B=c("DraftModifier").splitBlock(z,x);return c("DraftModifier").setBlockType(B,B.getSelectionAfter(),"unstyled")}return null}function t(w){return w==="blockquote"||w==="header-one"||w==="header-two"}function u(w,x,y){return c("AtomicBlockUtils").insertAtomicBlock(w,x,y)}function v(w){var x=w.getType();return"_2cuy"+(x==="unstyled"?" _3dgx":"")+(x==="blockquote"?" _509u":"")+(x==="header-one"?" _509y":"")+(x==="header-two"?" _50a1":"")+(x==="code-block"?" _19ii":"")+(x==="unordered-list-item"?" _509q":"")+(x==="ordered-list-item"?" _509s":"")+(x==="atomic"?" _4nuy":"")}f.exports=r}),null);