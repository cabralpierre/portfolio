if (self.CavalryLogger) { CavalryLogger.start_js(["413sa"]); }

__d("FeedStoryCategory",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5}}),null);
__d("PrivacyConst",[],(function a(b,c,d,e,f,g){f.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,CAN_MESSAGE:8787545733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,CAN_LIKE_AND_COMMENT_PUBLIC_PROFILE_MEDIA:1269423589794183,CAN_TAG_PUBLIC_PROFILE_MEDIA:260920744319731,CAN_DOWNLOAD_PUBLIC_PROFILE_MEDIA:410249702663051,CAN_SHARE_PUBLIC_PROFILE_MEDIA:1648969422065270,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("InstanceProxy",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$InstanceProxy1=i}h.prototype.getInstance=function(){"use strict";return this.$InstanceProxy1};h.prototype.setInstance=function(i){"use strict";this.$InstanceProxy1=i};f.exports=h}),null);
__d("TimezoneAutoset",["AsyncRequest","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h=false;function i(l){var m=new Date(),n=m.getTimezoneOffset()/15,o=m.getTime()/1e3,p=Math.round((l-o)/900),q=Math.round(n+p)%96;if(q==0)return 0;else if(q>48)q-=Math.ceil(q/96)*96;else if(q<-56)q+=Math.ceil(q/-96)*96;return q*15}function j(l,m,n){__p&&__p();if(!l||undefined==m)return;if(h)return;h=true;var o=-i(l);if(n||o!=m){var p="/ajax/timezone/update.php";new(c("AsyncRequest"))().setURI(p).setData({gmt_off:o,is_forced:n}).setErrorHandler(c("emptyFunction")).setTransportErrorHandler(c("emptyFunction")).setOption("suppressErrorAlerts",true).send()}}var k={setInputValue:function l(m,n){m.value=i(n)},setTimezone:j};f.exports=k}),null);
__d("SLPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$SLPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SLPerfLoggerConfig",this.$SLPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SLPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SLPerfTypedLogger1=babelHelpers["extends"]({},this.$SLPerfTypedLogger1,j);return this};h.prototype.setCount=function(j){this.$SLPerfTypedLogger1.count=j;return this};h.prototype.setDurationMs=function(j){this.$SLPerfTypedLogger1.duration_ms=j;return this};h.prototype.setEvent=function(j){this.$SLPerfTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$SLPerfTypedLogger1.vc=j;return this};var i={count:true,duration_ms:true,event:true,vc:true};f.exports=h}),null);
__d("SLUtils",["csx","cx","Arbiter","DOM","Event","FeedAdsClickLogger","LitestandMessages","LitestandStream","Map","MutationObserver","Run","SLConfig","SLPerfTypedLogger","URI","clearTimeout","curry","cxodecode","goURI","joinClasses","setTimeoutAcrossTransitions"],(function a(b,c,d,aa,e,ba,ca,da){"use strict";__p&&__p();var f=false,g=[],h=!!(b.MutationObserver||b.WebKitMutationObserver);function i(Q,R){__p&&__p();var S;if(f)return;f=true;if(!c("SLConfig").gk.s_link_utils)return;if(J()){L().setEvent("init").log();N("init_timer")}j();if(c("SLConfig").gk.sl_replace_about_link)p(function(V,W){return q(V,W)});if(c("SLConfig").gk.sl_replace_s)(function(){__p&&__p();C(Q);var V=R.map(function(W){return{nonce:c("cxodecode")(W.nonce),className:c("cxodecode")(W.className)}});p(function(W,X){V.forEach(function(Y){var Z=c("DOM").scry(W,Y.nonce);Z.forEach(function($){while($.firstChild)$.removeChild($.firstChild);$.className=c("joinClasses")($.className,Y.className)})})})})();if(c("SLConfig").gk.sl_replace_subtitle&&h){var T=H(),U=new(c("MutationObserver"))(function(){return z()});U.observe(T,{childList:true,subtree:true});F();p(function(V,W){x(V,W);y(W)})}m();if(J())L().setEvent("init_duration").setDurationMs(O("init_timer")).log()}function j(){c("Arbiter").subscribe(c("LitestandMessages").STORIES_INSERTED,m);c("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",m,c("Arbiter").SUBSCRIBE_NEW)}function k(){if(J())N("cleanup_timer");g.forEach(function(Q){Q.unsubscribe()});f=false;g=[];if(J())L().setEvent("cleanup_duration").setDurationMs(O("cleanup_timer")).log()}var l=null;function m(){__p&&__p();if(J())N("hsa_timer");c("clearTimeout")(l);l=null;var Q=[],R=t(),S=I(),T=false;S.forEach(function(U){__p&&__p();if(!U.id)return;if(R.has(U.id))return;if(!w(U,U.id)){T=true;return}R.set(U.id,U);Q.push([U,U.id])});if(T){l=c("setTimeoutAcrossTransitions")(m,c("SLConfig").sv.sl_content_waiting_delay);if(J())L().setEvent("hsa_waiting_for_content").log()}if(J())L().setEvent("hsa_stories_added").setCount(Q.length).log();if(Q.length===0)return;Q.forEach(function(U){var V=U[0],W=U[1];return o().forEach(function(X){return X(V,W)})});if(J())L().setEvent("hsa_duration").setDurationMs(O("hsa_timer")).log()}var n=[];function o(){return n}function p(Q){n.push(Q)}function q(Q,R){__p&&__p();var S=w(Q,R);if(!S){if(J())L().setEvent("usl_real_subtitle_missing").log();return}var T=c("DOM").scry(S,"a"),U=T.filter(function(V){var W=new(c("URI"))(V.href).getPath();return W==="/ads/about"||W==="/about/ads"});if(J())L().setEvent("usl_links_updated").setCount(U.length).log();U.forEach(function(V){var W=c("FeedAdsClickLogger").buildURL(V);c("Event").listen(V,"click",c("curry")(r,W));V.href="#"})}function r(Q,R){c("goURI")(Q.toString().replace("__md__=0","__md__=1"));c("Event").stop(R)}var s=new(c("Map"))();function t(){return s}var u=new(c("Map"))(),v=new(c("Map"))();function w(Q,R){var S=null;if(u.has(R))S=u.get(R);else S=Q;var T=c("DOM").scry(S,"._5pcp");if(T.length===0)return null;else return T[0]}function x(Q,R){__p&&__p();if(u.has(R)||v.has(R))return;var S=E();if(!S){if(J())L().setEvent("es_subtitle_container_missing").log();return}var T=c("DOM").scry(Q,"._5pcp");if(J())L().setEvent("es_subtitle_count").setCount(T.length).log();if(T.length===0)return;var U=T[0],V=U.parentNode;if(!U||!V)return;var W=A();U.parentNode.replaceChild(W,U);var X=B(U);S.appendChild(X);u.set(R,X);v.set(R,W)}function y(Q){__p&&__p();if(K())N("usp_timer");var R=H();if(!R){if(J())L().setEvent("usp_feed_root_missing").log();return}var S=v.get(Q);if(!S){if(J())L().setEvent("usp_fake_missing").log();return}var T=u.get(Q);if(!T){if(J())L().setEvent("usp_real_missing").log();return}var U=R.getBoundingClientRect(),V=S.getBoundingClientRect(),W=V.top!==0&&V.left!==0;T.style.display=W?"initial":"none";T.style.top=V.top-U.top+"px";T.style.left=V.left-U.left+"px";if(K())L().setEvent("usp_duration").setDurationMs(O("usp_timer")).log()}function z(){if(K())N("eausp_duration");G();var Q=t();Q.forEach(function(R,S){x(R,S);y(S)});if(K())L().setEvent("eausp_duration").setDurationMs(O("eausp_duration")).setCount(Q.size).log()}function A(){return c("DOM").create("div",{"class":"_4kgx"})}function B(Q){return c("DOM").create("div",{style:"position: absolute; z-index: 1;"},Q)}function C(Q){var R=document.createElement("style");R.type="text/css";R.textContent=c("cxodecode")(Q);document.getElementsByTagName("head")[0].appendChild(R)}var D=null;function E(){return D}function F(){if(D)return;var Q=H();D=c("DOM").create("div",{style:"position: relative;"});Q.insertBefore(D,Q.firstChild)}function G(){if(!D)return;var Q=H();if(D.parentNode===Q)return;c("DOM").remove(D);Q.insertBefore(D,Q.firstChild)}function H(){return c("LitestandStream").getStreamRoot()||document.body}function I(){return c("DOM").scry(H(),"._5pat")}function J(){return!!c("SLConfig").gk.sl_perf_logging}function K(){return!!c("SLConfig").gk.sl_perf_logging_heavy}function L(){return new(c("SLPerfTypedLogger"))()}var M=new(c("Map"))();function N(Q){M.set(Q,Date.now())}function O(Q){var R=M.get(Q);return R==null?-1:Date.now()-R}c("Run").onBeforeUnload(k);var P={init:i};e.exports=P}),null);
__d("rayInterceptsBox",["invariant"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l){var m=Object.keys(k);l.forEach(function(n){m.indexOf(n)!==-1||h(0);typeof k[n]==="number"||h(0)})}var j={check:function k(l,m){__p&&__p();i(l,["minX","maxX","minY","maxY"]);i(m,["x","y","dx","dy"]);l.maxX>l.minX&&l.maxY>l.minY||h(0);if(m.dx===0&&m.dy===0)return false;if(m.x>=l.minX&&m.x<=l.maxX&&m.y>=l.minY&&m.y<=l.maxY)return true;var n=(l.minX-m.x)/m.dx,o=(l.maxX-m.x)/m.dx,p=(l.minY-m.y)/m.dy,q=(l.maxY-m.y)/m.dy,r=Math.max(Math.min(n,o),Math.min(p,q)),s=Math.min(Math.max(n,o),Math.max(p,q));if(r<0)return false;if(r>s)return false;return true}};f.exports=j}),null);
__d("AdsMouseStateStore",["invariant","$","Arbiter","Event","EventEmitter","Run","SubscriptionsHandler","Vector","ge","keyMirror","rayInterceptsBox","throttle"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=30,l=500,m="pagelet_ego_pane",n=c("keyMirror")({STATIONARY:null,INTENT:null,HOVER:null,NO_INTENT:null});function o(event){try{return{x:event.clientX||event.x,y:event.clientY||event.y}}catch(q){var r=Math.random()*1e3;return{x:r,y:r}}}i=babelHelpers.inherits(p,c("EventEmitter"));j=i&&i.prototype;function p(){__p&&__p();var q=arguments.length<=0||arguments[0]===undefined?m:arguments[0],r=arguments.length<=1||arguments[1]===undefined?l:arguments[1];j.constructor.call(this);this.destroy=function(){if(this.$AdsMouseStateStore8)this.$AdsMouseStateStore8.release();this.removeAllListeners()}.bind(this);this.onPageTransition=function(event){this.$AdsMouseStateStore9()}.bind(this);this.onMouseMove=function(event){this.calculateState(o(event))}.bind(this);this.$AdsMouseStateStore7=q;this.$AdsMouseStateStore9();this.$AdsMouseStateStore8=new(c("SubscriptionsHandler"))().addSubscriptions(c("Event").listen(document,"mousemove",c("throttle")(this.onMouseMove,r)),c("Arbiter").subscribe("page_transition",this.onPageTransition));c("Run").onLeave(this.destroy)}p.prototype.$AdsMouseStateStore9=function(){this.$AdsMouseStateStore1=n.STATIONARY;this.$AdsMouseStateStore2=this.$AdsMouseStateStore3=0;this.$AdsMouseStateStore4=Date.now();this.$AdsMouseStateStore5=this.$AdsMouseStateStore7;this.$AdsMouseStateStore6=Infinity};p.prototype.getState=function(){return this.$AdsMouseStateStore1};p.prototype.updateRhcID=function(q){c("$")(q)||h(0);this.$AdsMouseStateStore5=q};p.prototype.getRhcID=function(){return this.$AdsMouseStateStore5};p.prototype.__updateMousePos=function(q){this.$AdsMouseStateStore2=q.x;this.$AdsMouseStateStore3=q.y};p.prototype.isRhcPresent=function(){if(!c("ge")(this.$AdsMouseStateStore5))return false;var q=this.getRhcDimensions();return q.y>0&&q.x>0};p.prototype.getRhc=function(){return c("$")(this.$AdsMouseStateStore5)};p.prototype.getRhcPosition=function(){return c("Vector").getElementPosition(this.getRhc())};p.prototype.getRhcScreenPos=function(){var q=c("Vector").getScrollPosition(),r=this.getRhcPosition();return{x:r.x-q.x,y:r.y-q.y}};p.prototype.getRhcDimensions=function(){return c("Vector").getElementDimensions(this.getRhc())};p.prototype.getPointToRectSquareDist=function(){return this.$AdsMouseStateStore6};p.prototype.isPointWithinDist=function(q){var r=this.getPointToRectSquareDist();return r<=q*q};p.prototype.getRhcBoundingBox=function(){var q=this.getRhcDimensions(),r=this.getRhcScreenPos();return{minX:r.x,maxX:r.x+q.x,minY:r.y,maxY:r.y+q.y}};p.prototype.$AdsMouseStateStore10=function(q){var r=this.getRhcBoundingBox(),s={x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2},t=Math.abs(r.minX-r.maxX),u=Math.abs(r.minY-r.maxY),v=Math.max(Math.abs(q.x-s.x)-t/2,0),w=Math.max(Math.abs(q.y-s.y)-u/2,0);this.$AdsMouseStateStore6=v*v+w*w};p.prototype.isPosContainedInRhc=function(q){var r=this.getRhcBoundingBox();return q.x>=r.minX&&q.x<=r.maxX&&q.y>=r.minY&&q.y<=r.maxY};p.prototype.hasMovedMinDistance=function(q){var r=q.x-this.$AdsMouseStateStore2,s=q.y-this.$AdsMouseStateStore3;return r*r+s*s>=k*k};p.prototype.tooSoon=function(){return Date.now()-this.$AdsMouseStateStore4<l};p.prototype.$AdsMouseStateStore11=function(){this.$AdsMouseStateStore4=Date.now()};p.prototype.calculateState=function(q){__p&&__p();if(this.tooSoon())return;this.$AdsMouseStateStore11();if(!this.isRhcPresent())return;if(this.isPosContainedInRhc(q)){this.transitionToState(n.HOVER);this.$AdsMouseStateStore6=0;this.__updateMousePos(q);this.scheduleCheckup();return}else if(!this.hasMovedMinDistance(q)){this.transitionToState(n.STATIONARY);return}this.$AdsMouseStateStore10(q);var r=this.isMovingTowardsRhc(q)?n.INTENT:n.NO_INTENT;this.transitionToState(r);this.__updateMousePos(q);this.scheduleCheckup()};p.prototype.isMovingTowardsRhc=function(q){var r={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3};if(this.isPosContainedInRhc(r))return true;var s=this.getRhcBoundingBox(),t={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3,dx:q.x-this.$AdsMouseStateStore2,dy:q.y-this.$AdsMouseStateStore3};return c("rayInterceptsBox").check(s,t)};p.prototype.scheduleCheckup=function(){var q={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3};setTimeout(function(){this.calculateState(q)}.bind(this),l*1.5)};p.prototype.transitionToState=function(q){if(q===this.$AdsMouseStateStore1)return;this.$AdsMouseStateStore1=q;this.emit("change")};p.get=function(){if(!p.$AdsMouseStateStore12)p.$AdsMouseStateStore12=new p();return p.$AdsMouseStateStore12};p.STATES=n;p.MIN_MOVE_DISTANCE=k;p.THROTTLE_TIME=l;f.exports=p}),null);
__d("AdsPagerConstants",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({ADD_PAGE:null,PAGE_TRANSITION:null,REQUEST_PAGE:null}),i=c("keyMirror")({VIEW_ACTION:null,SERVER_ACTION:null});f.exports={ActionTypes:h,PayloadSources:i}}),null);
__d("AdsPagerDispatcher",["AdsPagerConstants","Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";var h=c("AdsPagerConstants").PayloadSources;function i(k){return function(l){this.dispatch({payloadSource:k,action:l})}}var j=Object.assign(new(c("Dispatcher_DEPRECATED"))(),{handleUpdateFromViewAction:i(h.VIEW_ACTION),handleUpdateFromServerAction:i(h.SERVER_ACTION)});f.exports=j}),null);
__d("AdsRefreshHandler",["csx","AdsMouseStateStore","AdsPagerConstants","AdsPagerDispatcher","Arbiter","CSSFade","DataAttributeUtils","DOM","Event","SubscriptionsHandler","Toggler","UIPagelet","VideoPlayerExperiments","cxodecode","debounceAcrossTransitions","getOrCreateDOMID"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("AdsMouseStateStore").STATES,j=600,k=c("AdsMouseStateStore").get(),l=void 0;function m(n,o,p){"use strict";__p&&__p();if(!p.data||!p.pid)return;if(o.nonce)l=c("cxodecode")(o.nonce);this.$AdsRefreshHandler1=n;this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler3=o;this.$AdsRefreshHandler4=p;this.$AdsRefreshHandler5=0;this.$AdsRefreshHandler6=false;this.$AdsRefreshHandler7=true;this.$AdsRefreshHandler8=0;this.$AdsRefreshHandler9=null;this.$AdsRefreshHandler10=c("debounceAcrossTransitions")(this.reloadAdsIfNeeded.bind(this),this.$AdsRefreshHandler3.delay);this.$AdsRefreshHandler11=new(c("SubscriptionsHandler"))();this.$AdsRefreshHandler11.addSubscriptions(c("Event").listen(this.$AdsRefreshHandler1,"mouseenter",this.setMouseOver.bind(this,true)),c("Event").listen(this.$AdsRefreshHandler1,"mouseleave",this.setMouseOver.bind(this,false)),k.addListener("change",this.onMouseStateStoreChange.bind(this)),c("Arbiter").subscribe("AdsPreferencesDialog/opened",this.stopRefreshingRHC.bind(this)),c("Arbiter").subscribe("AdsPreferencesDialog/closed",this.startRefreshingRHC.bind(this)),c("Arbiter").subscribe("VideoChannelView/opened",this.stopRefreshingRHC.bind(this)),c("Arbiter").subscribe("VideoChannelView/closed",this.startRefreshingRHC.bind(this)));if(c("VideoPlayerExperiments").rhcWNSPauseAds)this.$AdsRefreshHandler11.addSubscriptions(c("Arbiter").subscribe("VideoWatchAndScrollController/init",this.stopRefreshingRHC.bind(this)),c("Arbiter").subscribe("VideoWatchAndScrollController/exit",this.startRefreshingRHC.bind(this)));this.$AdsRefreshHandler12();c("AdsPagerDispatcher").register(this.handlePageDispatch.bind(this))}m.prototype.$AdsRefreshHandler12=function(){"use strict";if(this.$AdsRefreshHandler13)this.$AdsRefreshHandler13.release();this.$AdsRefreshHandler13=new(c("SubscriptionsHandler"))();var n=c("DOM").scry(this.$AdsRefreshHandler1,".uiToggle");for(var o=0;o<n.length;o++)this.$AdsRefreshHandler13.addSubscriptions(c("Toggler").listen("show",n[o],this.stopRefreshingRHC.bind(this)),c("Toggler").listen("hide",n[o],this.startRefreshingRHC.bind(this)))};m.prototype.handlePageDispatch=function(n){"use strict";var o=n.action||{};if(o.actionType===c("AdsPagerConstants").ActionTypes.REQUEST_PAGE)this.reloadAds()};m.prototype.setMouseOver=function(n){"use strict";this.$AdsRefreshHandler14=n;if(n&&this.$AdsRefreshHandler9!=null){this.$AdsRefreshHandler9.cancel();this.$AdsRefreshHandler9=null}};m.prototype.subscribeDefaultEventsForRefresh=function(){"use strict";this.$AdsRefreshHandler11.addSubscriptions(c("Event").listen(window,"scroll",this.$AdsRefreshHandler10),c("Event").listen(window,"resize",this.$AdsRefreshHandler10));return this};m.prototype.reloadWithDebounce=function(){"use strict";this.$AdsRefreshHandler10()};m.prototype.reloadWithoutDebounce=function(){"use strict";this.reloadAdsIfNeeded()};m.prototype.stopRefreshingRHC=function(n,o){"use strict";if(c("VideoPlayerExperiments").rhcWNSPauseAds)this.$AdsRefreshHandler8++;else this.$AdsRefreshHandler7=false};m.prototype.startRefreshingRHC=function(n,o){"use strict";this.$AdsRefreshHandler2=Date.now();if(c("VideoPlayerExperiments").rhcWNSPauseAds){if(--this.$AdsRefreshHandler8<0)this.$AdsRefreshHandler8=0}else this.$AdsRefreshHandler7=true};m.prototype.forceLoadIfEnoughTimePassed=function(n){"use strict";if(Date.now()-this.$AdsRefreshHandler2>n)this.reloadAds()};m.prototype.containsPremium=function(){"use strict";var n=c("DOM").scry(this.$AdsRefreshHandler1,l||"div._4u8");return!!n.filter(function(o){return JSON.parse(c("DataAttributeUtils").getDataAttribute(o,"data-ad")).segment==="premium"}).length};m.prototype.reloadAdsIfNeeded=function(){"use strict";__p&&__p();if(!this.$AdsRefreshHandler1)return;c("Arbiter").inform("AdsRefreshHandler/CheckingReload");if(this.$AdsRefreshHandler3.stateRefresh){this.reloadAdsIfNeededStateBased();return}if(this.containsPremium()||this.$AdsRefreshHandler14||!this.$AdsRefreshHandler3.interval)return;if(Date.now()-this.$AdsRefreshHandler2>=this.$AdsRefreshHandler3.interval)this.reloadAds()};m.prototype.reloadAdsIfNeededStateBased=function(){"use strict";__p&&__p();if(Date.now()-this.$AdsRefreshHandler2<this.$AdsRefreshHandler3.interval)return;if(this.containsPremium())return;if(!this.$AdsRefreshHandler3.interval)return;this.$AdsRefreshHandler6=true;c("Arbiter").inform("AdsRefreshHandler/RefreshScheduled");this.checkScheduledRefresh()};m.prototype.getRefreshScheduled=function(){"use strict";return this.$AdsRefreshHandler6};m.prototype.onMouseStateStoreChange=function(){"use strict";this.checkScheduledRefresh()};m.prototype.checkScheduledRefresh=function(){"use strict";__p&&__p();if(!this.$AdsRefreshHandler6)return;if(this.$AdsRefreshHandler14)return;var n=k.getState(),o=false;switch(n){case i.HOVER:case i.NO_INTENT:o=true;break;default:break}if(!o)return;this.$AdsRefreshHandler6=false;this.reloadAds()};m.prototype.reloadAds=function(){"use strict";__p&&__p();if(!this.$AdsRefreshHandler1)return;this.$AdsRefreshHandler2=Date.now();if(c("VideoPlayerExperiments").rhcWNSPauseAds){if(this.$AdsRefreshHandler8)return}else if(!this.$AdsRefreshHandler7)return;var n=this.$AdsRefreshHandler4&&this.$AdsRefreshHandler4.data,o=babelHelpers["extends"]({},n,{refresh_num:++this.$AdsRefreshHandler5});this.$AdsRefreshHandler9=c("UIPagelet").loadFromEndpoint("WebEgoPane",this.$AdsRefreshHandler1,{dom_id:c("getOrCreateDOMID")(this.$AdsRefreshHandler1),pid:this.$AdsRefreshHandler4.pid,data:o},{bundle:false,handler:this.onLoadHandler.bind(this)});c("Arbiter").inform("AdsRefreshHandler/AdsLoading")};m.prototype.onLoadHandler=function(){"use strict";c("Arbiter").inform("AdsRefreshHandler/AdsLoaded");this.$AdsRefreshHandler9=null;this.$AdsRefreshHandler12();if(!this.$AdsRefreshHandler3.fade)return;c("CSSFade").show(this.$AdsRefreshHandler1,{duration:j})};m.prototype.cleanup=function(){"use strict";this.$AdsRefreshHandler1=null;this.$AdsRefreshHandler11.release();this.$AdsRefreshHandler10.reset()};f.exports=m}),null);
__d("HomeRHCAdsBasicRefresh",["AdsRefreshHandler","Arbiter","NavigationMessage","Run","SubscriptionsHandler","ge"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j,k;function l(){if(h){h.cleanup();h=null}if(i){i.release();i=null}j=null}function m(){var p=c("ge")(k);if(p&&j){p.appendChild(j);j=null}}function n(p,q){j=q;h&&h.forceLoadIfEnoughTimePassed(0)}var o={init:function p(q,r,s){k=q;h=new(c("AdsRefreshHandler"))(c("ge")(q),r,s).subscribeDefaultEventsForRefresh();i=new(c("SubscriptionsHandler"))();i.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,l),c("Arbiter").subscribe("ProfileQuestionAnswered",n),c("Arbiter").subscribe("AdsRefreshHandler/AdsLoaded",m));c("Run").onLeave(l)}};f.exports=o}),null);
__d("OutdatedBrowserBanner",["CSS","$"],(function a(b,c,d,e,f,g){g.conditionShow=function(h,i){c("CSS").conditionShow(c("$")(h),i)}}),null);
__d("BanzaiNectar",["Banzai"],(function a(b,c,d,e,f,g){function h(j){return{log:function k(l,m,n){var o={e:m,a:n};c("Banzai").post("nectar:"+l,o,j)}}}var i=h();i.create=h;f.exports=i}),null);
__d("KeyboardShortcuts",["KeyEventController","Layer","ModalLayer"],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k,l){"use strict";this.key=j;this.handler=k;this.filter=l;this.register()}h.prototype.register=function(){"use strict";this.token=c("KeyEventController").registerKey(this.key,this.handler,this.filter)};h.prototype.remove=function(){"use strict";this.token.remove()};var i={_tokens:[[]],register:function j(k,l,m){__p&&__p();m=m||{};var n=m.allowDefault?l:function(event,r){l.apply(this,arguments);event.prevent()},o=m.baseFilters||[c("KeyEventController").defaultFilter],p=function p(event,r){for(var s=0,t=o.length;s<t;s++)if(!o[s](event,r))return false;return!m.filter||m.filter(event,r)},q=new h(k,n,p);if(!this._tokens.length)this._tokens.push([]);this._tokens[this._tokens.length-1].push(q);return q},init:function j(){c("Layer").subscribe("show",function(k,l){if(l.hasBehavior(c("ModalLayer")))this.pushLayer()}.bind(this));c("Layer").subscribe("hide",function(k,l){if(l.hasBehavior(c("ModalLayer")))this.popLayer()}.bind(this))},pushLayer:function j(){var k=this._tokens[this._tokens.length-1];k&&k.forEach(function(l){l.remove()});this._tokens.push([])},popLayer:function j(){__p&&__p();var k=this._tokens.length-1;if(k<0)return;var l=this._tokens[k];l.forEach(function(n){n.remove()});this._tokens.pop();var m=this._tokens[k-1];m&&m.forEach(function(n){n.register()})}};i.init();f.exports=i}),null);
__d("LikeConfirmer",["AsyncDialog","AsyncRequest"],(function a(b,c,d,e,f,g){__p&&__p();var h=false,i=false,j={likeContent:function k(){},like:function k(l,m){__p&&__p();this.likeContent=l;if(i)return;if(h)this.likeContent();else{var n=new(c("AsyncRequest"))().setURI("/like/confirm_like.php").setRelativeTo(m);c("AsyncDialog").send(n,function(o){i=true;o.subscribe("hide",this.onCloseLikeConfirmDialog.bind(this));o.setCausalElement(m)}.bind(this))}return false},isShowingConfirmation:function k(){return i},onCloseLikeConfirmDialog:function k(){i=false},likeSkipConfirmation:function k(l){h=l;this.likeContent()}};f.exports=j}),null);
__d("FeedBaseKeyboardController",["csx","AccessibilityLogger","Arbiter","AsyncDialog","AsyncRequest","Banzai","BanzaiNectar","BanzaiODS","CSS","DOM","DOMScroll","Event","Focus","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","Scroll","SubscriptionsHandler","UITinyViewportAction","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","isAsyncScrollQuery","isElementNode","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=0;function j(){i=c("UITinyViewportAction").isTiny()?0:c("ViewportBounds").getTop()}function k(l){"use strict";this.root=l;this.init()}k.prototype.getStories=function(){"use strict"};k.prototype.getParentStory=function(l){"use strict"};k.prototype.isStory=function(l){"use strict"};k.prototype.isHoldoutStory=function(l){"use strict"};k.prototype.getHeadline=function(l){"use strict"};k.prototype.getPreviousStory=function(l){"use strict"};k.prototype.getNextStory=function(l){"use strict"};k.prototype.setSelected=function(l,m){"use strict"};k.prototype.clickLike=function(){"use strict"};k.prototype.clickComment=function(){"use strict"};k.prototype.clickShare=function(){"use strict"};k.prototype.clickSeeMore=function(){"use strict"};k.prototype.clickLeft=function(){"use strict"};k.prototype.clickRight=function(){"use strict"};k.prototype.openAttachment=function(){"use strict"};k.prototype.focusComposer=function(){"use strict";__p&&__p();var l=["pagelet_composer","pagelet_group_composer","pagelet_event_composer","profile_fig_composer","PageComposerPagelet_","PageComposerPagelet_Admin_View"],m=null;for(var n in l){m=c("ge")(l[n]);if(m)break}if(m){var o=c("DOM").scry(m,"textarea")[0];if(o){c("Focus").set(o);c("DOMScroll").scrollTo(m,true)}else{var p=c("DOM").scry(m,"div._36bx")[0],q=p&&p.id;if(c("ReactComposerIDGenerator").isComposerID(q)){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+p.id);c("DOMScroll").scrollTo(m,true)}}}};k.prototype.getScrollOffset=function(){"use strict";return 10+(this.scrollOffset||0)};k.prototype.getAnimationLength=function(l){"use strict";return Math.min(Math.abs(c("Vector").getElementPosition(l).y-c("ViewportBounds").getTop()-c("Scroll").getTop(document.body)),400)};k.prototype.findTop=function(){"use strict";var l=this.getStories();for(var m=0;m<l.length;m++)if(c("Vector").getElementPosition(l[m]).y>c("Vector").getScrollPosition().y)return l[m];return null};k.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release()};k.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new(c("AsyncRequest"))("/ajax/keyboard_shortcuts");this.dialogRequest.setReadOnly(true)}else if(this.dialogRequest.transport)return null;return this.dialogRequest};k.prototype.init=function(){"use strict";__p&&__p();c("Run").onLeave(this.onLeave.bind(this));this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.onLeave.bind(this)),c("KeyboardShortcuts").register("j",this.vert.bind(this,1)),c("KeyboardShortcuts").register("k",this.vert.bind(this,-1)),c("KeyboardShortcuts").register("l",function(){var l=this.getParentStory(c("getActiveElement")());c("LikeConfirmer").like(function(){this.setSelected(l,false);this.clickLike()}.bind(this),c("getActiveElement")())}.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("c",this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("o",this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("p",this.focusComposer.bind(this)),c("KeyboardShortcuts").register("s",this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("SLASH",function(){var l=this.getHelpDialogRequest();if(l){l.setRelativeTo(c("getActiveElement")());c("AsyncDialog").send(l)}}.bind(this),{filter:function l(event,m){return event.getModifiers().shift}}),c("KeyboardShortcuts").register("RETURN",this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),c("KeyboardShortcuts").register("LEFT",this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),c("KeyboardShortcuts").register("RIGHT",this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),c("Event").listen(this.root,"focusin",function(event){var l=event.getTarget();if(!this.isStory(l)){var m=c("DOM").isNodeOfType(l,["object","embed","iframe"]),n=this.getParentStory(l),o=this.selected;if(n&&!m&&o){this.setSelected(n,true);this.selected=n}}}.bind(this)))};k.prototype.hasActiveStory=function(event,l){"use strict";var m=c("getActiveElement")();return!(m&&c("CSS").shown(m))||!!this.getParentStory(m)};k.prototype.hasExpandableStoryInFocus=function(event,l){"use strict";var m=c("getActiveElement")();return!!(m.getElementsByClassName("text_exposed_root").length&&!m.getElementsByClassName("text_exposed_root text_exposed").length)};k.prototype.clickElement=function(l){"use strict";__p&&__p();if(!l)return;var m=void 0;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];for(var q=0,r=o.length;q<r;q++){m=c("DOM").scry(l,o[q])[0];if(m&&c("CSS").shown(m)){m.click();return}}};k.prototype.click=function(){"use strict";for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];this.clickElement.apply(this,[this.selected].concat(m))};k.prototype.$FeedBaseKeyboardController1=function(){"use strict";__p&&__p();if(!this.$FeedBaseKeyboardController2){this.scrollOffset=0;var l=c("ge")("pagelet_feed_switcher_root");if(l)this.scrollOffset+=l.getBoundingClientRect().height;this.subscriptions.addSubscriptions(c("Event").listen(document,"scroll",function(){if(this.selected&&!this.scrolling)this.setSelected(null,false)}.bind(this)));this.$FeedBaseKeyboardController2=true}};k.prototype.$FeedBaseKeyboardController3=function(){"use strict";if(!this.$FeedBaseKeyboardController4){j();this.subscriptions.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(j)));this.$FeedBaseKeyboardController4=true}};k.prototype.vert=function(l){"use strict";__p&&__p();this.$FeedBaseKeyboardController1();var m,n;if(this.selected){if(c("Banzai").isEnabled("kbshortcuts_feed")){n=l>0?"kbshortcuts.scroll_down":"kbshortcuts.scroll_up";c("BanzaiODS").bumpEntityKey("kbshortcuts_feed",n);c("BanzaiNectar").log("feed_scroll",n,{})}c("AccessibilityLogger").logJKKey();if(this.selected.id=="pagelet_composer"){m=l>0?this.getStories()[0]:null;if(this.isHoldoutStory(m))m=this.getPreviousStory(m)}else if(l===0)m=this.selected;else m=l>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||c("ge")("pagelet_composer");if(!m)return;else if(!c("isElementNode")(m)||c("CSS").hasClass(m,"hidden_elem")){c("CSS").removeClass(this.selected,"selectedStorySimple");this.selected=m;this.vert(l);return}}if(!m||c("Parent").byClass(m,"hidden_elem")||!c("DOM").contains(document,m)){m=this.findTop();if(m&&l<0)m=this.getPreviousStory(m);if(this.isHoldoutStory(m))m=this.getPreviousStory(m)}if(!m)return;this.anim&&this.anim.stop();var o=Date.now()-(this.lastScroll||0)>30,p=c("emptyFunction");if(l!==0)p=this.setFocused.bind(this,m);if(c("isAsyncScrollQuery")()){o=false;p();p=c("emptyFunction")}this.scrolling=true;this.scrollingTimer&&clearTimeout(this.scrollingTimer);this.$FeedBaseKeyboardController3();this.anim=c("DOMScroll").scrollTo(m,o?this.getAnimationLength(m):0,false,c("Vector").getViewportDimensions().y-i-this.getScrollOffset(),0,function(){this.scrollingTimer=setTimeout(function(){this.scrolling=false}.bind(this),300);var q=c("Vector").getScrollPosition();p();if(q.distanceTo(c("Vector").getScrollPosition())!==0)c("DOMScroll").scrollTo(q,0)}.bind(this));this.setSelected(m,true);this.lastScroll=Date.now()};k.prototype.setTabindexOnStory=function(l,m){"use strict";if(this.isStory(l))l.tabIndex=m};k.prototype.setFocused=function(l){"use strict";if(this.isStory(l))c("Focus").setWithoutOutline(l)};f.exports=k}),null);
__d("FeedTrackingAsync",["Arbiter","Run","collectDataAttributes"],(function a(b,c,d,e,f,g){__p&&__p();var h;f.exports.init=function(){__p&&__p();if(h)return;h=c("Arbiter").subscribe("AsyncRequest/send",function(i,j){var k=j.request,l=k.getRelativeTo();if(l){var m=k.getData(),n=c("collectDataAttributes")(l,["ft"]);if(n.ft&&Object.keys(n.ft).length)Object.assign(m,n)}});c("Run").onLeave(function(){if(h){h.unsubscribe();h=null}})}}),null);
__d("XFeedSeeFirstStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/control/see_first/story/",{})}),null);
__d("SeeFirstStoryLogger",["AsyncRequest","XFeedSeeFirstStoryController"],(function a(b,c,d,e,f,g){var h=function h(){var i=c("XFeedSeeFirstStoryController").getURIBuilder().getURI();new(c("AsyncRequest"))(i).send()};f.exports={log:h}}),null);
__d("FeedImageErrorEventLogger",["Arbiter","BanzaiLogger","Bootloader","DataStore","DOMQuery","Parent","Run","URI","ge","getCrossOriginTransport"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2;function i(s,t){return{containerId:t,errorsImageSrcs:{},numErrorUrlsLogged:0,surface:s}}var j=false,k=0,l=false,m=[i("feed","stream_pagelet"),i("profile","pagelet_timeline_main_column")];function n(s){return!!s&&(Object.prototype.hasOwnProperty.call(s.getQueryData(),"theater")||s.toString().indexOf("/videos/")>=0)}function o(s){c("BanzaiLogger").log("WebFeedImageErrorEventLoggerConfig",s)}function p(){__p&&__p();m.forEach(function(s){__p&&__p();var t,u=c("ge")(s.containerId);if(u)(function(){__p&&__p();var v=c("DOMQuery").scry(u,"img"),w=v.length,x=0,y=0;v.forEach(function(z){__p&&__p();if(z&&z.src){var A="other";if(s.errorsImageSrcs[z.src]){y++;A="error"}else if(z.complete){x++;A="success"}if(k>0&&Math.random()<1/k)c("BanzaiLogger").log("WWWImageLoadSrcEventLoggerConfig",{surface:s.surface,src:z.src,result:A})}});if(l&&w>0)c("BanzaiLogger").log("WWWImageLoadSummaryEventLoggerConfig",{surface:s.surface,num_total:w,num_success:x,num_errors:y,num_other:w-x-y});s.numErrorUrlsLogged=0})()})}function q(s){__p&&__p();if(!s||!s.target||s.target.nodeName!=="IMG")return;var t=s.target,u=t.src,v=m.find(function(x){return c("Parent").bySelector(t,"#"+x.containerId)});if(!v)return;var w=v.surface;if(!c("DataStore").get(t,"retry")){c("DataStore").set(t,"retry",true);t.src=u}else{v.errorsImageSrcs[u]=true;if(v.numErrorUrlsLogged>=h)return;v.numErrorUrlsLogged++;c("Bootloader").loadModules(["XHRRequest"],function(x){__p&&__p();if(x)new x(u).setTransportBuilder(c("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(){o({error_type:"SUCCESS",src:u,surface:w})}).setErrorHandler(function(y){if(y){var z=y.errorMsg;if(z.indexOf('id="facebook"')>0)z="FB ERROR PAGE";o({error_code:y.errorCode,error_type:y.errorType,error_message:z,src:u,surface:w})}}).setTimeoutHandler(function(u){o({error_type:"TIMEOUT",src:u,surface:w})}).send()},"FeedImageErrorEventLogger")}}var r={init:function s(t){__p&&__p();if(j)return;j=true;k=t&&t.loadSampleRate||0;l=t&&t.alwaysLogCounts;window.addEventListener("error",q,true);c("Run").onUnload(function(){return p()});c("Arbiter").subscribe(["pre_page_transition"],function(u,v){if(n(c("URI").getMostRecentURI())||n(c("URI").getNextURI()))return;p()})}};f.exports=r}),null);
__d("FeedLoadEventWWWLogger",["Arbiter","BanzaiLogger","ErrorSignal","ErrorUtils","LitestandMessages","PageletEventConstsJS","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=["substream_","more_pager_pagelet_","pagelet_composer","pagelet_navigation","pagelet_rhc_footer"],i=[c("PageletEventConstsJS").ARRIVE_END,c("PageletEventConstsJS").DISPLAY_END,c("PageletEventConstsJS").ONLOAD_END],j=["pre_page_transition","page_transition"],k=[c("LitestandMessages").NEWSFEED_LOAD,c("LitestandMessages").STORIES_REQUESTED,c("LitestandMessages").STORIES_INSERTED,c("LitestandMessages").NEWER_STORIES_REQUESTED,c("LitestandMessages").NEWER_STORIES_INSERTED,c("LitestandMessages").STREAM_LOAD_ERROR,c("LitestandMessages").STREAM_LOAD_RETRY,c("LitestandMessages").DUPLICATE_CURSOR_ERROR],l=false;function m(q){return q&&(q.getPath()==="/"||q.getPath()==="/home.php")}function n(q){c("BanzaiLogger").log("WebFeedLoadLoggerConfig",q)}function o(q){if(!q)return null;if(q.indexOf("more_pager_pagelet_")===0)return"more_pager_pagelet_n";if(q.indexOf("substream_")===0&&q!=="substream_0"&&q!=="substream_1")return"substream_n";return q}var p={init:function q(){__p&&__p();if(l)return;c("Arbiter").subscribe("BigPipe/init",function(r,s){if(!s||!s.arbiter)return;s.arbiter.subscribe("pagelet_event",function(r,t){if(t&&i.indexOf(t.event)>=0&&h.some(function(u){return t.id.indexOf(u)===0})&&m(c("URI").getNextURI()))n({event:"pagelet",pagelet_id:o(t.id),pagelet_event_type:t.event,pagelet_phase:t.phase.toString()})})});c("Arbiter").subscribe(j,function(r,s){if(s){var t=s.to||s.uri;if(m(t))n({event:"page_transition",transition_event_type:r})}});c("Arbiter").subscribe(k,function(r,s){var t=null,u=null;if(r===c("LitestandMessages").STREAM_LOAD_ERROR)t=s;else if(r===c("LitestandMessages").DUPLICATE_CURSOR_ERROR)u=s;n({event:"stream_load",stream_event_type:r,stream_cursor:u,stream_substream_id:o(s&&s.substream_id),error_name:t&&t.name,error_message:t&&t.message,error_stack:t&&t.stack})});c("ErrorUtils").addListener(function(r){if(r&&m(c("URI").getNextURI())){c("ErrorSignal").logJSError("feedloaderror",{error:r.name||r.message,extra:r});n({event:"js_error",error_name:r.name,error_message:r.message,error_stack:r.stack})}});l=true}};f.exports=p}),null);
__d("HelpLiteFlyoutBootloader",["regeneratorRuntime","Deferred","JSResource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i=null,j=null,k={loadFlyout:function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:k.loadFlyoutWithHelpType(null);case 1:case"end":return n.stop()}},null,this)},loadFlyoutWithHelpType:function l(m){__p&&__p();var n,o,p,q;return c("regeneratorRuntime").async(function r(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:s.next=2;return c("regeneratorRuntime").awrap(c("JSResource")("HelpLiteFlyout").__setRef("HelpLiteFlyoutBootloader").load());case 2:n=s.sent;if(!h){s.next=6;break}n.refreshHelp();return s.abrupt("return");case 6:h=true;if(m)k.setHelpType(m);s.next=10;return c("regeneratorRuntime").awrap(this._getDeferredFlyoutElements().getPromise());case 10:o=s.sent;p=o.flyout;q=o.flyoutRoot;n.registerFlyoutToggler(p,q);n.loadBody();case 15:case"end":return s.stop()}},null,this)},setHelpType:function l(m){j=m},getHelpType:function l(){return j},_getDeferredFlyoutElements:function l(){if(i==null)i=new(c("Deferred"))();return i},registerFlyoutElements:function l(m,n){this._getDeferredFlyoutElements().resolve({flyout:m,flyoutRoot:n})}};f.exports=k}),null);
__d("PrivacyLiteFlyoutBootloader",["regeneratorRuntime","Promise","Deferred","JSResource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=false,i=null,j=null,k={loadFlyout:function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(k._loadFlyout(false));case 2:case"end":return n.stop()}},null,this)},loadFlyoutAsChild:function l(){return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(k._loadFlyout(true));case 2:case"end":return n.stop()}},null,this)},_loadFlyout:function l(m){__p&&__p();var n,o,p,q,r,s,t,event,u,v;return c("regeneratorRuntime").async(function w(x){__p&&__p();while(1)switch(x.prev=x.next){case 0:if(!h){x.next=2;break}return x.abrupt("return");case 2:h=true;x.next=5;return c("regeneratorRuntime").awrap(c("Promise").all([c("JSResource")("PrivacyLiteFlyout").__setRef("PrivacyLiteFlyoutBootloader").load(),this._getDeferredFlyoutElements().getPromise(),this._getDeferredFooterElements().getPromise()]));case 5:n=x.sent;o=n[0];p=n[1];q=p.flyout;r=p.flyoutRoot;s=n[2];t=s.footer;event=s.event;u=s.settingsExitPoint;v=s.basicsExitPoint;o.setIsChild(!!m);o.registerFlyoutToggler(q,r);o.registerSettingsAndBasicsLinkLogging(t,event,u,v);o.loadBody();case 19:case"end":return x.stop()}},null,this)},setChildFlyoutVisible:function l(m){__p&&__p();var n,o,p,q,r;return c("regeneratorRuntime").async(function s(t){__p&&__p();while(1)switch(t.prev=t.next){case 0:if(!(!h&&!m)){t.next=2;break}return t.abrupt("return");case 2:t.next=4;return c("regeneratorRuntime").awrap(c("Promise").all([c("JSResource")("PrivacyLiteFlyout").__setRef("PrivacyLiteFlyoutBootloader").load(),this._getDeferredFlyoutElements().getPromise()]));case 4:n=t.sent;o=n[0];p=n[1];q=p.flyout;r=p._flyoutRoot;if(!(m===o.isFlyoutVisible())){t.next=11;break}return t.abrupt("return");case 11:o.setChildFlyoutVisible(m);o.onToggle(q,m?"show":"hide");case 13:case"end":return t.stop()}},null,this)},_getDeferredFlyoutElements:function l(){if(i==null)i=new(c("Deferred"))();return i},registerFlyoutElements:function l(m,n){this._getDeferredFlyoutElements().resolve({flyout:m,flyoutRoot:n})},_getDeferredFooterElements:function l(){if(j==null)j=new(c("Deferred"))();return j},registerFooterElements:function l(m,event,n,o){this._getDeferredFooterElements().resolve({footer:m,event:event,settingsExitPoint:n,basicsExitPoint:o})}};f.exports=k}),null);
__d("HelpLiteFlyout",["AsyncRequest","CSS","DOM","Event","HelpLiteFlyoutBootloader","PrivacyLiteFlyoutBootloader","Toggler","ge","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i={loadBody:function j(){if(c("ge")("fbHelpLiteFlyoutLoading"))new(c("AsyncRequest"))("/help/ajax/contextual/").setData({page_type:c("HelpLiteFlyoutBootloader").getHelpType()}).send()},refreshHelp:function j(){if(c("ge")("fbHelpLiteFlyoutLoading"))new(c("AsyncRequest"))("/help/ajax/contextual/").setData({page_type:c("HelpLiteFlyoutBootloader").getHelpType(),is_refresh:true}).send()},resetHelp:function j(k){var l=c("ge")("fbContextualHelpContent");if(l)c("DOM").replace(l,k)},showHelp:function j(){c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(false);c("CSS").show(c("ge")("fbHelpLiteFlyout"))},openPrivacy:function j(){c("CSS").hide(c("ge")("fbHelpLiteFlyout"));c("PrivacyLiteFlyoutBootloader").loadFlyoutAsChild();c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(true)},registerPrivacyBackLink:function j(k){c("Event").listen(k,"click",i.showHelp)},registerFlyoutToggler:function j(k,l){h=l;var m=c("Toggler").createInstance(k);m.setSticky(false);c("Toggler").listen("hide",l,function(n){c("PrivacyLiteFlyoutBootloader").setChildFlyoutVisible(false)});c("Toggler").listen("show",l,function(n){i.showHelp()})},isFlyoutVisible:function j(){return h&&c("Toggler").getActive()===h},setFlyoutVisible:function j(k){if(k)c("HelpLiteFlyoutBootloader").loadFlyout();k?c("Toggler").show(h):c("Toggler").hide(h)}};f.exports=i}),null);
__d("FlipDirection",["DOM","Input","Style"],(function a(b,c,d,e,f,g){__p&&__p();var h={setDirection:function i(j){__p&&__p();var k=c("DOM").isNodeOfType(j,"input")&&j.type=="text",l=c("DOM").isNodeOfType(j,"textarea");if(!(k||l)||j.getAttribute("data-prevent-auto-flip"))return;var m=c("Input").getValue(j),n=j.style&&j.style.direction;if(!n){var o=0,p=true;for(var q=0;q<m.length;q++){var r=m.charCodeAt(q);if(r>=48){if(p){p=false;o++}if(r>=1470&&r<=1920){c("Style").set(j,"direction","rtl");j.setAttribute("dir","rtl");return}if(o==5){c("Style").set(j,"direction","ltr");j.setAttribute("dir","ltr");return}}else p=true}}else if(m.length===0){c("Style").set(j,"direction","");j.removeAttribute("dir")}}};f.exports=h}),null);
__d("FlipDirectionOnKeypress",["Event","FlipDirection"],(function a(b,c,d,e,f,g){var h=function h(event){var i=event.getTarget();c("FlipDirection").setDirection(i)};c("Event").listen(document.documentElement,{keyup:h,input:h})}),null);
__d("LocalSellUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:LocalSellUserActionsLoggerConfig",this.$LocalSellUserActionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:LocalSellUserActionsLoggerConfig",this.$LocalSellUserActionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$LocalSellUserActionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$LocalSellUserActionsTypedLogger1=babelHelpers["extends"]({},this.$LocalSellUserActionsTypedLogger1,j);return this};h.prototype.setAggregator=function(j){this.$LocalSellUserActionsTypedLogger1.aggregator=j;return this};h.prototype.setAggregatorID=function(j){this.$LocalSellUserActionsTypedLogger1.aggregator_id=j;return this};h.prototype.setClientEventTime=function(j){this.$LocalSellUserActionsTypedLogger1.client_event_time=j;return this};h.prototype.setClientSessionID=function(j){this.$LocalSellUserActionsTypedLogger1.client_session_id=j;return this};h.prototype.setClientSessionReferral=function(j){this.$LocalSellUserActionsTypedLogger1.client_session_referral=j;return this};h.prototype.setDeviceID=function(j){this.$LocalSellUserActionsTypedLogger1.device_id=j;return this};h.prototype.setDuplicationType=function(j){this.$LocalSellUserActionsTypedLogger1.duplication_type=j;return this};h.prototype.setEvent=function(j){this.$LocalSellUserActionsTypedLogger1.event=j;return this};h.prototype.setInitialClickedComponent=function(j){this.$LocalSellUserActionsTypedLogger1.initial_clicked_component=j;return this};h.prototype.setInitialTracking=function(j){this.$LocalSellUserActionsTypedLogger1.initial_tracking=j;return this};h.prototype.setIsOffer=function(j){this.$LocalSellUserActionsTypedLogger1.is_offer=j;return this};h.prototype.setItemTypename=function(j){this.$LocalSellUserActionsTypedLogger1.item_typename=j;return this};h.prototype.setNotifSettingType=function(j){this.$LocalSellUserActionsTypedLogger1.notif_setting_type=j;return this};h.prototype.setNotifType=function(j){this.$LocalSellUserActionsTypedLogger1.notif_type=j;return this};h.prototype.setOriginalPostID=function(j){this.$LocalSellUserActionsTypedLogger1.original_post_id=j;return this};h.prototype.setOtherUserID=function(j){this.$LocalSellUserActionsTypedLogger1.other_user_id=j;return this};h.prototype.setParentComponent=function(j){this.$LocalSellUserActionsTypedLogger1.parent_component=j;return this};h.prototype.setPhotoHashes=function(j){this.$LocalSellUserActionsTypedLogger1.photo_hashes=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setPreviousActionsCount=function(j){this.$LocalSellUserActionsTypedLogger1.previous_actions_count=j;return this};h.prototype.setProductItemID=function(j){this.$LocalSellUserActionsTypedLogger1.product_item_id=j;return this};h.prototype.setReferralStoryType=function(j){this.$LocalSellUserActionsTypedLogger1.referral_story_type=j;return this};h.prototype.setReferralSurface=function(j){this.$LocalSellUserActionsTypedLogger1.referral_surface=j;return this};h.prototype.setSavedSearchID=function(j){this.$LocalSellUserActionsTypedLogger1.saved_search_id=j;return this};h.prototype.setSavedSearchSubscriptionType=function(j){this.$LocalSellUserActionsTypedLogger1.saved_search_subscription_type=j;return this};h.prototype.setSearchQuery=function(j){this.$LocalSellUserActionsTypedLogger1.search_query=j;return this};h.prototype.setSearchTabBarSelectedIndex=function(j){this.$LocalSellUserActionsTypedLogger1.search_tab_bar_selected_index=j;return this};h.prototype.setServerSessionID=function(j){this.$LocalSellUserActionsTypedLogger1.server_session_id=j;return this};h.prototype.setSharePostID=function(j){this.$LocalSellUserActionsTypedLogger1.share_post_id=j;return this};h.prototype.setStoryType=function(j){this.$LocalSellUserActionsTypedLogger1.story_type=j;return this};h.prototype.setSurface=function(j){this.$LocalSellUserActionsTypedLogger1.surface=j;return this};h.prototype.setThemeID=function(j){this.$LocalSellUserActionsTypedLogger1.theme_id=j;return this};h.prototype.setThreadFbid=function(j){this.$LocalSellUserActionsTypedLogger1.thread_fbid=j;return this};h.prototype.setTimeSinceLastAction=function(j){this.$LocalSellUserActionsTypedLogger1.time_since_last_action=j;return this};h.prototype.setTracking=function(j){this.$LocalSellUserActionsTypedLogger1.tracking=j;return this};h.prototype.setUIComponent=function(j){this.$LocalSellUserActionsTypedLogger1.ui_component=j;return this};h.prototype.setUIComponentHierarchyByID=function(j){this.$LocalSellUserActionsTypedLogger1.ui_component_hierarchy_by_id=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setUIComponentHierarchyByName=function(j){this.$LocalSellUserActionsTypedLogger1.ui_component_hierarchy_by_name=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setUIComponentID=function(j){this.$LocalSellUserActionsTypedLogger1.ui_component_id=j;return this};h.prototype.setVC=function(j){this.$LocalSellUserActionsTypedLogger1.vc=j;return this};h.prototype.setVehicleMake=function(j){this.$LocalSellUserActionsTypedLogger1.vehicle_make=j;return this};h.prototype.setVehicleModel=function(j){this.$LocalSellUserActionsTypedLogger1.vehicle_model=j;return this};h.prototype.setVehicleType=function(j){this.$LocalSellUserActionsTypedLogger1.vehicle_type=j;return this};h.prototype.setVehicleVin=function(j){this.$LocalSellUserActionsTypedLogger1.vehicle_vin=j;return this};h.prototype.setVehicleYear=function(j){this.$LocalSellUserActionsTypedLogger1.vehicle_year=j;return this};h.prototype.setWaterfallSessionID=function(j){this.$LocalSellUserActionsTypedLogger1.waterfall_session_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$LocalSellUserActionsTypedLogger1=babelHelpers["extends"]({},this.$LocalSellUserActionsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={aggregator:true,aggregator_id:true,client_event_time:true,client_session_id:true,client_session_referral:true,device_id:true,duplication_type:true,event:true,initial_clicked_component:true,initial_tracking:true,is_offer:true,item_typename:true,notif_setting_type:true,notif_type:true,original_post_id:true,other_user_id:true,parent_component:true,photo_hashes:true,previous_actions_count:true,product_item_id:true,referral_story_type:true,referral_surface:true,saved_search_id:true,saved_search_subscription_type:true,search_query:true,search_tab_bar_selected_index:true,server_session_id:true,share_post_id:true,story_type:true,surface:true,theme_id:true,thread_fbid:true,time_since_last_action:true,tracking:true,ui_component:true,ui_component_hierarchy_by_id:true,ui_component_hierarchy_by_name:true,ui_component_id:true,vc:true,vehicle_make:true,vehicle_model:true,vehicle_type:true,vehicle_vin:true,vehicle_year:true,waterfall_session_id:true};f.exports=h}),null);
__d("MarketplaceImpressionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:MarketplaceImpressionsLoggerConfig",this.$MarketplaceImpressionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:MarketplaceImpressionsLoggerConfig",this.$MarketplaceImpressionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$MarketplaceImpressionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$MarketplaceImpressionsTypedLogger1=babelHelpers["extends"]({},this.$MarketplaceImpressionsTypedLogger1,j);return this};h.prototype.setAggregator=function(j){this.$MarketplaceImpressionsTypedLogger1.aggregator=j;return this};h.prototype.setAggregatorID=function(j){this.$MarketplaceImpressionsTypedLogger1.aggregator_id=j;return this};h.prototype.setClientEventTime=function(j){this.$MarketplaceImpressionsTypedLogger1.client_event_time=j;return this};h.prototype.setClientSessionID=function(j){this.$MarketplaceImpressionsTypedLogger1.client_session_id=j;return this};h.prototype.setClientSessionReferral=function(j){this.$MarketplaceImpressionsTypedLogger1.client_session_referral=j;return this};h.prototype.setDeviceID=function(j){this.$MarketplaceImpressionsTypedLogger1.device_id=j;return this};h.prototype.setDuplicationType=function(j){this.$MarketplaceImpressionsTypedLogger1.duplication_type=j;return this};h.prototype.setEvent=function(j){this.$MarketplaceImpressionsTypedLogger1.event=j;return this};h.prototype.setInitialClickedComponent=function(j){this.$MarketplaceImpressionsTypedLogger1.initial_clicked_component=j;return this};h.prototype.setInitialTracking=function(j){this.$MarketplaceImpressionsTypedLogger1.initial_tracking=j;return this};h.prototype.setIsOffer=function(j){this.$MarketplaceImpressionsTypedLogger1.is_offer=j;return this};h.prototype.setItemTypename=function(j){this.$MarketplaceImpressionsTypedLogger1.item_typename=j;return this};h.prototype.setNotifSettingType=function(j){this.$MarketplaceImpressionsTypedLogger1.notif_setting_type=j;return this};h.prototype.setNotifType=function(j){this.$MarketplaceImpressionsTypedLogger1.notif_type=j;return this};h.prototype.setOriginalPostID=function(j){this.$MarketplaceImpressionsTypedLogger1.original_post_id=j;return this};h.prototype.setOtherUserID=function(j){this.$MarketplaceImpressionsTypedLogger1.other_user_id=j;return this};h.prototype.setParentComponent=function(j){this.$MarketplaceImpressionsTypedLogger1.parent_component=j;return this};h.prototype.setPhotoHashes=function(j){this.$MarketplaceImpressionsTypedLogger1.photo_hashes=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setPreviousActionsCount=function(j){this.$MarketplaceImpressionsTypedLogger1.previous_actions_count=j;return this};h.prototype.setProductItemID=function(j){this.$MarketplaceImpressionsTypedLogger1.product_item_id=j;return this};h.prototype.setReferralStoryType=function(j){this.$MarketplaceImpressionsTypedLogger1.referral_story_type=j;return this};h.prototype.setReferralSurface=function(j){this.$MarketplaceImpressionsTypedLogger1.referral_surface=j;return this};h.prototype.setSavedSearchID=function(j){this.$MarketplaceImpressionsTypedLogger1.saved_search_id=j;return this};h.prototype.setSavedSearchSubscriptionType=function(j){this.$MarketplaceImpressionsTypedLogger1.saved_search_subscription_type=j;return this};h.prototype.setSearchQuery=function(j){this.$MarketplaceImpressionsTypedLogger1.search_query=j;return this};h.prototype.setSearchTabBarSelectedIndex=function(j){this.$MarketplaceImpressionsTypedLogger1.search_tab_bar_selected_index=j;return this};h.prototype.setServerSessionID=function(j){this.$MarketplaceImpressionsTypedLogger1.server_session_id=j;return this};h.prototype.setStoryType=function(j){this.$MarketplaceImpressionsTypedLogger1.story_type=j;return this};h.prototype.setSurface=function(j){this.$MarketplaceImpressionsTypedLogger1.surface=j;return this};h.prototype.setThemeID=function(j){this.$MarketplaceImpressionsTypedLogger1.theme_id=j;return this};h.prototype.setThreadFbid=function(j){this.$MarketplaceImpressionsTypedLogger1.thread_fbid=j;return this};h.prototype.setTimeSinceLastAction=function(j){this.$MarketplaceImpressionsTypedLogger1.time_since_last_action=j;return this};h.prototype.setTracking=function(j){this.$MarketplaceImpressionsTypedLogger1.tracking=j;return this};h.prototype.setUIComponent=function(j){this.$MarketplaceImpressionsTypedLogger1.ui_component=j;return this};h.prototype.setUIComponentHierarchyByID=function(j){this.$MarketplaceImpressionsTypedLogger1.ui_component_hierarchy_by_id=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setUIComponentHierarchyByName=function(j){this.$MarketplaceImpressionsTypedLogger1.ui_component_hierarchy_by_name=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setUIComponentID=function(j){this.$MarketplaceImpressionsTypedLogger1.ui_component_id=j;return this};h.prototype.setVC=function(j){this.$MarketplaceImpressionsTypedLogger1.vc=j;return this};h.prototype.setVehicleMake=function(j){this.$MarketplaceImpressionsTypedLogger1.vehicle_make=j;return this};h.prototype.setVehicleModel=function(j){this.$MarketplaceImpressionsTypedLogger1.vehicle_model=j;return this};h.prototype.setVehicleType=function(j){this.$MarketplaceImpressionsTypedLogger1.vehicle_type=j;return this};h.prototype.setVehicleVin=function(j){this.$MarketplaceImpressionsTypedLogger1.vehicle_vin=j;return this};h.prototype.setVehicleYear=function(j){this.$MarketplaceImpressionsTypedLogger1.vehicle_year=j;return this};h.prototype.setWaterfallSessionID=function(j){this.$MarketplaceImpressionsTypedLogger1.waterfall_session_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$MarketplaceImpressionsTypedLogger1=babelHelpers["extends"]({},this.$MarketplaceImpressionsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={aggregator:true,aggregator_id:true,client_event_time:true,client_session_id:true,client_session_referral:true,device_id:true,duplication_type:true,event:true,initial_clicked_component:true,initial_tracking:true,is_offer:true,item_typename:true,notif_setting_type:true,notif_type:true,original_post_id:true,other_user_id:true,parent_component:true,photo_hashes:true,previous_actions_count:true,product_item_id:true,referral_story_type:true,referral_surface:true,saved_search_id:true,saved_search_subscription_type:true,search_query:true,search_tab_bar_selected_index:true,server_session_id:true,story_type:true,surface:true,theme_id:true,thread_fbid:true,time_since_last_action:true,tracking:true,ui_component:true,ui_component_hierarchy_by_id:true,ui_component_hierarchy_by_name:true,ui_component_id:true,vc:true,vehicle_make:true,vehicle_model:true,vehicle_type:true,vehicle_vin:true,vehicle_year:true,waterfall_session_id:true};f.exports=h}),null);
__d("MarketplaceLoggingHelper",["Event","LocalSellUserActionsTypedLogger","MarketplaceImpressionsTypedLogger","WebStorage","ge","getStyleProperty"],(function a(b,c,d,e,f,g){__p&&__p();var h="marketplaceLoggingBookmarkLogTimestamp",i=60*60*6*1e3,j={logBookmarkImpression:function k(l){__p&&__p();var m=c("ge")(l);if(m&&c("getStyleProperty")(m,"display")==="none")return;var n=c("WebStorage").getLocalStorage(),o=Date.now();if(n){var p=n.getItem(h);if(p){p=parseInt(p,10);if(p+i>o)return}n.setItem(h,o)}new(c("MarketplaceImpressionsTypedLogger"))().setEvent("impression").setUIComponent("app_tab").setSurface("app_tab").log()},addBookmarkClickLoggingHandler:function k(l){var m=c("ge")(l);if(!m)return;c("Event").listen(m,"click",function(){new(c("LocalSellUserActionsTypedLogger"))().setEvent("click").setUIComponent("app_tab").setSurface("app_tab").log()})}};f.exports=j}),null);
__d("FantaHider",["ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={hide:function h(){c("ifRequired")("FantaTabsSlimApp",function(i){i.hide()},function(){c("ifRequired")("FantaTabsReactApp",function(i){i.hide()})})},unhide:function h(){c("ifRequired")("FantaTabsSlimApp",function(i){i.unhide()},function(){c("ifRequired")("FantaTabsReactApp",function(i){i.unhide()})})}}}),null);
__d("AdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.story_category=i;this.dist_to_top=-1;this.dist_to_fixed=-1;this.dist_to_promo=-1;this.dist_to_sponsored=-1;this.dist_to_engagement=-1}h.prototype.setDistToTop=function(i){"use strict";this.dist_to_top=i};h.prototype.setDistIfAbsent=function(i,j){"use strict";__p&&__p();if(j<0||i===c("FeedStoryCategory").UNKNOWN||i===c("FeedStoryCategory").ORGANIC)return;switch(i){case c("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$AdAllocationIntegrityGapsInfo1(j,this.dist_to_engagement);break;case c("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$AdAllocationIntegrityGapsInfo1(j,this.dist_to_fixed);break;case c("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$AdAllocationIntegrityGapsInfo1(j,this.dist_to_promo);break;case c("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$AdAllocationIntegrityGapsInfo1(j,this.dist_to_sponsored);break}};h.prototype.$AdAllocationIntegrityGapsInfo1=function(i,j){"use strict";if(j===-1)return i;return j};f.exports=h}),null);
__d("AdAllocationIntegrityUtils",["FeedStoryCategory","collectDataAttributes","DataAttributeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="data-story_category",i="data-dedupekey",j="ft",k={getFeedStoryCategory:function l(m){__p&&__p();var n=c("collectDataAttributes")(m,[j]).ft,o=c("DataAttributeUtils").getDataAttribute(m,h);if(o)switch(o){case"2":return c("FeedStoryCategory").ENGAGEMENT;case"3":return c("FeedStoryCategory").FIXED_POSITION;case"4":return c("FeedStoryCategory").PROMOTION;default:return c("FeedStoryCategory").UNKNOWN}else if(n.ei)return c("FeedStoryCategory").SPONSORED;else return c("FeedStoryCategory").ORGANIC},isGapRuleCategory:function l(m){if(m===c("FeedStoryCategory").SPONSORED||m===c("FeedStoryCategory").ENGAGEMENT||m===c("FeedStoryCategory").FIXED_POSITION||m===c("FeedStoryCategory").PROMOTION)return true;else return false},getDedupKey:function l(m){return c("DataAttributeUtils").getDataAttribute(m,i)}};f.exports=k}),null);
__d("AsyncLayout",["AjaxPipeRequest","Arbiter","AsyncRequest","AsyncResponse","CSS","FaceliftGating","DOM","HTML","NavigationMessage","PageTransitionsRegistrar","URI","$","emptyFunction","ge","goURI","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h;c("requireWeak")("PageTransitions",function(j){h=j});function i(j){"use strict";__p&&__p();this.canvasID=j;if(c("ge")("rightCol"))this.auxiliaryID="rightCol";if(c("ge")("headerArea"))this.headerID="headerArea";if(c("ge")("toolbarContainer"))this.toolbarID="toolbarContainer";this.waitingForAux=false;c("PageTransitionsRegistrar").registerHandler(this.catchPageTransition.bind(this));this.subscription=c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.onNavigate.bind(this));c("Arbiter").inform("AsyncLayout/initialized",null,c("Arbiter").BEHAVIOR_STATE)}i.prototype.catchPageTransition=function(j){"use strict";this.subscription.unsubscribe();return false};i.prototype.getCanvasID=function(j){"use strict";return j.sidecol?"contentCol":"contentArea"};i.prototype.onNavigate=function(j,k){"use strict";__p&&__p();var l=k.useAjaxPipe;k=k.params;if(k.endpoint){if(this.request){this.request.setFinallyHandler(c("emptyFunction"));this.request.abort()}if(l){k.xui_grid=c("FaceliftGating").hasXUIGrid;this.request=new(c("AjaxPipeRequest"))().setURI(k.endpoint).setData(k).setCanvasId(this.getCanvasID(k)).setFinallyHandler(this.finallyHandler.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFirstResponseCallback(this.firstResponseCallback.bind(this)).send()}else{k.handled=true;this.waitingForAux=k.sidecol;var m=!!k.iframe,n=new(c("AsyncRequest"))().setOption("useIframeTransport",m).setURI(new(c("URI"))(k.endpoint)).setReadOnly(true).setMethod("GET").setData(k).setHandler(this.onResponse.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFinallyHandler(this.finallyHandler.bind(this));this.request=n;n.send()}}};i.prototype.receivedAux=function(j){"use strict";!this.waitingForAux;this.waitingForAux=false;c("DOM").setContent(c("$")(this.auxiliaryID),c("HTML")(j))};i.prototype.onResponse=function(j){"use strict";__p&&__p();var k=j.getPayload();if(k.redirect)c("goURI")(k.redirect);else{var l=k.html||k;c("DOM").setContent(c("$")(this.canvasID),c("HTML")(l));if(k.side_html&&this.auxiliaryID)this.receivedAux(k.side_html);if(this.headerID&&!k.keep_header){var m=c("$")(this.headerID);c("DOM").setContent(m,c("HTML")(k.header_html||""));c("CSS").conditionShow(m,k.header_html)}if(k.toolbar_html&&this.toolbarID)c("DOM").setContent(c("$")(this.toolbarID),c("HTML")(k.toolbar_html));if(k.js)new Function(k.js)();c("CSS").conditionClass(c("$")("contentCol"),"hasRightCol",this.auxiliaryID&&!k.noRightSide);var n=c("ge")("rightCol");if(n&&k.noRightSide)c("DOM").empty(n)}var o=j.getRequest().getData();c("Arbiter").inform(c("NavigationMessage").NAVIGATION_COMPLETED,o.key)};i.prototype.errorHandler=function(j){"use strict";c("AsyncResponse").verboseErrorHandler(j);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_FAILED);this.request=null};i.prototype.firstResponseCallback=function(){"use strict";window.scrollTo(0,0);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_FIRST_RESPONSE)};i.prototype.finallyHandler=function(j){"use strict";this.request=null;if(h)h.transitionComplete(true);c("Arbiter").inform(c("NavigationMessage").NAVIGATION_COMPLETED)};f.exports=i}),null);
__d("AsyncRequestNectarLogging",["AsyncRequest","Nectar"],(function a(b,c,d,e,f,g){Object.assign(c("AsyncRequest").prototype,{setNectarModuleData:function h(i){if(this.method=="POST")c("Nectar").addModuleData(this.data,i)}})}),null);
__d("DOMClone",[],(function a(b,c,d,e,f,g){__p&&__p();var h={shallowClone:function j(k){return i(k,false)},deepClone:function j(k){return i(k,true)}};function i(j,k){var l=j.cloneNode(k);if(typeof l.__FB_TOKEN!=="undefined")delete l.__FB_TOKEN;if(typeof l.__FB_STORE!=="undefined")delete l.__FB_STORE;return l}f.exports=h}),null);
__d("DimensionLogging",["BanzaiNectar","getViewportDimensions"],(function a(b,c,d,e,f,g){var h=c("getViewportDimensions")();c("BanzaiNectar").log("browser_dimension","homeload",{x:h.width,y:h.height,sw:window.screen.width,sh:window.screen.height,aw:window.screen.availWidth,ah:window.screen.availHeight,at:window.screen.availTop,al:window.screen.availLeft})}),null);
__d("FileInput",["cx","ArbiterMixin","DOM","DOMClone","Event","Focus","Keys","UserAgent_DEPRECATED","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("UserAgent_DEPRECATED").ie();i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function l(m,n,o){"use strict";__p&&__p();j.constructor.call(this);this.container=m;this.control=n;var p=c("DOM").scry(this.container,"a")[0];p&&p.removeAttribute("href");var q=c("DOM").create("div",{className:"_3jk"},o);c("DOM").appendContent(this.control,q);this._boundHandleChange=this._handleChange.bind(this);if(k)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(o)}l.prototype.getValue=function(){"use strict";return this.input.value};l.prototype.getInput=function(){"use strict";return this.input};l.prototype.getContainer=function(){"use strict";return this.container};l.prototype.getControl=function(){"use strict";return this.control};l.prototype.clear=function(){"use strict";this.input.value="";if(this.input.value!==""){var m=c("DOMClone").deepClone(this.input);c("DOM").replace(this.input,m);this._setInputElement(m)}};l.prototype.destroy=function(){"use strict";__p&&__p();this._focus.remove();this._focus=null;this._listener.remove();this._listener=null;if(k){this._IEKeyDownListener.remove();this._IEKeyDownListener=null}this.container=null;this.control=null;this.input=null};l.prototype._setInputElement=function(m){"use strict";__p&&__p();this.input=m;this._focus&&this._focus.remove();this._focus=c("Focus").relocate(m,this.control);this._listener&&this._listener.remove();this._listener=c("Event").listen(m,"change",this._boundHandleChange);if(k){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=c("Event").listen(m,"keydown",this._boundHandleIEKeyDown)}};l.prototype._handleChange=function(event){"use strict";this.inform("change",event);if(this.input){var m=this.input.form;if(m&&k<9)c("Event").fire(m,"change",event)}};l.prototype._handleIEKeyDown=function(event){"use strict";if(event.keyCode===c("Keys").RETURN){event.preventDefault();var m=document.createEvent("MouseEvents");m.initEvent("click",true,true);this.input.dispatchEvent(m)}};f.exports=l}),null);
__d("PhotosUploadID",[],(function a(b,c,d,e,f,g){var h=1024,i={getNewID:function j(){return(h++).toString()}};f.exports=i}),null);
__d("PopoverAsyncMenu",["Bootloader","Event","KeyStatus","PopoverMenu","VirtualCursorStatus","setImmediate"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={},k=0;h=babelHelpers.inherits(l,c("PopoverMenu"));i=h&&h.prototype;function l(m,n,o,p,q,r){"use strict";i.constructor.call(this,m,n,null,q);this._endpoint=p;this._endpointData=r||{};this._loadingMenu=o;this._instanceId=k++;j[this._instanceId]=this;this._mouseoverListener=c("Event").listen(n,"mouseover",this.fetchMenu.bind(this))}l.prototype._onLayerInit=function(){"use strict";if(!this._menu&&this._loadingMenu)this.setMenu(this._loadingMenu);this._popover.getLayer().subscribe("key",this._handleKeyEvent.bind(this));this._triggerInfo={isKeyDown:c("KeyStatus").isKeyDown(),isVirtualCursorTriggered:c("VirtualCursorStatus").isVirtualCursorTriggered()};c("setImmediate")(function(){return this.fetchMenu()}.bind(this))};l.prototype._onPopoverHide=function(){"use strict";i._onPopoverHide.call(this);this._triggerInfo=null};l.prototype._refetchMenu=function(){"use strict";if(this._menu){this._menu.destroy();this._fetched=false;this._mouseoverListener=c("Event").listen(this.getTriggerElem(),"mouseover",this.fetchMenu.bind(this))}};l.prototype.fetchMenu=function(){"use strict";__p&&__p();if(this._fetched)return;c("Bootloader").loadModules(["AsyncRequest"],function(m){new m().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send()}.bind(this),"PopoverAsyncMenu");this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null}};l.prototype._setFocus=function(m){"use strict";var n=this._triggerInfo||{},o=n.isKeyDown,p=n.isVirtualCursorTriggered;this.setInitialFocus(m,o||p);this._triggerInfo=null};l.setMenu=function(m,n){"use strict";var o=j[m];o.setMenu(n);o._setFocus(n)};l.getInstance=function(m){"use strict";return j[m]};l.getInstanceByTriggerElem=function(m){"use strict";var n=null;Object.keys(j).forEach(function(o){if(j[o]._triggerElem==m)n=j[o]});return n};f.exports=l}),null);
__d("ViewportTrackingHooks",["Base64"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=[],j={registerFeedObject:function k(l,m){h[l]=c("Base64").encode(m)},updateVisibleViewportObjects:function k(l){__p&&__p();var m=[],n=false;for(var o=0;o<l.length;o++){var p=l[o],q=p.id;while(!(q in h)&&p.firstChild!=undefined&&p.firstChild.id!=undefined&&p.firstChild.id.startsWith("u_")){q=p.firstChild.id;p=p.firstChild}if(q in h){m.push(h[q]);if(!(o in i)||i[o]!=h[q])n=true}}if(!n&&i.length!=m.length)n=true;if(n){i=m;if(typeof __EXT__updateVisibleViewportObjects==="function")__EXT__updateVisibleViewportObjects(i)}}};f.exports=j}),null);
__d("viewportTrackingBuilder",[],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=null;return{factory:i,singleton:function k(){if(!j)j=i.apply(undefined,arguments);return j},clearSingleton:function k(){j=null}}};f.exports=h}),null);
__d("ViewportTracking",["cx","invariant","AdAllocationIntegrityGapsInfo","AdAllocationIntegrityUtils","Arbiter","Banzai","BanzaiScuba","CSS","CurrentUser","DOM","DOMDimensions","Event","LitestandMessages","NavigationMessage","pageID","Run","SubscriptionsHandler","TimeSlice","UserActivity","ViewportTrackingHelper","ViewportTrackingHooks","clickRefAction","collectDataAttributes","debounce","getElementPosition","getViewportDimensions","throttle","viewportTrackingBuilder","setTimeout"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=97,k="vpv",l=3,m=2,n=1,o=0,p=1,q=2,r=3,s=4;function t(w){this.cachedAllStories=[];this.cachedVisibleStories={init:false,data:{}};this.fireTimer=this.fireTimer.bind(this);this.logAnnotatedVPV=this.logAnnotatedVPV.bind(this);this.markStoryRead=this.markStoryRead.bind(this);this.behavior=w}t.prototype.init=function(w){__p&&__p();this.useBanzai=true;this.vpvDebug=!!w.vpv_debug;this.vpvdDebug=!!w.vpvd_debug;this.vpvdAnalysis=!!w.vpvd_analysis;this.trackingHooks=!!w.tracking_hooks;this.ctaLoggingEnabled=!!w.cta_logging_enabled;this.adAllocationIntegrityLoggingEnabled=!!w.ad_allocation_integrity_logging_enabled;this.readStoryIDs={};this.annotatedStoryIDs={};this.minSizeToBeVisible=200;this.storyIDsWasInView={};this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=9e4;this.active_state_duration=1e3;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.invalidateAllStoriesCache();this.cachedViewportHeight=c("getViewportDimensions")().height;this.isTimetrackingEnabled=false;this.activeStories={};this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;if(this.behavior.getDataFromConfig)this.behavior.getDataFromConfig(w,this);if(this.isTimetrackingEnabled){this.lastMouseX=-1;this.lastMouseY=-1;this.lastStreamY=-1;this.latestStreamYChangedTimeStamp=-1;this.userFocus=q;this.latestUserFocus=q;this.latestUserActivity="init";this.focusedStory=null;this.latestFocusedStory=null;this.latestActiveStory=null;this.totalVPVDuration={}}if(w.tracking_duration_config){this.scrollThrottlingInterval=w.tracking_duration_config.scroll_throttling_interval;this.mouseThrottlingInterval=w.tracking_duration_config.mouse_throttling_interval;this.keyboardThrottlingInterval=w.tracking_duration_config.keyboard_throttling_interval;this.userActivityPollingInterval=w.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=w.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=w.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=w.tracking_duration_config.min_time_to_report_immediately;this.active_state_duration=w.tracking_duration_config.active_state_duration;this.height_diff_to_change_state=w.tracking_duration_config.story_height_diff_to_change_state;this.focused_state_duration=w.tracking_duration_config.focused_state_duration;this.discardVPVDIntervalThreshold=w.tracking_duration_config.discard_vpvd_interval_threshold}w.record_delay!==undefined||i(0);var x=c("debounce")(this.fireTimer,w.record_delay,this);this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;if(this.annotatedVPVLogging)this.initialStories.forEach(this.logAnnotatedVPV,this);this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this._getScrollListener(x),c("Event").listen(window,"resize",function(){this.invalidateVisibleStoriesCache();this.cachedViewportHeight=c("getViewportDimensions")().height;x()}.bind(this)),c("Event").listen(window,"focus",function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,"window_focus")}.bind(this)),c("Event").listen(window,"blur",function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(true,"window_blur")}.bind(this)),c("Arbiter").subscribe(c("NavigationMessage").NAVIGATION_BEGIN,this.cleanup.bind(this)),c("Arbiter").subscribe("Stream/totalHeadLoadedStories",function(B,C){this._headLoadStoryCount=C.count}.bind(this)),c("Arbiter").subscribe(c("LitestandMessages").STORIES_INSERTED,function(){if(!this.initialStoriesLogged){var B=this.getStoriesInView();B.forEach(this.logAnnotatedVPV,this)}else x();if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,"stories_inserted")}.bind(this)));if(this.isTimetrackingEnabled&&this.behavior.getStream){this.updateTimeTrackingData(false,"init");var y=c("throttle")(function(event){this.invalidateVisibleStoriesCache();this.handleScroll(event)}.bind(this),this.scrollThrottlingInterval),z=c("throttle")(function(event){return this.handleKeyboard(event)}.bind(this),this.keyboardThrottlingInterval),A=c("throttle")(function(event){return this.handleMouse(event)}.bind(this),this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(c("Event").listen(window,"scroll",y),c("Event").listen(document.documentElement,"DOMMouseScroll",y,undefined,{passive:true}),c("Event").listen(document.documentElement,"mousewheel",y,undefined,{passive:true}),c("Event").listen(document.documentElement,"keydown",z),c("Event").listen(document.documentElement,"mouseover",A),c("Event").listen(document.documentElement,"mousemove",A),c("Event").listen(document.documentElement,"click",function(event){this.handleMouse(event)}.bind(this)),c("Arbiter").subscribe("Event/stop",function(B,C){this.handleMouse(C.event)}.bind(this)),c("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){this.userFocus=r;this.handleLayers()}.bind(this)),c("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){this.userFocus=p;this.focusedStory=null;this.updateTimeTrackingData(false,"snowlift_close")}.bind(this)));this._userActivityPoller()}c("Run").onLeave(this.cleanup.bind(this));c("Run").onUnload(this.cleanup.bind(this))};t.prototype._getScrollListener=function(w){return c("Event").listen(window,"scroll",w)};t.prototype.cleanup=function(){__p&&__p();if(this.subscriptions){this.subscriptions.release();this.subscriptions=null}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true,"cleanup")}if(this.annotatedVPVLogging){var w=this.getStoriesInView();w.forEach(this.logAnnotatedVPV,this)}this.initialStories=[];this._headLoadStoryCount=0};t.prototype.fireTimer=function(){__p&&__p();if(!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true}this.storiesInView=this.getStoriesInView();this.storiesInView.forEach(this.markStoryRead,this);if(this.trackingHooks){var w=this.isTimetrackingEnabled?this.getVisibleStoriesFromCache():this.getAllStoriesInView(),x=[],y=Object.keys(w);for(var z=0,A=y.length;z<A;z++){var B=y[z];if(w[B].story)x.push(w[B].story)}c("ViewportTrackingHooks").updateVisibleViewportObjects(x)}};t.prototype.getSessionID=function(){return null};t.prototype._userActivityPoller=function(){__p&&__p();if(!this.userInactiveLock&&!c("UserActivity").isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.userFocus=q;this.updateTimeTrackingData(false,"user_activity_inactive");c("UserActivity").subscribeOnce(function(){this.userFocus=p;this.updateTimeTrackingData(false,"user_activity_active");this.userInactiveLock=false}.bind(this))}this.userActivityPollerTimeoutID=c("setTimeout")(c("TimeSlice").guard(this._userActivityPoller.bind(this),"ViewportTracking poll setTimeout",{isContinuation:false}),this.userActivityPollingInterval)};t.prototype.getQueryID=function(w){return-1};t.prototype.getFBFeedLocations=function(w){return-1};t.prototype.getFBFeedInsertionPosition=function(w){return-1};t.prototype.createVPVDTimer=function(w){var x=document.createElement("label");x.setAttribute("for",w.toString());x.setAttribute("class","vpvd_debug_timer");return x};t.prototype.updateVPVDTimer=function(w){__p&&__p();var x=this.activeStories[w].story;if(!x)return;var y=c("DOM").scry(x,".vpvd_debug_timer");if(!y.length){y=[this.createVPVDTimer(x),this.createVPVDTimer(x)];var z=c("DOM").scry(x,".UFIRow");if(z.length&&z[z.length-1].clientWidth>0)z[z.length-1].appendChild(y[0]);else x.appendChild(y[0]);x.insertBefore(y[1],x.firstChild)}var A=this.totalVPVDuration[w],B=Math.floor(A/1e3)+"."+Math.floor(A%1e3/100);c("DOM").setContent(y[0],B);c("DOM").setContent(y[1],B)};t.prototype.updateVPVDTimers=function(){for(var w in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,w))this.updateVPVDTimer(w)};t.prototype.logVpvdAnalysis=function(w,x,y,z,A,B){__p&&__p();var C=new(c("BanzaiScuba"))("vpv_duration");C.addDenorm("qid",this.getQueryID(this.activeStories[w].story));C.addDenorm("uid",c("CurrentUser").getID());C.addDenorm("vsid",w);C.addInteger("time",Math.round(Date.now()/1e3));C.addInteger("duration",z);C.addInteger("total_duration",A);C.addNormal("story_state",this.activeStories[w].state);C.addNormal("is_active_state",y);C.addNormal("num_visible_stories",this.numVisibleStories);C.addInteger("story_height",this.activeStories[w].story_height);C.addInteger("story_visible_height",this.activeStories[w].height);C.addInteger("state_visible_height",B);C.addInteger("total_visible_height",this.totalVisibleHeight);C.addInteger("total_height",this.totalHeight);C.addNormal("user_focus",this.latestUserFocus);C.addNormal("next_user_focus",this.userFocus);C.addInteger("vpvd",x);C.addInteger("accumulated_vpvd",this.activeStories[w].vpvd);C.addNormal("user_activity",this.latestUserActivity);C.addNormal("next_user_activity",this.userActivity);C.addInteger("story_position_y",this.activeStories[w].y);C.addInteger("feed_insertion_position",this.getFBFeedInsertionPosition(this.activeStories[w].story));C.addNormal("visible_position",this.activeStories[w].visible_position);C.addNormal("is_focused_story",this.activeStories[w].is_focused);C.post()};t.prototype.shouldDiscardStory=function(w){var x=this.activeStories[w].height||0;return x!=this.activeStories[w].story_height&&x<this.totalHeight/2};t.prototype.calculateTotalHeight=function(){this.totalHeight=0;for(var w in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,w))this.totalHeight+=this.activeStories[w].height};t.prototype.updateVPVDurations=function(w){__p&&__p();var x;if(this.latestUserFocus===q||w-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var y=(x={},x[n]=0,x[m]=0,x[l]=0,x),z=w-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var A in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,A))if(!(this.latestUserFocus===p&&z&&this.shouldDiscardStory(A))){var B=this.activeStories[A].state||null,C=this.activeStories[A].height||0;if(B!==null&&Object.prototype.hasOwnProperty.call(y,B))y[B]+=C;this.totalVisibleHeight+=C}var D=0,E=w-this.latestTimeTrackingTimestamp;if(this.latestUserFocus===p){E=y[l]>0?this.focused_state_duration:this.active_state_duration;E=Math.min(E,w-this.latestTimeTrackingTimestamp);D=w-this.latestTimeTrackingTimestamp-E}var F=0,G=l;for(var H=l;H>=n;H--)if(y[H]>0){F=y[H];G=H;break}var I=y[l]+y[m]+y[n],J=0;for(A in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,A)){if(this.latestUserFocus===p&&z&&this.shouldDiscardStory(A))continue;var K=this.activeStories[A].state||o;if(F>0&&K>=G){var L=this.activeStories[A].height||0;J=E*(L/F);if(this.vpvdAnalysis&&E>0)this.logVpvdAnalysis(A,J,true,E,E+D,F);this.activeStories[A].vpvd+=J;this.totalVPVDuration[A]+=J}if(I>0){var M=this.activeStories[A].height||0;J=D*(M/I);if(this.vpvdAnalysis&&D>0)this.logVpvdAnalysis(A,J,false,D,E+D,I);this.activeStories[A].vpvd+=J;this.totalVPVDuration[A]+=J}}};t.prototype.updateActiveStory=function(w,x,y,z){this.activeStories[w].state=x;this.activeStories[w].ts=y;this.activeStories[w].height_snapshot=z[w].height;this.activeStories[w].is_focused=this.focusedStory===z[w].story;this.activeStories[w].story_height=z[w].story_height;if(this.vpvdAnalysis){this.activeStories[w].visible_position=z[w].visible_position;this.activeStories[w].y=z[w].y}};t.prototype.updateActiveStories=function(w,x){__p&&__p();for(var y in w)if(Object.prototype.hasOwnProperty.call(w,y))if(y in this.activeStories){var z=w[y].height||0;this.activeStories[y].height=z;var A=z-(this.activeStories[y].height_snapshot||0);if(this.focusedStory===w[y].story)this.updateActiveStory(y,l,x,w);else if(A<=-this.height_diff_to_change_state)this.updateActiveStory(y,this.shouldDiscardStory(y)?o:n,x,w);else if(A>=this.height_diff_to_change_state||this.activeStories[y].is_focused||this.activeStories[y].height===this.activeStories[y].story_height)this.updateActiveStory(y,m,x,w)}else{this.storyIDsWasInView[y]=true;this.activeStories[y]={evp_ts:x,story:w[y].story,height:w[y].height,vpvd:0};if(!this.totalVPVDuration[y])this.totalVPVDuration[y]=0;this.updateActiveStory(y,m,x,w)}};t.prototype.recordVPVDurations=function(w,x){for(var y in this.activeStories)if(Object.prototype.hasOwnProperty.call(this.activeStories,y))if(x||!(y in w)){var z=this.activeStories[y].vpvd||0;if(z>this.focused_state_duration||z===this.totalVPVDuration[y])this.recordTimeStoryWasInView(this.activeStories[y]);delete this.activeStories[y]}};t.prototype.updateTimeTrackingData=function(w,x){__p&&__p();this.userActivity=x;if(!this.activeStories)this.activeStories={};var y=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=y;var z=this.getVisibleStoriesFromCache();this.calculateTotalHeight();this.updateVPVDurations(y);this.updateActiveStories(z,y);if(this.vpvdDebug)this.updateVPVDTimers();this.recordVPVDurations(z,w);if(w)this.latestTimeTrackingTimestamp=0;else this.latestTimeTrackingTimestamp=y;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;if(this.focusedStory)this.latestActiveStory=this.focusedStory;this.latestFocusedStory=this.focusedStory;this.focusedStory=null};t.prototype.needsToUpdateTimeTrackingData=function(){return!(this.latestUserFocus===this.userFocus&&(this.userFocus===q||this.userFocus===p&&!this.latestFocusedStory&&!this.focusedStory))};t.prototype.getfocusedStory=function(w){var x=this.getVisibleStoriesFromCache();for(var y in x)if(Object.prototype.hasOwnProperty.call(x,y)){var z=x[y].story;if(z&&c("ViewportTrackingHelper").isDescendantOf(w,z))return z}return null};t.prototype.handleLayers=function(){if(this.userFocus===r||this.userFocus===s){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(false,"media_layer");return true}return false};t.prototype.didInteractWithStream=function(w){if(!this.behavior.getStream)return false;var x=this.behavior.getStream();return c("ViewportTrackingHelper").isDescendantOf(w,x)||c("ViewportTrackingHelper").isDescendantOf(x,w)};t.prototype.handleScroll=function(event){__p&&__p();if(this.handleLayers())return;var w=Date.now();this.behavior.getStream||i(0);var x=c("getElementPosition")(this.behavior.getStream()).y;if(x!=this.lastStreamY||w-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(event.target)){this.latestStreamYChangedTimeStamp=w;this.userFocus=p}else this.userFocus=q;this.lastStreamY=x;if(this.userFocus===p||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,"scroll")};t.prototype.handleKeyboard=function(event){__p&&__p();if(this.handleLayers())return;if(this.didInteractWithStream(event.target)){this.userFocus=p;this.focusedStory=this.getfocusedStory(event.target)}else if(c("CSS").hasClass(event.target,"shareInput")){this.userFocus=p;this.focusedStory=this.latestActiveStory}else this.userFocus=q;if(this.userFocus===p||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,"keyboard")};t.prototype.handleMouse=function(event){__p&&__p();if(this.handleLayers())return;if(event.type!="click"&&event.clientX===this.lastMouseX&&event.clientY===this.lastMouseY)return;if(event.type==="click")this.invalidateVisibleStoriesCache();if(this.didInteractWithStream(event.target)){this.userFocus=p;this.focusedStory=this.getfocusedStory(event.target)}else this.userFocus=q;this.lastMouseX=event.clientX;this.lastMouseY=event.clientY;if(this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,event.type)};t.prototype.getStoriesInView=function(){__p&&__p();var w=this.behavior.getAllStories(),x=[],y=false;for(var z=0;z<w.length;z++){var A=w[z],B=this.behavior.getStoryID(A);if(B&&this.hasBeenVisible(B))continue;if(c("ViewportTrackingHelper").isVisible(A,this.minSizeToBeVisible)){if(A.getAttribute("data-insertion-position")===null)A.setAttribute("data-insertion-position",(z-this._headLoadStoryCount).toString());x.push(A);y=true}else if(y)break}return x};t.prototype.getAllStoriesFromCache=function(){if(this.cachedAllStories.length===0)this.cachedAllStories=this.behavior.getAllStories();return this.cachedAllStories};t.prototype.invalidateAllStoriesCache=function(){this.cachedAllStories=[];this.invalidateVisibleStoriesCache()};t.prototype.getVisibleStoriesFromCache=function(){if(!this.cachedVisibleStories.init)this.cachedVisibleStories={init:true,data:this.getAllStoriesInView()};return this.cachedVisibleStories.data};t.prototype.invalidateVisibleStoriesCache=function(){this.cachedVisibleStories={init:false,data:{}}};t.prototype.getAllStoriesInView=function(){__p&&__p();var w=this.getAllStoriesFromCache(),x={},y=false,z=0,A=w.length,B=1,C=w.length;if(this._indexOfLastVisibleStoryOnPreviousPass>A/2){z=A-1;A=-1;B=-B}for(var D=z;D!=A;D+=B){var E=w[D],F=c("ViewportTrackingHelper").getHeightIfVisible(E,Math.min(this.minSizeToBeVisible,this.minFractionToBeVisibleForTimetracking*c("DOMDimensions").getElementDimensions(E).height));if(F>0||E===this.focusedStory){if(E.getAttribute("data-insertion-position")===null)E.setAttribute("data-insertion-position",(D-this._headLoadStoryCount).toString());var G=this.behavior.getStoryID(E);if(G){x[G]={story:E,height:F,story_height:c("DOMDimensions").getElementDimensions(E).height};y=true;if(this.vpvdAnalysis){x[G].y=c("getElementPosition")(E).y;x[G].visible_position=D;C=Math.min(C,D)}}}else if(y){this._indexOfLastVisibleStoryOnPreviousPass=D-B;break}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(G in x)if(Object.prototype.hasOwnProperty.call(x,G)){x[G].visible_position-=C;this.numVisibleStories++}}return x};t.prototype.getTimetrackingDataToLog=function(w){var x={evt:j,time_spent_id:c("pageID"),vpvd_start_timestamp:w.evp_ts||null,vpvd_time_delta:Math.round(w.vpvd||0),story_height:c("DOMDimensions").getElementDimensions(w.story).height,viewport_height:this.cachedViewportHeight};return{ft:x}};t.prototype.getGapsInfoToLog=function(w){__p&&__p();if(w===null||w===undefined)return null;var x=c("AdAllocationIntegrityUtils").getFeedStoryCategory(w),y=new(c("AdAllocationIntegrityGapsInfo"))(x);if(!c("AdAllocationIntegrityUtils").isGapRuleCategory(x))return y;else{var z=c("AdAllocationIntegrityUtils").getDedupKey(w);if(z===null)return null;var A=this.behavior.getAllStories().filter(function(F){return Object.prototype.hasOwnProperty.call(this.storyIDsWasInView,this.behavior.getStoryID(F))}.bind(this)),B=-1;for(var C=A.length-1;C>=0;C--){var D=c("AdAllocationIntegrityUtils").getDedupKey(A[C]);if(B<0){if(D!==null&&z===D){B=C;y.setDistToTop(B+1)}}else{var E=c("AdAllocationIntegrityUtils").getFeedStoryCategory(A[C]);if(c("AdAllocationIntegrityUtils").isGapRuleCategory(E))y.setDistIfAbsent(E,B-C)}}return y}};t.prototype.recordTimeStoryWasInView=function(w){__p&&__p();if(!this.isTimetrackingEnabled)return;if(!w.vpvd||!w.story)return;if(w.vpvd>0){var x=this.getTimetrackingDataToLog(w),y=c("collectDataAttributes")(w.story,["ft"]);Object.assign(x.ft,y.ft);if(this.adAllocationIntegrityLoggingEnabled){var z=this.getGapsInfoToLog(w.story);Object.assign(x.ft,z)}var A=!!y.ft.ei&&x.ft.vpvd_time_delta>this.minTimeToReportImmediately;if(x.ei)delete x.ei;w.story||i(0);this.sendDataToLog(w.story,x,A)}};t.prototype.hasBeenVisible=function(w){return w in this.readStoryIDs};t.prototype.sendDataToLog=function(w,x,y){__p&&__p();if(this.useBanzai){var z={};if(y)z.delay=3e3;var A=this.getSessionID();if(A)x.ft.session_id=A;c("Banzai").post("feed_tracking",x,z)}else c("clickRefAction")(k,w,null,"FORCE",x)};t.prototype.markStoryRead=function(w){__p&&__p();var x=this.behavior.getStoryID(w);if(!x||this.hasBeenVisible(x))return;this.readStoryIDs[x]=true;this.annotatedStoryIDs[x]=true;var y=this._getDataToLogImpl(w),z=c("collectDataAttributes")(w,["ft"]);Object.assign(y.ft,z.ft);delete y.ei;this.sendDataToLog(w,y,false);if(this.vpvDebug)c("CSS").addClass(w,"_5m7s")};t.prototype.logAnnotatedVPV=function(w){var x=this.behavior.getStoryID(w);if(!x||x in this.annotatedStoryIDs)return;this.annotatedStoryIDs[x]=true;var y=this._getDataToLogImpl(w),z=c("collectDataAttributes")(w,["ft"]);Object.assign(y.ft,z.ft);delete y.ei;y.ft.vpv_ft_only=1;this.sendDataToLog(w,y,false)};t.prototype._getDataToLogImpl=function(w){var x=this.behavior.getDataToLog(w);if(!x.ft)x.ft={};return x};t.clearSingleton=function(){};var u={getAllStories:function w(){return[]},getStoryID:function w(x){return null},getDataToLog:function w(x){return{}}},v=c("viewportTrackingBuilder")(function(w){return new t(u)});t.factory=v.factory.bind(v);t.singleton=v.singleton.bind(v);t.clearSingleton=v.clearSingleton.bind(v);t.getBehavior=function(){return u};f.exports=t}),null);
__d("collectSubtreeData",[],(function a(b,c,d,e,f,g){__p&&__p();function h(j,k,l,m,n){__p&&__p();if(j.offsetWidth===0&&j.offsetHeight===0)return n;var o={};if(j.getAttribute)for(s=0;s<k.length;s++){u=k[s];var p=j.getAttribute(l[u]);if(p){o[u]={};var q=JSON.parse(p);for(var r in m)if(q[r]!==undefined){o[u][r]=true;if(n[u]===undefined)n[u]={};if(n[u][r]===undefined)n[u][r]=[];if(m[r].length>0)n[u][r].push(m[r]);n[u][r].push("("+q[r])}}}for(var s=0;s<j.childNodes.length;s++){var t=j.childNodes[s];h(t,k,l,m,n)}for(var u in o)for(var v in o[u]){var w=n[u][v][n[u][v].length-1];if(w.length>0&&w.charAt(0)=="(")n[u][v][n[u][v].length-1]=w.substr(1);else n[u][v].push(")")}return n}function i(j,k){var l={};for(var m=0;m<k.length;++m)l[k[m]]="data-"+k[m];var n={tn:"","tn-debug":","},o={};h(j,k,l,n,o);for(var p in o)for(var q in o[p])o[p][q]=o[p][q].join("");return o}f.exports=i}),null);
__d("recordTNTreeData",["collectSubtreeData"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k={},l=c("collectSubtreeData")(i,["ft"]);for(var m in l.ft){k[m+"_tree"]=l.ft[m];if(m==="tn-debug")i.setAttribute("tn-debug_subtree",l.ft[m])}k.evt_value=i.offsetHeight;if(j)k.offset=Math.max(0,i.offsetTop-j.offsetTop);return k}f.exports=h}),null);
__d("PagesBrowserUtils",["Event","QE2Logger","tidyEvent"],(function a(b,c,d,e,f,g){var h="pages_browser_your_pages_tab_redesign",i="navItem_2530096808",j={init:function k(){var l=document.getElementById(i);c("tidyEvent")(c("Event").listen(l,"click",function(m){c("QE2Logger").logExposureForUser(h)}))}};f.exports=j}),null);
__d("PhotosUploadWaterfallMixin",["PhotosUploadWaterfall","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("emptyFunction"),i={getUploaderApp:h,getWaterfallID:h,getAdditionalData:function j(){return{}},logWaterfallStep:function j(k,l,m){c("PhotosUploadWaterfall").sendSignal(babelHelpers["extends"]({qn:this.getWaterfallID(),uploader:this.getUploaderApp(),step:k,ref:this.getWaterfallSource&&this.getWaterfallSource()},this.getAdditionalData(),l),m)},logWaterfallStepUsingBanzai:function j(k,l,m){c("PhotosUploadWaterfall").sendBanzai(babelHelpers["extends"]({qn:this.getWaterfallID(),uploader:this.getUploaderApp(),step:k,ref:this.getWaterfallSource&&this.getWaterfallSource()},this.getAdditionalData(),l),m)}};f.exports=i}),null);
__d("PhotoSourceTypes",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({COMPUTER:null,POSTED_PHOTOS:null,SYNCED_PHOTOS:null,SUGGESTIONS:null,PAGES_POSTED_PHOTOS:null})}),null);
__d("BaseSelectionContainer",[],(function a(b,c,d,e,f,g){__p&&__p();var h=0;function i(){"use strict";this.$BaseSelectionContainer1=(h++).toString()}i.prototype.getSelectionContainerID=function(){"use strict";return this.$BaseSelectionContainer1};i.prototype.getSource=function(){"use strict";throw new Error("This must be implemented by the child class")};i.prototype.getName=function(){"use strict";return null};i.prototype.getSize=function(){"use strict";return null};i.prototype.hasPlaceholderUI=function(){"use strict";throw new Error("This must be implemented by the child class")};f.exports=i}),null);
__d("SelectionSource",["PhotoSourceTypes"],(function a(b,c,d,e,f,g){var h={FILE:"file",FLASH:"flash",VAULT:"vault",SUGGESTIONS:"suggestions",POSTED_PHOTOS:"posted_photos",PAGES_POSTED_PHOTOS:"pages_posted_photos",toPhotoSourceType:function i(j){switch(j){case h.FILE:case h.FLASH:return c("PhotoSourceTypes").COMPUTER;case h.VAULT:return c("PhotoSourceTypes").SYNCED_PHOTOS;case h.SUGGESTIONS:return c("PhotoSourceTypes").SUGGESTIONS;case h.POSTED_PHOTOS:return c("PhotoSourceTypes").POSTED_PHOTOS;case h.PAGES_POSTED_PHOTOS:return c("PhotoSourceTypes").PAGES_POSTED_PHOTOS;default:throw new Error("No mapping for SelectionSource: "+j)}}};f.exports=h}),null);
__d("FileSelectionContainer",["BaseSelectionContainer","SelectionSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("BaseSelectionContainer"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$FileSelectionContainer1=k}j.prototype.getFile=function(){"use strict";return this.$FileSelectionContainer1};j.prototype.getSource=function(){"use strict";return c("SelectionSource").FILE};j.prototype.getName=function(){"use strict";return this.$FileSelectionContainer1.fileName||this.$FileSelectionContainer1.name};j.prototype.getSize=function(){"use strict";return this.$FileSelectionContainer1.fileSize||this.$FileSelectionContainer1.size};j.prototype.hasPlaceholderUI=function(){"use strict";return false};f.exports=j}),null);
__d("AlbumMediaUploadUtils",["VideoUploadConfig"],(function a(b,c,d,e,f,g){var h={isVideoFile:function i(j){var k=j.name,l=c("VideoUploadConfig").videoExtensions,m=k.indexOf(".")!==-1?k.split(".").pop().toLowerCase():"";return l[m]},hasVideos:function i(j){return this._filterVideos(j).length>0},_filterVideos:function i(j){return this._filterFileOfSupportedType(j,c("VideoUploadConfig").videoExtensions)},_filterFileOfSupportedType:function i(j,k){return j.filter(function(l){var m=l.indexOf(".")!==-1?l.split(".").pop().toLowerCase():"";return k[m]})}};f.exports=h}),null);
__d("FilePickerEvent",[],(function a(b,c,d,e,f,g){f.exports={BEGIN:"FilePickerEvent/BEGIN",SELECT_START:"FilePickerEvent/SELECT_START",SELECTED:"FilePickerEvent/SELECTED_FILES",ALBUM_LIMIT_EXCEEDED:"FilePickerEvent/ALBUM_LIMIT_EXCEEDED",SESSION_LIMIT_EXCEEDED:"FilePickerEvent/SESSION_LIMIT_EXCEEDED",SELECT_CANCELED:"FilePickerEvent/SELECT_CANCELED",FALLBACK:"FilePickerEvent/FALLBACK"}}),null);
__d("PUWApplications",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WEB_SIMPLE:"web_simple",WEB_FLASH:"web_flash",WEB_HTML5:"web_html5",WEB_COMPOSER:"web_composer",WEB_ARCHIVE:"web_archive",WEB_MESSENGER:"web_messenger",WEB_OMNIPICKER:"web_omnipicker",WEB_MUSE_OMNIPICKER:"web_muse_omnipicker",WEB_SAY_THANKS:"web_say_thanks",WEB_GOODWILL_CAMPAIGN_OMNIPICKER:"web_goodwill_campaign_omnipicker",WEB_PRODUCT_PHOTO_OMNIPICKER:"web_product_photo_omnipicker",WEB_PAGES_MESSENGER:"web_pages_messenger",WEB_M_ZERO:"web_m_zero",WEB_M_BASIC:"web_m_basic",WEB_M_TOUCH:"web_m_touch",WEB_REACT_COMPOSER:"web_react_composer",MOBILE_FB4IOS:"mobile_fb4ios",MOBILE_FB4IOS_SNAP:"mobile_fb4ios_snap",MOBILE_FB4A:"mobile_fb4a",MOBILE_PMA_ANDROID:"mobile_pma_android",MOBILE_PMA_IOS:"mobile_pma_ios",THIRD_PARTY:"third_party"})}),null);
__d("PUWSteps",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_FLOW_BEGIN:"client_flow_begin",CLIENT_SELECT_BEGIN:"client_select_begin",CLIENT_SELECT_SUCCESS:"client_select_success",CLIENT_SELECT_CANCEL:"client_select_cancel",CLIENT_SELECT_FAIL:"client_select_fail",CLIENT_FLOW_POST:"client_flow_post",CLIENT_TRANSFER_BATCH_BEGIN:"client_transfer_batch_begin",CLIENT_UPLOAD_BEGIN:"client_upload_begin",CLIENT_ATTACH_PHOTO:"client_attach_photo",CLIENT_PROCESS_BEGIN:"client_process_begin",CLIENT_PROCESS_SUCCESS:"client_process_success",CLIENT_PROCESS_CANCEL:"client_process_cancel",CLIENT_PROCESS_SKIP:"client_process_skip",CLIENT_PROCESS_FAIL:"client_process_fail",CLIENT_PROCESS_UNAVAILABLE:"client_process_unavailable",CLIENT_SPHERICAL_CHECK_SUCCESS:"client_spherical_check_success",CLIENT_SPHERICAL_CHECK_FAIL:"client_spherical_check_fail",CLIENT_TRANSFER_ENQUEUE:"client_transfer_enqueue",CLIENT_TRANSFER_BEGIN:"client_transfer_begin",CLIENT_TRANSFER_SUCCESS:"client_transfer_success",CLIENT_TRANSFER_CANCEL:"client_transfer_cancel",CLIENT_TRANSFER_FAIL:"client_transfer_fail",CLIENT_TRANSFER_MANUAL_RETRY:"client_transfer_manual_retry",CLIENT_UPLOAD_SUCCESS:"client_upload_success",CLIENT_UPLOAD_FAIL:"client_upload_fail",CLIENT_UPLOAD_CANCEL:"client_upload_cancel",CLIENT_UPLOAD_REMOVE:"client_upload_remove",CLIENT_FACEREC_BEGIN:"client_facerec_begin",CLIENT_FACEREC_SUCCESS:"client_facerec_success",CLIENT_FACEREC_FAIL:"client_facerec_fail",CLIENT_PHOTO_PREVIEW_OPEN:"client_photo_preview_open",CLIENT_PHOTO_PREVIEW_CLOSE:"client_photo_preview_close",CLIENT_TRANSFER_BATCH_SUCCESS:"client_transfer_batch_success",CLIENT_TRANSFER_BATCH_CANCEL:"client_transfer_batch_cancel",CLIENT_TRANSFER_BATCH_FAIL:"client_transfer_batch_fail",CLIENT_PUBLISH_ENQUEUE:"client_publish_enqueue",CLIENT_PUBLISH_BEGIN:"client_publish_begin",CLIENT_PUBLISH_SUCCESS:"client_publish_success",CLIENT_PUBLISH_FAIL:"client_publish_fail",CLIENT_ATTEMPT_FAIL:"client_attempt_fail",CLIENT_FLOW_SUCCESS:"client_flow_success",CLIENT_FLOW_FATAL:"client_flow_fatal",CLIENT_FLOW_GIVEUP:"client_flow_giveup",CLIENT_FLOW_CANCEL:"client_flow_cancel",CLIENT_FLOW_FAIL:"client_flow_fail",CLIENT_FLOW_INCOMPLETE:"client_flow_incomplete",CLIENT_ATTEMPT_INCOMPLETE:"client_attempt_incomplete",CLIENT_FLOW_RETRY:"client_flow_retry",CLIENT_ATTEMPT_RETRY:"client_attempt_retry",CLIENT_DIAGNOSTIC:"client_diagnostic",CLIENT_QUALITY_SWITCH:"client_quality_switch",CLIENT_CANCEL_SURVEY:"client_cancel_survey",CLIENT_PHOTO_EDIT_BEGIN:"client_photo_edit_begin",CLIENT_PHOTO_EDIT_SUCCESS:"client_photo_edit_success",SERVER_UPLOAD_BEGIN:"server_upload_begin",SERVER_UPLOAD_SUCCESS:"server_upload_success",SERVER_UPLOAD_FAIL:"server_upload_fail",SERVER_PUBLISH_BEGIN:"server_publish_begin",SERVER_PUBLISH_SUCCESS:"server_publish_success",SERVER_PUBLISH_FAIL:"server_publish_fail",SERVER_RECEIVER_BEGIN:"server_receiver_begin",SERVER_RECEIVER_PUBLISH_BEGIN:"server_receiver_publish_begin",SERVER_SENTRY_RESTRICTION:"server_sentry_restriction"})}),null);
__d("PhotosUploadWaterfallXMixin",["invariant","AsyncSignal","Banzai","Map","PhotosUploadWaterfallXConfig","Set","randomInt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=new(c("Map"))();function j(l,m){var n={};l.client_time=Math.round(Date.now()/1e3);if(c("PhotosUploadWaterfallXConfig").retryBanzai){n.retry=true;l.nonce=c("randomInt")(4294967296)}c("Banzai").post(c("PhotosUploadWaterfallXConfig").banzaiRoute,l,n);if(m)setTimeout(m,0)}function k(l,m){if(c("PhotosUploadWaterfallXConfig").useBanzai)j(l,m);else{var n=new(c("AsyncSignal"))(c("PhotosUploadWaterfallXConfig").loggingEndpoint,{data:JSON.stringify(l)}).setHandler(m);if(c("PhotosUploadWaterfallXConfig").timeout)n.setTimeout(10*1e3);n.send()}}f.exports={logStep:function l(m,n,o){var p=this.getWaterfallID&&this.getWaterfallID(),q=this.getWaterfallAppName&&this.getWaterfallAppName();if(!p||!q)return;k(babelHelpers["extends"]({step:m,qn:p,uploader:q,ref:this.getWaterfallSource&&this.getWaterfallSource()},n),o)},logPUWStep:function l(m,n,o,p,q,r,s){if(r&&r.logOncePerSession){if(!i.has(n))i.set(n,new(c("Set"))());if(i.get(n).has(m))return;i.get(n).add(m)}k(Object.assign({step:m,qn:n,uploader:o,ref:p},q),s)}}}),null);
__d("HTML5FilePicker",["cx","ArbiterMixin","BrowserSupport","CSS","DOM","FilePickerEvent","FileSelectionContainer","Keys","Parent","PhotosUploadID","PhotosUploadWaterfall","PhotosUploadWaterfallMixin","PhotosUploadWaterfallXMixin","PUWApplications","PUWSteps","URI","getOrCreateDOMID"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){__p&&__p();this._config=babelHelpers["extends"]({accept:undefined,multiple:undefined},k);this._button=j;this._beginInformed=false;if(!c("BrowserSupport").hasFileAPI()){this.logStep(c("PUWSteps").CLIENT_PROCESS_UNAVAILABLE,{error:"no_file_api"});if(Object.prototype.hasOwnProperty.call(this._config,"fallbackFunction")){this._config.fallbackFunction.call(this);return}return}this._subscriptions=[];var l=this._config.input||c("DOM").create("input",{type:"file",className:"_n",tabindex:"-1"});if(Object.prototype.hasOwnProperty.call(this._config,"accept"))l.accept=this._config.accept;if(Object.prototype.hasOwnProperty.call(this._config,"multiple"))l.multiple=this._config.multiple;if(Object.prototype.hasOwnProperty.call(this._config,"title"))l.title=this._config.title;var m=c("DOM").create("label",{className:"accessible_elem","for":c("getOrCreateDOMID")(l)},l.title),n=c("DOM").create("div",{className:"_3jk"},[m,l]);c("CSS").addClass(this._button,"_m");c("DOM").appendContent(this._button,n);this._button.setAttribute("rel","ignore");this._bindInput(l);this._button.onkeydown=function(event){if(event.keyCode===c("Keys").RETURN){this._input.click();if(event&&event.stopPropagation)event.stopPropagation()}}.bind(this);var o=c("Parent").byClass(this._button,"addPhotosDisabled");if(o){c("CSS").removeClass(o,"addPhotosDisabled");c("CSS").addClass(o,"addPhotosEnabled")}}Object.assign(i.prototype,c("ArbiterMixin"),c("PhotosUploadWaterfallMixin"),c("PhotosUploadWaterfallXMixin"),{getUploaderApp:function j(){return c("PhotosUploadWaterfall").APP_HTML5},getWaterfallID:function j(){return this._config.qn},getWaterfallAppName:function j(){return c("PUWApplications").WEB_HTML5},getWaterfallSource:function j(){return this._config.ref},getSwfID:function j(){return null},_constructFileList:function j(){var k=Array.from(this._input.files);k.forEach(function(l){l.uploadID=c("PhotosUploadID").getNewID()});return k},_constructFileSelectionContainerList:function j(){var k=Array.from(this._input.files);return k.map(function(l){return new(c("FileSelectionContainer"))(l)})},cleanup:function j(){if(this._input){this._input.onclick=null;this._input.onchange=null}if(this._button)this._button.onkeydown=null},_bindInput:function j(k){__p&&__p();this.cleanup();k.onclick=function(){this.logWaterfallStep(c("PhotosUploadWaterfall").SELECT_START);if(!this._beginInformed){this._beginInformed=true;this.inform(c("FilePickerEvent").BEGIN||"FilePickerEvent/BEGIN")}this.inform(c("FilePickerEvent").SELECT_START)}.bind(this);k.onchange=function(){this.inform(c("FilePickerEvent").SELECTED,{sender:this,files:this._constructFileList(),selections:this._constructFileSelectionContainerList()});this._bindInput(this._input.cloneNode(false))}.bind(this);if(this._input)c("DOM").replace(this._input,k);this._input=k}});f.exports=i}),null);
__d("UploadSession",["invariant","AlbumMediaUploadUtils","AsyncRequest","FilePickerEvent","SubscriptionsHandler","PhotosUploadWaterfall","PUWSteps","URI"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={};function j(m){"use strict";__p&&__p();this._sessionID=m;this._asyncBootstrapped=false;this._controller=null;this._overlay=null;this._pickers=[];this._pendingPhotoFileLists=[];this._pendingVideoFileLists=[];this._beginLogged=false;this._albumLimitWasExceeded=false;this._sessionLimitWasExceeded=false;this._subscriptions=new(c("SubscriptionsHandler"))()}j.prototype.addFilePicker=function(m){"use strict";__p&&__p();if(!this._pickers.includes(m)){this._pickers.push(m);if(this._controller&&m.getSwfID&&m.getSwfID())this._controller.preregisterSwf&&this._controller.preregisterSwf(m.getSwfID());this._subscriptions.addSubscriptions(m.subscribe(c("FilePickerEvent").BEGIN,function(n,o){if(!this._beginLogged){this._beginLogged=true;m.logWaterfallStep(c("PhotosUploadWaterfall").BEGIN);m.logStep(c("PUWSteps").CLIENT_FLOW_BEGIN)}}.bind(this)),m.subscribe(c("FilePickerEvent").SELECTED,function(n,o){__p&&__p();m.logStep(c("PUWSteps").CLIENT_SELECT_SUCCESS,{volume:o.files.length});var p=[],q=[];o.files.forEach(function(t){if(c("AlbumMediaUploadUtils").isVideoFile(t))p.push(t);else q.push(t)});if(this._controller){if(q.length>0)this._controller.uploadFiles(q);if(this._videoController&&p.length>0)this._videoController.uploadFiles(p)}else{if(q.length>0)this._pendingPhotoFileLists.push(q);if(p.length>0)this._pendingVideoFileLists.push(p)}if(this._asyncBootstrapped)return;var r=m._button,s=new(c("URI"))(r.getAttribute("ajaxify"));s.addQueryData("num_selected",o.files.length);c("AsyncRequest").bootstrap(s.toString(),r,true);this._asyncBootstrapped=true}.bind(this)),m.subscribe(c("FilePickerEvent").SELECT_START,function(){m.logStep(c("PUWSteps").CLIENT_SELECT_BEGIN)}.bind(this)),m.subscribe(c("FilePickerEvent").SELECT_CANCELED,function(){m.logStep(c("PUWSteps").CLIENT_SELECT_CANCEL);if(!this._overlay){m.logStep(c("PUWSteps").CLIENT_FLOW_CANCEL);this._beginLogged=false}}.bind(this)),m.subscribe(c("FilePickerEvent").ALBUM_LIMIT_EXCEEDED,function(){if(this._controller)this._controller.albumLimitExceeded();else this._albumLimitWasExceeded=true}.bind(this)),m.subscribe(c("FilePickerEvent").SESSION_LIMIT_EXCEEDED,function(){if(this._controller)this._controller.sessionLimitExceeded();else this._sessionLimitWasExceeded=true}.bind(this)))}};j.prototype.addController=function(m,n){"use strict";__p&&__p();this._controller=m;this._videoController=n;this._asyncBootstrapped=true;var o=this._controller.getWaterfallID?this._controller.getWaterfallID():this._controller.getWaterfallConfig().waterfallID,p=this._controller.getUploaderApp?this._controller.getUploaderApp():this._controller.getWaterfallConfig().waterfallApp;if(!this._beginLogged){this._beginLogged=true;c("PhotosUploadWaterfall").sendSignal({qn:o,step:c("PhotosUploadWaterfall").BEGIN,uploader:p})}if(this._pendingPhotoFileLists.length>0||this._pendingVideoFileLists.length>0){var q=[],r=[];this._pendingVideoFileLists.forEach(function(s){r=r.concat(s)});this._pendingPhotoFileLists.forEach(function(s){q=q.concat(s)});if(q.length>0)this._controller.uploadFiles(q);if(r.length>0)this._videoController.uploadFiles(r)}else c("PhotosUploadWaterfall").sendSignal({qn:o,step:c("PhotosUploadWaterfall").OVERLAY_FIRST,uploader:p});if(this._albumLimitWasExceeded)this._controller.albumLimitExceeded();if(this._sessionLimitWasExceeded)this._controller.sessionLimitExceeded()};j.prototype.addOverlay=function(m){"use strict";this._overlay=m};j.prototype.addOverlayAndController=function(m,n){"use strict";this.addOverlay(m);this.addController(n,null)};j.prototype.getFilePickers=function(){"use strict";return this._pickers};j.prototype.cleanup=function(){"use strict";this._subscriptions&&this._subscriptions.release()};j.addFilePickerToSession=function(m,n){"use strict";k(m).addFilePicker(n)};j.addControllerToSession=function(m,n,o){"use strict";k(m).addController(n,o)};j.addOverlayToSession=function(m,n){"use strict";k(m).addOverlay(n)};j.addOverlayAndControllerToSession=function(m,n,o){"use strict";k(m).addOverlayAndController(n,o)};j.restartSessionPersistingFilePickers=function(m){"use strict";var n=k(m),o=new j(m);n.getFilePickers().forEach(function(p){o.addFilePicker(p)});l(m,o)};function k(m){if(!i[m])i[m]=new j(m);return i[m]}function l(m,n){i[m]||h(0);i[m].cleanup();delete i[m];i[m]=n}f.exports=j}),null);
__d("PrivacySelectorEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN_MENU:"open_menu",CLOSE_MENU:"close_menu",MORE_OPTIONS:"more_options",MORE:"more",SEE_ALL:"see_all",CUSTOM_SAVE:"custom_save",CUSTOM_CANCEL:"custom_cancel",SELECT_CUSTOM:"select_custom",SPECIFIC_FRIENDS_SAVE:"specific_friends_save",SPECIFIC_FRIENDS_CANCEL:"specific_friends_cancel",SELECT_SPECIFIC_FRIENDS:"select_specific_friends",FRIENDS_EXCEPT_SAVE:"friends_except_save",FRIENDS_EXCEPT_CANCEL:"friends_except_cancel",SELECT_FRIENDS_EXCEPT:"select_friends_except",SELECT_EVERYONE:"select_everyone",SELECT_FRIENDS_OF_FRIENDS:"select_friends_of_friends",SELECT_FRIENDS:"select_friends",SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:"select_friends_except_acquaintances",SELECT_ONLY_ME:"select_only_me",SELECT_FB_ONLY:"select_fb_only",SELECT_FRIENDLIST:"select_friendlist",SELECT_OTHER:"select_other"})}),null);
__d("PrivacySelectorSelectableItem",["csx","cx","CSS","DOM","DOMQuery","MenuSelectableItem","React","SutroPrivacyIconsGatingConfig"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l="._o00",m="._o01",n="._po2";j=babelHelpers.inherits(o,c("MenuSelectableItem"));k=j&&j.prototype;function o(p){"use strict";if(p.icon){var q=c("SutroPrivacyIconsGatingConfig").enabled,r="_392n"+(q?" _1rwt":"");if(p.children)p.icon=c("React").createElement("div",{className:r},p.icon);else p.icon=c("DOM").create("div",{className:r},p.icon)}k.constructor.call(this,p)}o.prototype.render=function(){"use strict";var p=k.render.call(this),q=c("DOMQuery").find(p,"._54nh");c("CSS").addClass(q,"_4chm");var r=q.parentNode;c("CSS").addClass(r,"_4chl");var s=c("DOMQuery").scry(p,"._392n")[0];if(!s)c("CSS").addClass(r,"_4857");return p};o.prototype.isMoreButton=function(){"use strict";return c("CSS").matchesSelector(this.getRoot(),l)};o.prototype.isMoreOptionsButton=function(){"use strict";return c("CSS").matchesSelector(this.getRoot(),n)};o.prototype.isSeeAllButton=function(){"use strict";return c("CSS").matchesSelector(this.getRoot(),m)};f.exports=o}),null);
__d("PrivacySelectorOptionNew",["csx","cx","fbt","CSS","DOM","DOMQuery","JSXDOM","PrivacyConst","PrivacySelectorEvent","PrivacySelectorSelectableItem"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("PrivacySelectorSelectableItem"));l=k&&k.prototype;function m(n){"use strict";l.constructor.call(this,n);this._origLabel=this.getLabel();this._origTriggerLabel=this.getTriggerLabel()}m.prototype._getData=function(){"use strict";return this._data};m.prototype.getTooltip=function(){"use strict";return this._getData().tooltip};m.prototype.getPostParam=function(){"use strict";return this._getData().postParam.toString()};m.prototype.setPostParam=function(n){"use strict";this._getData().postParam=n;return this};m.prototype.getSubtitles=function(){"use strict";return this._data.optionSubtitles};m.prototype.setSubtitles=function(n){"use strict";if(this._data.optionSubtitles!=null)this._data.optionSubtitles=n;return this};m.prototype.getTriggerIcon=function(){"use strict";return this._getData().triggerIcon};m.prototype.getTriggerLabel=function(){"use strict";return this._getData().triggerLabel};m.prototype.getIconType=function(){"use strict";return this._getData().iconType};m.prototype.isPublic=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.EVERYONE.toString()};m.prototype.isFriendsOfFriends=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS_OF_FRIENDS.toString()};m.prototype.isFriends=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS.toString()};m.prototype.isFriendsExceptAcquaintances=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.FRIENDS_MINUS_ACQUAINTANCES.toString()};m.prototype.isOnlyMe=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.ONLY_ME.toString()};m.prototype.isFBOnly=function(){"use strict";return this.getPostParam()===c("PrivacyConst").PostParam.FB_ONLY.toString()};m.prototype.isFriendlist=function(){"use strict";return this._data.isFriendlist};m.prototype.isBasicOption=function(){"use strict";return true};m.prototype.isCustomOption=function(){"use strict";return false};m.prototype.isSavedCustomOption=function(){"use strict";return false};m.prototype.getSavedCustomPrivacyType=function(){"use strict";return null};m.prototype.getTagExpansionBehavior=function(){"use strict";return this._getData().tagExpansionBehavior};m.prototype.getBaseValue=function(){"use strict";return this._getData().baseValue};m.prototype.getIndex=function(){"use strict";return this._getData().value};m.prototype.getLoggingEventName=function(){"use strict";__p&&__p();if(this.isPublic())return c("PrivacySelectorEvent").SELECT_EVERYONE;else if(this.isFriendsOfFriends())return c("PrivacySelectorEvent").SELECT_FRIENDS_OF_FRIENDS;else if(this.isFriends())return c("PrivacySelectorEvent").SELECT_FRIENDS;else if(this.isFriendsExceptAcquaintances())return c("PrivacySelectorEvent").SELECT_FRIENDS_EXCEPT_ACQUIANTANCES;else if(this.isOnlyMe())return c("PrivacySelectorEvent").SELECT_ONLY_ME;else if(this.isFBOnly())return c("PrivacySelectorEvent").SELECT_FB_ONLY;else if(this.isFriendlist())return c("PrivacySelectorEvent").SELECT_FRIENDLIST;else return c("PrivacySelectorEvent").SELECT_OTHER};m.prototype.updateAfterTagExpansion=function(n,o){"use strict";__p&&__p();var p=this._origLabel,q=this._origTriggerLabel;if(n&&this._getData().showPlusOnTagExpansion){p=j._("{privacyLabel} (+)",[j.param("privacyLabel",p)]);if(o&&this.isFriends())q=j._("Friends, Friends of Tagged");else q=j._("{privacyLabel} (+)",[j.param("privacyLabel",q)])}this._setLabel(p);this._getData().triggerLabel=q;var r=this._getExpansionType(n),s=this._getData().optionSubtitles||{};this._setSubtitle(s[r])};m.prototype.isBelowSoftFold=function(){"use strict";return c("CSS").matchesSelector(this.getRoot(),"._4mwj")};m.prototype.isBelowFold=function(){"use strict";return c("CSS").matchesSelector(this.getRoot(),"._3ey_")};m.prototype.removeOnBootload=function(){"use strict";return!!this._getData().removeOnBootload};m.prototype._setLabel=function(n){"use strict";if(!n)return;var o=c("DOMQuery").find(this.getRoot(),"._54nh");o&&c("DOM").setContent(o,n);this._getData().label=n};m.prototype._setSubtitle=function(n){"use strict";if(!n)return;var o=c("DOMQuery").scry(this.getRoot(),"._48u1");o&&o[0]&&c("DOM").setContent(o[0],n)};m.prototype._getExpansionType=function(n){"use strict";return n?c("PrivacyConst").ExpansionType.TAGS_ONLY:c("PrivacyConst").ExpansionType.NONE};m.prototype.render=function(){"use strict";__p&&__p();var n=l.render.call(this);if(!this._getData().isPrimaryOption)return n;var o=c("DOMQuery").find(n,"._54nc");o&&c("CSS").addClass(o,"_48t_");var p=c("DOMQuery").scry(n,"._392n")[0];if(!p&&o)c("CSS").addClass(o,"_4zfs");var q=c("DOM").find(n,"._54nh");q&&c("CSS").addClass(q,"_48u0");var r=c("JSXDOM").div({className:"_48u1"},this._getData().optionSubtitle);c("DOM").appendContent(o,r);return n};f.exports=m}),null);
__d("XPrivacyCustomDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/custom_dialog/",{id:{type:"String",required:true},option_id:{type:"String",required:true},autosave:{type:"Bool",defaultValue:false},explain_tags:{type:"Bool",defaultValue:false},limit_community:{type:"Bool",defaultValue:false},limit_facebook:{type:"Bool",defaultValue:false},limit_fof:{type:"Bool",defaultValue:false},limit_tagexpand:{type:"Bool",defaultValue:false},is_new_privacy_selector:{type:"Bool",defaultValue:false},render_location_enum:{type:"Enum",enumType:1},content_type:{type:"String"},post_param:{type:"String"},privacy_data:{type:"String"},source:{type:"String"},tags:{type:"IntVector"},saved_custom_opt_in:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}})}),null);
__d("XPrivacySelectorLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/selector/log/",{event:{type:"Enum",required:true,enumType:1},render_location:{type:"Enum",required:true,enumType:1},content_type:{type:"String",required:true},privacy_fbid:{type:"String"},saved_custom_opt_in:{type:"Bool",defaultValue:false}})}),null);
__d("PrivacySelectorCustomOption",["invariant","AsyncDialog","AsyncRequest","DataStore","PrivacySelectorEvent","PrivacySelectorOptionNew","XPrivacyCustomDialogController","XPrivacySelectorLoggingController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("PrivacySelectorOptionNew"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l);this._subtitlesWhenNotSelected=l.optionSubtitlesWhenNotSelected}k.prototype.isBasicOption=function(){"use strict";return false};k.prototype.isCustomOption=function(){"use strict";return true};k.prototype.getSelector=function(){"use strict";return this._selector};k.prototype.getLoggingEventName=function(){"use strict";return c("PrivacySelectorEvent").SELECT_CUSTOM};k.prototype.setSubtitlesToNonSelected=function(){"use strict";this.setSubtitles(this._subtitlesWhenNotSelected)};k.prototype.openDialog=function(l){"use strict";__p&&__p();if(this._selector==null)this._selector=l;c("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var m=c("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",this._data.id).setString("id",this._data.privacyfbid.toString()).setString("post_param",l.getPostParam()).setString("content_type",l.getContentType()).setEnum("render_location_enum",l.getRenderLocation()).setIntVector("tags",l.getTags()).setBool("autosave",this._data.autosave).setBool("limit_community",this._data.limitcommunity).setBool("limit_facebook",this._data.limitfacebook).setBool("limit_fof",this._data.limitfof).setBool("limit_tagexpand",this._data.limittagexpand).setBool("is_new_privacy_selector",true).setBool("saved_custom_opt_in",l.getSavedCustomOptIn()).getURI(),n=new(c("AsyncRequest"))(m);n.setRelativeTo(l.getTriggerButtonElement());c("AsyncDialog").send(n,function(o){__p&&__p();var p=function(q){var r=document.getElementsByName("render_location")[0];r instanceof HTMLInputElement||h(0);var s=document.getElementsByName("content_type")[0];s instanceof HTMLInputElement||h(0);var m=c("XPrivacySelectorLoggingController").getURIBuilder().setEnum("event",q).setString("privacy_fbid",this._data.privacyfbid!=null?String(this._data.privacyfbid):null).setEnum("render_location",r.value).setString("content_type",s.value).getURI();new(c("AsyncRequest"))().setURI(m).send()}.bind(this);o.subscribe("hide",function(){l.inform("custom/hide");l.inform("selectorFinished")});o.subscribe("success",function(){l.inform("custom/success");p(c("PrivacySelectorEvent").CUSTOM_SAVE)});o.subscribe("cancel",function(){l.inform("custom/cancel");p(c("PrivacySelectorEvent").CUSTOM_CANCEL)})}.bind(this))};k.customPrivacySave=function(l,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];"use strict";var p=c("DataStore").get(l,"PrivacySelectorCustomOption");c("DataStore").remove(l,"PrivacySelectorCustomOption");if(!(p==null))if(!(p.getSelector==null)){var q=p.getSelector();if(n!==null)q.updateSavedCustomOption(n,m,o);else q.updateCustomOption(o);q.selectOption(m);q.finishAnimatingSavedCustomSave()}};f.exports=k}),null);
__d("XPrivacySelectorAsyncMoreController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/selector/async_more/",{id:{type:"String",required:true},next_value:{type:"Int",required:true},render_location_enum:{type:"Enum",required:true,enumType:1}})}),null);
__d("PrivacySelectableMenu",["cx","Arbiter","AsyncRequest","CSS","DataStore","Ease","PrivacySelectorCustomOption","PrivacySelectorEvent","PrivacySelectorOptionNew","PrivacySelectorSelectableItem","SelectableMenu","SelectableMenuUtils","XPrivacySelectorAsyncMoreController","XPrivacySelectorLoggingController"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("SelectableMenu"));j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this,l,m);c("DataStore").set("PrivacySelectableMenu",m.id,this);this._needsBootload=!!m.needsbootload;this.collapseMenu();this.updateOptionsAfterTagExpansion(!!m.hasTags)}k.prototype.cleanup=function(){"use strict";c("DataStore").remove("PrivacySelectableMenu",this._config.id)};k.prototype.getItemForIndex=function(l){"use strict";return this.findOption(function(m){return m.getIndex()==l})};k.prototype.findItem=function(l){"use strict";__p&&__p();for(var m=this._items,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q instanceof c("PrivacySelectorSelectableItem")&&l(q))return q}return null};k.prototype.findOption=function(l){"use strict";return this.findItem(function(m){return m instanceof c("PrivacySelectorOptionNew")&&l(m)})};k.prototype.getSelectedOption=function(){"use strict";return this.findOption(function(l){return l.isSelected()})};k.prototype.selectOption=function(l){"use strict";__p&&__p();var m=null,n=false,o=false;for(var p=this._items,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;if(!(t instanceof c("PrivacySelectorSelectableItem")))continue;if(t instanceof c("PrivacySelectorCustomOption")){m=t;continue}if(t.isMoreButton()){this.expandMenuWithMore();continue}if(t.isMoreOptionsButton()||t.isSeeAllButton()){if(this._needsBootload)n=true;else this.expandMenu();continue}if(!n&&t instanceof c("PrivacySelectorOptionNew")&&t.getPostParam()==l){this.setValue(t.getIndex());o=true;break}}if(!o&&m){m.setPostParam(l);this.setValue(m.getIndex())}if(n){this.subscribeOnce("expandMenu",function(){this.selectOption(l)}.bind(this));this.expandMenu()}else this.inform("selectOption");return!n};k.prototype._handleItemClick=function(l,m){"use strict";__p&&__p();if(!c("SelectableMenuUtils").doesItemSupportSelect(l))return j._handleItemClick.call(this,l,m);if(l.isMoreButton()){this._logMoreButtonClick();this.expandMenuWithMore();return undefined}if(l.isMoreOptionsButton()||l.isSeeAllButton()){this._logMoreOptionsOrSeeAllButtonClick();this.expandMenu();return undefined}if(!(l instanceof c("PrivacySelectorOptionNew")))return undefined;this._logOptionClick(l);var n=this.inform("itemclick",{item:l,event:m});if(n)return undefined;if(!c("SelectableMenuUtils").isSelected(l)&&!l.isCustomOption()&&!l.isSavedCustomOption()&&l.select()!==false){this._items.forEach(function(o){if(c("SelectableMenuUtils").isSelected(o)&&o!==l)o.deselect()});this.inform("change",this.getSelection())}c("Arbiter").inform("composerprivacy/aborteducation");this.done();return l.handleClick()};k.prototype._logMoreButtonClick=function(){"use strict";var l=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",c("PrivacySelectorEvent").MORE).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(l).send()};k.prototype._logMoreOptionsOrSeeAllButtonClick=function(){"use strict";var event=this._config.hasSavedCustom?c("PrivacySelectorEvent").SEE_ALL:c("PrivacySelectorEvent").MORE_OPTIONS,l=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",event).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(l).send()};k.prototype._logOptionClick=function(l){"use strict";var m=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",l.getLoggingEventName()).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(m).send()};k.prototype._getMoreOptionsOrSeeAllButton=function(){"use strict";return this.findItem(function(l){return l.isMoreOptionsButton()||l.isSeeAllButton()})};k.prototype.getCustomItem=function(){"use strict";return this.findOption(function(l){return l instanceof c("PrivacySelectorCustomOption")})};k.prototype._setMenuState=function(l){"use strict";var m=this.getRoot();c("CSS").conditionClass(m,"_po3",l!=="expanded");c("CSS").conditionClass(m,"_po4",l==="expanded");if(this._config.hasSavedCustom){c("CSS").conditionClass(m,"_n_v",l==="collapsed");c("CSS").conditionClass(m,"_n__",l!=="collapsed")}this._expanded=l==="expanded"};k.prototype.expandMenuWithMore=function(){"use strict";this._setMenuState("withMore");this.inform("expandMenuWithMore")};k.prototype.expandMenu=function(){"use strict";__p&&__p();if(this._expanded)return;this._setMenuState("withMore");this._expanded=true;if(!this._needsBootload){this.expandMenuAfterLoaded();return}this._needsBootload=false;var l=this._getMoreOptionsOrSeeAllButton();if(l){this._moreOptionsIcon=l.getIcon();l.setIcon(this._config.morespinner);this._scrollToOption(l)}var m=Date.now(),n=c("XPrivacySelectorAsyncMoreController").getURIBuilder().setString("id",this._config.id).setInt("next_value",this._config.nextvalue).setEnum("render_location_enum",this._config.renderlocation).getURI();new(c("AsyncRequest"))().setURI(n).setRelativeTo(this.getRoot()).setErrorHandler(function(o){var p=1250-(Date.now()-m);setTimeout(function(){l&&l.setIcon(this._moreOptionsIcon);this._needsBootload=true;this._expanded=false}.bind(this),p>0&&l?p:0)}.bind(this)).send()};k.prototype.expandMenuAfterLoaded=function(){"use strict";this._setMenuState("expanded");if(this._moreOptionsIcon){var l=this._getMoreOptionsOrSeeAllButton();l&&l.setIcon(this._moreOptionsIcon);this._moreOptionsIcon=undefined}this.inform("expandMenu")};k.prototype.collapseMenu=function(){"use strict";this._setMenuState("collapsed")};k.prototype.updateOptionsAfterTagExpansion=function(l){"use strict";this._lastHasTagsUpdate=l;this.forEachItem(function(m){if(m instanceof c("PrivacySelectorOptionNew"))m.updateAfterTagExpansion(l,!!this._config.hasSimpleLabels)}.bind(this))};k.prototype.refreshTagExpansionLabels=function(){"use strict";this.updateOptionsAfterTagExpansion(!!this._lastHasTagsUpdate)};k.prototype.updateTagExpansionLabelAfterBootload=function(){"use strict";this.refreshTagExpansionLabels()};k.prototype.onPopoverOpen=function(l){"use strict";__p&&__p();if(l&&l.isBelowFold()){if(this._needsBootload)this.subscribeOnce("expandMenu",function(){var m=this.getSelectedOption();m&&this._scrollToOption(m)}.bind(this));this.expandMenu();if(!this._needsBootload)this._scrollToOption(l)}else if(l&&l.isBelowSoftFold()){this.expandMenuWithMore();this._scrollToOption(l)}else this.collapseMenu()};k.prototype._scrollToOption=function(l){"use strict";if(!this._scrollableArea)return;var m=l.getRoot();if(m===null)return;var n=12,o=this._scrollableArea.getScrollTop(),p=o+this._scrollableArea.getClientHeight(),q=m.offsetTop+m.offsetHeight;if(q+n>p)this._scrollableArea.setScrollTop(o+q+n-p,true,{duration:Math.min(1e3,(q+n-p)*10),ease:c("Ease").sineOut})};f.exports=k}),null);
__d("PopoverButton",["csx","DOM","DOMQuery","isTextNode"],(function a(b,c,d,e,f,g,h){var i={setLabel:function j(k,l){var m=c("DOMQuery").find(k,"._55pe"),n=m.childNodes;for(var o=0;o<n.length;o++)if(c("isTextNode")(n[o])){c("DOM").replace(n[o],l);return}c("DOM").appendContent(m,l)}};f.exports=i}),null);
__d("PopoverLoadingMenu",["cx","BehaviorsMixin","DOM","PopoverMenuInterface","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("PopoverMenuInterface"));j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this);this._config=l||{};this._theme=l.theme||{}}k.prototype.getRoot=function(){"use strict";if(!this._root){this._root=c("DOM").create("div",{className:c("joinClasses")("_54nq",this._config.className,this._theme.className)},c("DOM").create("div",{className:"_54ng"},c("DOM").create("div",{className:"_54nf _54af"},c("DOM").create("span",{className:"_54ag"}))));if(this._config.behaviors)this.enableBehaviors(this._config.behaviors)}return this._root};Object.assign(k.prototype,c("BehaviorsMixin"),{_root:null});f.exports=k}),null);
__d("PrivacyIconTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVERYONE:"everyone",CUSTOM:"custom",FRIENDS:"friends",FRIENDS_OF_FRIENDS:"friends_of_friends",FRIENDS_EXCEPT_ACQUAINTANCES:"friends_except_acquaintances",FRIENDS_EXCEPT:"friends_except",SPECIFIC_FRIENDS:"specific_friends",MUTUAL_FRIENDS:"mutual_friends",ONLY_ME:"only_me",GROUP:"group",FACEBOOK:"facebook",SCHOOL_GROUP:"school_group",WORK_COMMUNITY:"work_community",LIST_MEMBERS:"list_members",GENERIC_LIST:"generic_list",CLOSE_FRIENDS:"close_friends",GOOD_FRIENDS:"good_friends",ACQUAINTANCES:"acquaintances",SCHOOL_LIST:"school_list",FAMILY_LIST:"family_list",LOCATION_LIST:"location_list",WORK_LIST:"work_list",APP_LIST:"app_list",GAMER_FRIENDS:"gamer_friends",EVENT:"event",GENDER_FEMALE:"gender_female",GENDER_MALE:"gender_male",NEARBY:"nearby",PARENTS:"parents",CLASSMATES:"classmates",PROFILE_CHANNELS_HIDDEN:"profile_channels_hidden",NO_ICON:"no_icon"})}),null);
__d("PrivacySelectorNewDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="selector";h=babelHelpers.inherits(k,c("Dispatcher_DEPRECATED"));i=h&&h.prototype;k.prototype.handleUpdateFromSelector=function(m){"use strict";this.dispatch(babelHelpers["extends"]({payloadSource:j},m))};function k(){"use strict";h.apply(this,arguments)}var l=new k();f.exports=l}),null);
__d("PrivacySelectorDataStore",["ArbiterMixin","PrivacySelectorNewDispatcher","KeyedCallbackManager"],(function a(b,c,d,e,f,g){__p&&__p();var h=new(c("KeyedCallbackManager"))(),i=babelHelpers["extends"]({},c("ArbiterMixin"),{get:function j(k,l){h.executeOrEnqueue(k,l)},hasValueChanged:function j(k){return!!h.getResource(k)}});c("PrivacySelectorNewDispatcher").register(function(j){__p&&__p();if(j.saved_custom_privacy_type!=null){h.addResourcesAndExecute({saved_custom_update:{postParam:j.post_param,savedCustomPrivacyType:j.saved_custom_privacy_type,sourceSelectorID:j.unique_id,subtitles:j.subtitles}});i.inform("saved_custom_update")}if(j.selector_type){var k={};k[j.selector_type]={post_param:j.post_param,unique_id:j.unique_id,reload:j.reload,is_error:j.is_error,is_custom:j.is_custom,selector_type:j.selector_type,subtitles:j.subtitles};h.addResourcesAndExecute(k);i.inform("change")}});f.exports=i}),null);
__d("SavedCustomPrivacyType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPECIFIC_FRIENDS:"specific_friends",FRIENDS_EXCEPT:"friends_except"})}),null);
__d("XPrivacySpecificAudienceSelectorDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/specific_audience_selector_dialog/",{autosave:{type:"Bool",defaultValue:false},content_type:{type:"String"},fbid:{type:"String",required:true},option_id:{type:"String"},post_param:{type:"String"},privacy_type:{type:"Enum",required:true,enumType:1},render_location:{type:"Enum",required:true,enumType:1},return_uri:{type:"String"},cancel_uri:{type:"String"}})}),null);
__d("PrivacySelectorSavedCustomOption",["AsyncDialog","AsyncRequest","DataStore","PrivacySelectorEvent","PrivacySelectorOptionNew","SavedCustomPrivacyType","XPrivacySpecificAudienceSelectorDialogController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("PrivacySelectorOptionNew"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k)}j.prototype.getSelector=function(){"use strict";return this._selector};j.prototype.isBasicOption=function(){"use strict";return false};j.prototype.isSavedCustomOption=function(){"use strict";return true};j.prototype.getSavedCustomPrivacyType=function(){"use strict";return this._data.savedCustomPrivacyType};j.prototype.getLoggingEventName=function(){"use strict";switch(this._data.savedCustomPrivacyType){case c("SavedCustomPrivacyType").FRIENDS_EXCEPT:return c("PrivacySelectorEvent").SELECT_FRIENDS_EXCEPT;case c("SavedCustomPrivacyType").SPECIFIC_FRIENDS:return c("PrivacySelectorEvent").SELECT_SPECIFIC_FRIENDS;default:return c("PrivacySelectorEvent").SELECT_OTHER}};j.prototype.openDialog=function(k){"use strict";this._selector=k;c("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var l=c("XPrivacySpecificAudienceSelectorDialogController").getURIBuilder().setBool("autosave",this._data.autosave).setString("content_type",k.getContentType()).setString("fbid",this._data.privacyFBID).setString("option_id",this._data.id).setString("post_param",this.getPostParam()).setEnum("privacy_type",this._data.savedCustomPrivacyType).setEnum("render_location",k.getRenderLocation()).getURI(),m=new(c("AsyncRequest"))().setURI(l).setRelativeTo(k.getTriggerButtonElement());c("AsyncDialog").send(m)};j.informSave=function(k){"use strict";var l=c("DataStore").get(k,"PrivacySelectorCustomOption");if(l instanceof j){var m=l.getSelector();m&&m.animateSavedCustomSave()}};f.exports=j}),null);
__d("XPrivacySelectorSavedCustomUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/selector/update/saved_custom/",{})}),null);
__d("XPrivacySelectorUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/selector/update/",{privacy_fbid:{type:"String",required:true},post_param:{type:"String",required:true},tags:{type:"IntVector"},render_location_enum:{type:"Enum",required:true,enumType:1},is_saved_on_select:{type:"Bool",defaultValue:false},should_return_tooltip:{type:"Bool",defaultValue:false},replace_on_select:{type:"Bool",defaultValue:false},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:false},ent_id:{type:"String",required:true},reload_selector:{type:"Bool",defaultValue:false}})}),null);
__d("PrivacySelectorBase",["cx","fbt","Promise","regeneratorRuntime","Animation","Arbiter","ArbiterMixin","AsyncRequest","Button","CSS","CurrentUser","DataStore","DOM","Focus","Input","MenuStaticItem","PopoverButton","PopoverLoadingMenu","PrivacyConst","PrivacyIconTypes","PrivacySelectableMenu","PrivacySelectorCustomOption","PrivacySelectorDataStore","PrivacySelectorEvent","PrivacySelectorNewDispatcher","PrivacySelectorSavedCustomOption","Run","SubscriptionsHandler","TooltipData","XPrivacySelectorLoggingController","XPrivacySelectorSavedCustomUpdateController","XPrivacySelectorUpdateController","XUIError","$","bind","debounce","ge","mixin"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function l(m,n,o,p,q,r){"use strict";__p&&__p();k.constructor.call(this);this._hasBeenCleanedUp=false;this._syncUpdateQueue=[];this._isWaitingForSavedCustom=false;this._config=r;c("DataStore").set(this._config.rootID,"selector",this);this._isSavedOnSelect=r.is_saved_on_select;this._privacyFBID=r.privacy_fbid;this._contentType=r.content_type;this._renderLocation=r.render_location;this._supportsTagExpansion=r.supports_tag_expansion;this._skipCleanup=r.skip_cleanup;this._prefixTooltipApps=r.should_prefix_tooltip_apps;this._shouldDisplayLabel=r.should_display_label;this._tags=r.tagged_uids;this._hasTags=this._tags.length>0;this._entID=r.ent_id;this._receivingUpdate=false;this._selectorSyncKey=r.selector_sync_key;this._previousParam=null;this._listeners=new(c("SubscriptionsHandler"))();this._spinnerCount=0;this._postParam=r.postParam;if(r.use_async_menu)this._listeners.addSubscriptions(this.getPopoverMenu().subscribe("setMenu",function(){this._menu=this.getPopoverMenu().getMenu();if(!(this._menu instanceof c("PrivacySelectableMenu")))return;this._onMenuLoad();this._onPopoverOpen();this.inform("asyncMenuLoaded")}.bind(this)));else this._onMenuLoad();if(this._selectorSyncKey||this._config.hasSavedCustomPrivacy)this._initSelectorSync();c("Run").onLeave(this._cleanup.bind(this))}l.prototype._cleanup=function(){"use strict";__p&&__p();if(this._skipCleanup)return;var m=this.getSelectableMenu();if(m instanceof c("PrivacySelectableMenu"))m.cleanup();this._hasBeenCleanedUp=true;this._syncUpdateQueue=[];this._syncUpdatePromise=null;this._listeners&&this._listeners.release();this._listeners=null};l.prototype._initSelectorSync=function(){"use strict";__p&&__p();if(this._selectorSyncKey)this._listeners&&this._listeners.addSubscriptions(c("PrivacySelectorDataStore").subscribe("change",function(){if(this._selectorSyncKey==null)return;c("PrivacySelectorDataStore").get(this._selectorSyncKey,function(m){this._enqueueAndExecuteSyncUpdate({type:"regular_update",payload:m})}.bind(this))}.bind(this)));if(this._config.hasSavedCustomPrivacy)this._listeners&&this._listeners.addSubscriptions(c("PrivacySelectorDataStore").subscribe("saved_custom_update",function(){c("PrivacySelectorDataStore").get("saved_custom_update",function(m){this._enqueueAndExecuteSyncUpdate({type:"saved_custom_update",payload:m})}.bind(this))}.bind(this)))};l.prototype._enqueueAndExecuteSyncUpdate=function(m){"use strict";this._syncUpdateQueue.push(m);if(this._syncUpdatePromise)return;this._syncUpdatePromise=this._startSyncUpdates();this._syncUpdatePromise.done(function(){this._syncUpdatePromise=null}.bind(this))};l.prototype._startSyncUpdates=function(){"use strict";__p&&__p();return new(c("Promise"))(function m(n,o){__p&&__p();var p;return c("regeneratorRuntime").async(function q(r){__p&&__p();while(1)switch(r.prev=r.next){case 0:r.next=2;return c("regeneratorRuntime").awrap(this._waitUntilSelectorInDOM());case 2:if(!this._hasBeenCleanedUp){r.next=5;break}o();return r.abrupt("return");case 5:while(this._syncUpdateQueue.length){p=this._syncUpdateQueue.shift();this._executeSyncUpdate(p)}n();case 7:case"end":return r.stop()}},null,this)}.bind(this))};l.prototype._executeSyncUpdate=function(m){"use strict";__p&&__p();if(m.type==="tags_changed"){this._executeTagsChangedUpdate(m.tags);return}var n=m.payload,o=this.getSelectableMenu();if(n.unique_id===o._config.id)return;this._receivingUpdate=true;switch(m.type){case"regular_update":c("XUIError").clear(this.getTriggerButtonElement());if(n.post_param)this.selectOption(n.post_param,function(){if(n.is_custom&&n.subtitles)this.updateCustomOption(n.subtitles)}.bind(this));n.reload&&this.reloadSelector();n.is_error&&this._displayErrorWithoutFocus();if(!n.post_param)this._receivingUpdate=false;break;case"saved_custom_update":if(o instanceof c("PrivacySelectableMenu")&&n.savedCustomPrivacyType!=null&&n.postParam!=null&&n.subtitles!=null)this.updateSavedCustomOption(n.savedCustomPrivacyType,n.postParam,n.subtitles);if(!this.shouldTryToUpdateSavedCustom())return;l._savedCustomSelectorsToUpdate.push(this);l._sendSavedCustomUpdateRequest();if(!n.postParam)this._receivingUpdate=false;break}};l.prototype._executeTagsChangedUpdate=function(m){"use strict";__p&&__p();var n=!m.length;if(this._hasTags===n){this._hasTags=!!m.length;this.getSelectableMenu().updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabelAndIcon()}if(this._tags.length!==m.length||m.some(function(o){return!this._tags.includes(o)}.bind(this))){this._tags=m;this._updateTooltip();c("Arbiter").inform("PrivacySelectorBase/changed",this._getChangedData())}};l.prototype.shouldTryToUpdateSavedCustom=function(){"use strict";__p&&__p();if(this.getSelectableMenu()instanceof c("PrivacySelectableMenu"))return this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected();for(var m=Object.keys(c("PrivacyConst").PostParam),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(this._postParam===c("PrivacyConst").PostParam[q].toString())return false}return true};l.prototype._broadcastUpdate=function(){"use strict";this._broadcastUpdateImpl(false)};l.prototype._broadcastError=function(){"use strict";this._broadcastUpdateImpl(true)};l.prototype._broadcastUpdateImpl=function(m){"use strict";__p&&__p();if(!this._receivingUpdate){var n={};n.selector_type=this._selectorSyncKey;n.unique_id=this.getSelectableMenu()._config.id;if(m)n.is_error=m;else{var o=this._getSelectedOption();if(!o)return;n.post_param=o.getPostParam();n.subtitles=o.getSubtitles();n.is_custom=o.isCustomOption();n.saved_custom_privacy_type=o.getSavedCustomPrivacyType()}c("PrivacySelectorNewDispatcher").handleUpdateFromSelector(n)}};l.prototype.disable=function(){"use strict";var m=this.getTriggerButtonElement();c("Button").setEnabled(m,false);this.getPopover().disable();c("CSS").addClass(m,"_4swv");return this};l.prototype.enable=function(){"use strict";var m=this.getTriggerButtonElement();c("Button").setEnabled(m,true);this.getPopover().enable();c("CSS").removeClass(m,"_4swv");return this};l.prototype.shouldReplaceOnPost=function(){"use strict";return this._config.replace_on_post};l.prototype.getSelectedTriggerIcon=function(){"use strict";return this._selectedOption&&this._selectedOption.getTriggerIcon()};l.prototype.getSelectedTriggerLabel=function(){"use strict";return this._selectedOption&&this._selectedOption.getTriggerLabel()};l.prototype.getSelectedIconType=function(){"use strict";return this._selectedOption&&this._selectedOption.getIconType()};l.prototype.getIsPublicSelected=function(){"use strict";return this._selectedOption&&this._selectedOption.isPublic()};l.prototype.getIsFriendsSelected=function(){"use strict";return this._selectedOption&&this._selectedOption.isFriends()};l.prototype.getIsOnlyMeSelected=function(){"use strict";return this._selectedOption&&this._selectedOption.isOnlyMe()};l.prototype.getSelectedBaseValue=function(){"use strict";return this._selectedOption&&this._selectedOption.getBaseValue()};l.prototype.getSelectedLabelString=function(){"use strict";return this._selectedOption&&this._selectedOption.getLabel()};l.prototype.getSelectedPostParam=function(){"use strict";return this._selectedOption&&this._selectedOption.getPostParam()};l.prototype.getIsCustomOptionSelected=function(){"use strict";return this._selectedOption&&this._selectedOption.isCustomOption()};l.prototype.getIsSavedCustomOptionSelected=function(){"use strict";return this._selectedOption&&this._selectedOption.isSavedCustomOption()};l.prototype.getIsSavedOnSelect=function(){"use strict";return this._isSavedOnSelect};l.prototype.getPrivacyFBID=function(){"use strict";return this._privacyFBID};l.prototype.setValue=function(m){"use strict";this.getSelectableMenu().setValue(m)};l.prototype.setIsSavedOnSelect=function(m){"use strict";this._isSavedOnSelect=m};l.prototype.getSavedCustomOptIn=function(){"use strict";return this._config.savedCustomOptIn};l.prototype.openSelectorExpanded=function(m){"use strict";this.openSelector(function(){this.getSelectableMenu().expandMenu();m&&m()}.bind(this))};l.prototype.openSelector=function(m){"use strict";if(this.getSelectableMenu()instanceof c("PopoverLoadingMenu")){this.subscribeOnce("asyncMenuLoaded",function(){m&&m()});this.getPopover().showLayer()}else{this.getPopover().showLayer();m&&m()}};l.prototype.closeSelector=function(){"use strict";this.getPopover().hideLayer()};l.prototype.getSelectableMenu=function(){"use strict";if(!this._menu)this._menu=this._config.getMenu();return this._menu};l.prototype.getPopover=function(){"use strict";if(!this._popover)this._popover=this.getPopoverMenu().getPopover();return this._popover};l.prototype.getPopoverMenu=function(){"use strict";if(!this._popoverMenu)this._popoverMenu=this._config.getPopoverMenu();return this._popoverMenu};l.prototype.getTriggerButtonElement=function(){"use strict";if(!this._button)this._button=c("$")(this._config.buttonID);return this._button};l.prototype.isSelectorInDOM=function(){"use strict";return!!c("ge")(this._config.rootID)};l.prototype._waitUntilSelectorInDOM=function m(){__p&&__p();return c("regeneratorRuntime").async(function n(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:"use strict";case 1:if(!(!this._hasBeenCleanedUp&&!this.isSelectorInDOM())){o.next=6;break}o.next=4;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(p){return setTimeout(p,1e3)}));case 4:o.next=1;break;case 6:case"end":return o.stop()}},null,this)};l.prototype.getRoot=function(){"use strict";if(!this._root)this._root=c("$")(this._config.rootID);return this._root};l.prototype.getInput=function(){"use strict";if(!this._input)this._input=c("$")(this._config.inputID);return this._input};l.prototype.getSpinner=function(){"use strict";if(!this._spinner)this._spinner=c("$")(this._config.spinnerID);return this._spinner};l.prototype.getCheckmark=function(){"use strict";if(!this._checkmark)this._checkmark=c("$")(this._config.checkmarkID);return this._checkmark};l.prototype.getErrorIcon=function(){"use strict";if(!this._errorIcon)this._errorIcon=c("$")(this._config.errorIconID);return this._errorIcon};l.prototype.getMenuElement=function(){"use strict";return this.getSelectableMenu().getRoot()};l.prototype.selectOption=function(m,n){"use strict";if(!m)return;var o=this.getSelectableMenu();if(o instanceof c("PopoverLoadingMenu")){this.subscribeOnce("asyncMenuLoaded",this._selectOptionImpl.bind(this,m,n));this._fetchAsyncMenu()}else this._selectOptionImpl(m,n)};l.prototype._selectOptionImpl=function(m,n){"use strict";__p&&__p();var o=this.getSelectableMenu(),p=o.selectOption(m);if(!p){o.subscribeOnce("selectOption",function(){var q=this.getIsSavedOnSelect();this.setIsSavedOnSelect(false);this._updateMenu();this.setIsSavedOnSelect(q);this._finishSpinnerSuccess();n&&n()}.bind(this));this._showSpinner()}else n&&n();this._updateMenu()};l.prototype._updateMenu=function(){"use strict";this._selectedOption=this._getSelectedOption();if(!this._selectedOption)return;this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam())};l.prototype._fetchAsyncMenu=function(){"use strict";if(this._config.use_async_menu)this.getPopoverMenu().fetchMenu()};l.prototype._getSelectedOption=function(){"use strict";var m=this.getSelectableMenu();return m instanceof c("PrivacySelectableMenu")?m.getSelectedOption():null};l.prototype._onItemClick=function(m,n){"use strict";__p&&__p();var o=n.item;if(o instanceof c("MenuStaticItem"))return;if(o.isBasicOption())this.updateDataForItemIndex(o.getIndex(),o.getPostParam());else if(o.isCustomOption()||o.isSavedCustomOption()){this._closeForCustom=true;o.openDialog(this)}this.inform("click",{customSelected:o.isCustomOption()})};l.prototype.getContentType=function(){"use strict";return this._contentType};l.prototype.getRenderLocation=function(){"use strict";return this._renderLocation};l.prototype.getPostParam=function(){"use strict";return this._postParam};l.prototype.getTags=function(){"use strict";return this._tags};l.prototype.updateCustomOption=function(m){"use strict";var n=this.getSelectableMenu(),o=n.findOption(function(o){return o instanceof c("PrivacySelectorCustomOption")});if(o==null)return;o.setSubtitles(m);n.refreshTagExpansionLabels()};l.prototype.updateSavedCustomOption=function(m,n,o){"use strict";var p=this.getSelectableMenu(),q=p.findOption(function(q){return q instanceof c("PrivacySelectorSavedCustomOption")&&q.getSavedCustomPrivacyType()===m});if(q==null)return;q.setPostParam(n).setSubtitles(o);p.refreshTagExpansionLabels()};l.prototype.updateDataForItemIndex=function(m,n){"use strict";__p&&__p();var o=this.getSelectableMenu(),p=o.getItemForIndex(String(m));if(!p)return;if(p.isCustomOption()||p.isSavedCustomOption())p.setPostParam(n);if(!p.isCustomOption()){var q=o.findOption(function(p){return p instanceof c("PrivacySelectorCustomOption")});if(q!=null){q.setSubtitlesToNonSelected();o.refreshTagExpansionLabels()}}this._selectedOption=p;this._previousParam=this._postParam;this._postParam=n;c("Input").setValue(this.getInput(),n);this._updateTriggerButtonLabelAndIcon();this._updateTooltipAndSavePrivacyIfNeeded();this.inform("changed",{post_param:this._postParam,base_value:this.getSelectedBaseValue()})};l.prototype._shouldUpdateTooltips=function(){"use strict";return this._prefixTooltipApps||this._supportsTagExpansion&&this._hasTags||this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected()};l.prototype._updateTooltip=function(){"use strict";this._updateTooltipAndSavePrivacyIfNeededImpl(false)};l.prototype._updateTooltipAndSavePrivacyIfNeeded=function(){"use strict";this._updateTooltipAndSavePrivacyIfNeededImpl(true)};l.prototype._updateTooltipAndSavePrivacyIfNeededImpl=function(m){"use strict";if(this._shouldUpdateTooltips())this._updateTooltipToLoading();this._sendUpdateRequest(m);if(!this._shouldUpdateTooltips())this._setTooltipValue(this._selectedOption.getTooltip())};l.prototype.reloadSelector=function(){"use strict";this._cleanup();var m=c("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",String(this._privacyFBID)).setString("post_param",this._postParam).setEnum("render_location_enum",this._renderLocation).setBool("reload_selector",true).setString("ent_id",String(this._entID)).getURI();new(c("AsyncRequest"))().setRelativeTo(this.getRoot()).setHandler(this.inform.bind(this,"reloaded")).setURI(m).send()};l.prototype._sendUpdateRequest=function(m){"use strict";__p&&__p();m=m&&this._isSavedOnSelect&&!this._receivingUpdate;var n=this._shouldUpdateTooltips();if(!m&&!n){this._receivingUpdate=false;return}m&&this._showSpinner();var o=c("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",String(this._privacyFBID)).setString("post_param",this._postParam).setIntVector("tags",this._tags).setEnum("render_location_enum",this._renderLocation).setBool("is_saved_on_select",m).setBool("should_return_tooltip",n).setBool("prefix_tooltip_with_app_privacy",this._prefixTooltipApps).setBool("replace_on_select",this._config.replace_on_select).setString("ent_id",String(this._entID)).getURI();if(this._updateRequest)this._updateRequest.abandon();this._updateRequest=new(c("AsyncRequest"))(o).setRelativeTo(this.getRoot()).setHandler(function(p){if(m){this._finishSpinnerSuccess();this._broadcastUpdate()}if(this._config.replace_on_select)this._cleanup();var q=p&&p.payload&&p.payload.tooltip;q&&this._setTooltipValue(p.payload.tooltip);this.inform("selector_updated")}.bind(this)).setFinallyHandler(function(p){this._receivingUpdate=false;this._updateRequest=null}.bind(this));if(m)this._updateRequest.setErrorHandler(c("bind")(this,function(p){if(this._receivingUpdate){this._displayErrorWithoutFocus();return}this.getSelectableMenu().selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError()}));this._updateRequest.send()};l.prototype.animateSavedCustomSave=function(){"use strict";if(this._isWaitingForSavedCustom)return;this._showSpinner();this._updateTooltipToLoading();if(this._shouldDisplayLabel)this._updateTriggerToLoading();this._isWaitingForSavedCustom=true};l.prototype.finishAnimatingSavedCustomSave=function(){"use strict";if(!this._isWaitingForSavedCustom)return;this._finishSpinnerSuccess();this._isWaitingForSavedCustom=false};l.prototype._showSpinner=function(){"use strict";__p&&__p();if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;if(this._spinnerCount===0){var m=this.getTriggerButtonElement(),n=this.getSpinner();c("XUIError").clear(m);c("Button").setIcon(m,n);c("CSS").show(n);c("CSS").hide(this.getCheckmark())}this._spinnerCount++};l.prototype._finishSpinnerSuccess=function(){__p&&__p();var m,n=this;"use strict";if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;this._spinnerCount--;if(this._spinnerCount===0){c("CSS").hide(this.getSpinner());this._updateTriggerButtonLabelAndIcon();var o=this.getCheckmark();if(o)(function(){var p=n.getTriggerButtonElement(),q=c("Button").getIcon(p);c("Button").setIcon(p,o);c("CSS").hide(q);new(c("Animation"))(o).show().from("opacity",0).to("opacity",1).duration(400).checkpoint().duration(200).checkpoint().from("opacity",1).to("opacity",0).duration(400).hide().ondone(function(){this._updateTriggerButtonLabelAndIcon();new(c("Animation"))(q).show().from("opacity",0).to("opacity",1).duration(300).go()}.bind(n)).go()})()}};l.prototype._displayError=function(){"use strict";if(!this._shouldDisplaySuccessAndFailure())return;this._spinnerCount--;this._displayErrorImpl(true)};l.prototype._displayErrorWithoutFocus=function(){"use strict";this._displayErrorImpl(false)};l.prototype._displayErrorImpl=function(m){"use strict";__p&&__p();if(!this._shouldDisplaySuccessAndFailure())return;var n=this.getTriggerButtonElement(),o=this.getErrorIcon();c("PopoverButton").setLabel(n,i._("Select Audience"));c("Button").setIcon(n,o);c("CSS").show(o);c("TooltipData").remove(n);m&&c("Focus").setWithoutOutline(n);c("XUIError").set({target:n,message:i._("Your selection might not have been saved. We recommend trying again later.")})};l.prototype.informTagsChanged=function(m){"use strict";var n=this._getTags(m);this.informTagsChangedWithIDs(n)};l.prototype.informTagsChangedWithIDs=function(m){"use strict";this._enqueueAndExecuteSyncUpdate({type:"tags_changed",tags:m})};l.prototype._getChangedData=function(){"use strict";return{tags:this._tags,privacy:this.getSelectedBaseValue()}};l.prototype._showTagExpansion=function(){"use strict";return this._hasTags};l.prototype._getTags=function(m){"use strict";__p&&__p();var n=[],o=c("CurrentUser").getID();if(m.withTags)for(var p=0;p<m.withTags.length;p++){var q=m.withTags[p].info;if(q.uid!=o)n.push(q.uid.toString())}if(m.mention)for(var r in m.mention)if(m.mention[r].type=="user"&&m.mention[r].uid!=o)n.push(m.mention[r].uid.toString());return n};l.prototype._updateTriggerButtonLabelAndIcon=function(){"use strict";__p&&__p();if(this._shouldDisplaySuccessAndFailure()&&this._spinnerCount===0){var m=this.getTriggerButtonElement(),n=this._selectedOption.getTriggerIcon();if(this._config.trigger_no_icon)c("CSS").hide(n);c("Button").setIcon(m,n.cloneNode());c("CSS").conditionClass(c("Button").getIcon(m),"_21or",this.getSelectedIconType()===c("PrivacyIconTypes").EVERYONE)}if(!this._shouldDisplayLabel)return;if(!this._isWaitingForSavedCustom)c("PopoverButton").setLabel(this.getTriggerButtonElement(),this._selectedOption.getTriggerLabel())};l.prototype._getLoadingText=function(){"use strict";return i._("Loading...")};l.prototype._updateTooltipToLoading=function(){"use strict";this._setTooltipValue(this._getLoadingText())};l.prototype._updateTriggerToLoading=function(){"use strict";c("PopoverButton").setLabel(this.getTriggerButtonElement(),this._getLoadingText())};l.prototype._setTooltipValue=function(m){"use strict";m&&c("TooltipData").set(this.getTriggerButtonElement(),m)};l.prototype._onPopoverClose=function(){"use strict";if(!this._getSelectedOption())return;var m=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._contentType).setEnum("event",c("PrivacySelectorEvent").CLOSE_MENU).setString("privacy_fbid",this._privacyFBID!=null?String(this._privacyFBID):null).setEnum("render_location",this._renderLocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(m).send();if(this._closeForCustom)this._closeForCustom=false;else this.inform("selectorFinished");this.inform("close")};l.prototype._onPopoverOpen=function(){"use strict";var m=this.getSelectableMenu();if(!(m instanceof c("PrivacySelectableMenu")))return;c("Arbiter").inform("composerprivacy/aborteducation");m.onPopoverOpen(this._getSelectedOption());var n=c("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._contentType).setEnum("event",c("PrivacySelectorEvent").OPEN_MENU).setString("privacy_fbid",this._privacyFBID!=null?String(this._privacyFBID):null).setEnum("render_location",this._renderLocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(c("AsyncRequest"))().setURI(n).send();this.inform("open")};l.prototype._onMenuLoad=function(){"use strict";__p&&__p();var m=this.getSelectableMenu();this._listeners&&this._listeners.addSubscriptions(m.subscribe("itemclick",this._onItemClick.bind(this)),this.getPopover().subscribe("hide",this._onPopoverClose.bind(this)),this.getPopover().subscribe("show",this._onPopoverOpen.bind(this)));this._listeners&&this._listeners.addSubscriptions(m.subscribe(["expandMenu","expandMenuWithMore"],function(){if(this.getPopover()&&this.getPopover().getLayer())this.getPopover().getLayer().updatePosition();this._selectedOption=this._getSelectedOption()}.bind(this)));this._selectedOption=this._getSelectedOption();if(this._selectedOption){this._postParam=this._selectedOption.getPostParam().toString();this._previousParam=this._postParam;this._hasAudienceExpansion()&&this._updateTriggerButtonLabelAndIcon()}};l.prototype._hasAudienceExpansion=function(){"use strict";return this._hasTags};l.prototype._shouldDisplaySuccessAndFailure=function(){"use strict";return!!((this._config.spinner||this._config.spinnerID)&&(this._config.checkmark||this._config.checkmarkID)&&(this._config.error_icon||this._config.errorIconID))};l._savedCustomSelectorsToUpdate=[];l._sendSavedCustomUpdateRequest=c("debounce")(function(){__p&&__p();var m=l._savedCustomSelectorsToUpdate;l._savedCustomSelectorsToUpdate=[];var n={},o={},p=false;for(var q=m,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;n[u._postParam]=true;o[u._config.trigger_style]=true;p=p||u._menu instanceof c("PopoverLoadingMenu")}if(this._savedCustomUpdateRequest)this._savedCustomUpdateRequest.abandon();this._savedCustomUpdateRequest=new(c("AsyncRequest"))(c("XPrivacySelectorSavedCustomUpdateController").getURIBuilder().getURI()).setData({has_async_menu:p,post_params:Object.keys(n),trigger_icon_styles:Object.keys(o)}).setHandler(function(v){__p&&__p();var w=v.payload||{},x=w.post_param_map||{},y=w.data||{},z=c("DOM").create("div",{className:"hidden_elem"});for(var A=m,B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}var E=D,F=x[E._postParam];if(!F)continue;if(E._menu instanceof c("PopoverLoadingMenu")){var G=y[F]||{};E._postParam=F;if(!E._config.trigger_no_icon){var H=G.icons[E._config.trigger_style];if(H!=null){c("DOM").setContent(z,H);var I=z.firstChild;c("Button").setIcon(E._button,I)}}if(E._shouldDisplayLabel){var J=G.label;J!=null&&c("PopoverButton").setLabel(E._button,J)}}else if(E._menu instanceof c("PrivacySelectableMenu")){E._receivingUpdate=true;E.selectOption(F);E._receivingUpdate=false}}c("DOM").remove(z)}).setFinallyHandler(function(){this._savedCustomUpdateRequest=null}.bind(this));this._savedCustomUpdateRequest.send()}.bind(this),10,this);f.exports=l}),null);
__d("AttachmentIssueDiversityShareConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ARTICLE_CLICK:"issueDiversity/article_click"})}),null);
__d("PubcontentFeedChainingControllerLoader",["Arbiter","AttachmentIssueDiversityShareConstants","AttachmentRelatedShareConstants","Bootloader","PageLikeConstants","SubscriptionsHandler","UFIUIEvents"],(function a(b,c,d,e,f,g){__p&&__p();var h=[c("PageLikeConstants").LIKED,c("UFIUIEvents").ActionLinkLike,c("UFIUIEvents").ReactionButtonClicked,c("UFIUIEvents").Comment,c("UFIUIEvents").ActionAddComment,"composer/publish","LitestandComposer/publish",c("AttachmentRelatedShareConstants").ARTICLE_CLICK,c("AttachmentIssueDiversityShareConstants").ARTICLE_CLICK,c("AttachmentRelatedShareConstants").VIDEO_CLICK,c("AttachmentRelatedShareConstants").FBVIDEO_CLICK,c("AttachmentRelatedShareConstants").FBVIDEO_VIEW,c("AttachmentRelatedShareConstants").GAME_CLICK,c("AttachmentRelatedShareConstants").PHOTO_CLICK,c("AttachmentRelatedShareConstants").EVENT_JOIN,c("AttachmentRelatedShareConstants").PRODUCT_CLICK,c("AttachmentRelatedShareConstants").MAP_CLICK,c("AttachmentRelatedShareConstants").ACTION_BUTTON_CLICK,c("AttachmentRelatedShareConstants").SHOW_FOLLOW_CLICK],i=null,j=false,k=null,l=null,m=null,n={init:function o(p,q){l=p;m=q;if(k)k.init({isLazy:false,srs:l,sdrs:m});else this._startListening()},_startListening:function o(){if(i)return;i=new(c("SubscriptionsHandler"))();i.addSubscriptions(c("Arbiter").subscribe(h,function(event,p){c("Arbiter").inform(event+".lazy",p,c("Arbiter").BEHAVIOR_PERSISTENT);this._bootload()}.bind(this)))},_bootload:function o(){if(j)return;j=true;c("Bootloader").loadModules(["PubcontentFeedChainingControllerX"],function(f){i&&i.release();k=f;k.init({isLazy:true,srs:l,sdrs:m})},"PubcontentFeedChainingControllerLoader")}};f.exports=n}),null);
__d("ReactFeedComposerXBody",["DOM","Event","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$ReactFeedComposerXBody2=i.get("root");this.$ReactFeedComposerXBody4=c("DOM").find(this.$ReactFeedComposerXBody2,"textarea");this.$ReactFeedComposerXBody1=c("DOM").find(this.$ReactFeedComposerXBody2,'input[type="hidden"]');this.$ReactFeedComposerXBody3=new(c("SubscriptionsHandler"))();this.$ReactFeedComposerXBody3.addSubscriptions(c("Event").listen(this.$ReactFeedComposerXBody4,"change",this.$ReactFeedComposerXBody5.bind(this)))}h.prototype.$ReactFeedComposerXBody5=function(i){this.$ReactFeedComposerXBody1.value=i.target.value};f.exports=h}),null);
__d("AbstractDockingElement",["Arbiter","Event","Run","SubscriptionsHandler","onEnclosingPageletDestroy","queryThenMutateDOM","removeFromArray"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i=null;function j(){c("queryThenMutateDOM")(function(){return h.forEach(function(m){return m.queryDOM()})},function(){return h.forEach(function(m){return m.updateWithCache()})},"AbstractDockingElement")}function k(){if(!i){i=new(c("SubscriptionsHandler"))();i.addSubscriptions(c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),c("Run").onLeave(function(){while(h.length)l(h[0])}));i=i}return i}function l(m){__p&&__p();try{m.onPageletDestroyed&&c("Arbiter").unsubscribe(m.onPageletDestroyed)}catch(n){}finally{m.onPageletDestroyed=null}if(!i||h.indexOf(m)===-1)return;c("removeFromArray")(h,m);if(h.length)return;i.release();i=null}f.exports={register:function m(n,o,p){var i=k(),q={onPageletDestroyed:i.addSubscriptions(c("onEnclosingPageletDestroy")(n,function(){l(q)})),queryDOM:o,updateWithCache:p};h.push(q)}}}),null);
__d("DirectionalDockingElement",["cx","AbstractDockingElement","Arbiter","CSS","DOM","Scroll","Style","UITinyViewportAction","UserAgent","ViewportBounds","getElementPosition","getStyleProperty","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=true,j=false,k=c("UserAgent").isBrowser("Safari < 10")||c("UserAgent").isBrowser("Mobile Safari < 10");function l(m){"use strict";__p&&__p();this.$DirectionalDockingElement5=0;this.$DirectionalDockingElement2=null;this.$DirectionalDockingElement7=false;this.$DirectionalDockingElement12=m;this.$DirectionalDockingElement8=0;this.$DirectionalDockingElement11=null;this.$DirectionalDockingElement13=0;this.register();this.$DirectionalDockingElement14=c("ViewportBounds").getTop();c("Style").set(this.$DirectionalDockingElement12,"width",this.$DirectionalDockingElement12.getBoundingClientRect().width+"px");this.$DirectionalDockingElement9=c("DOM").create("div");c("CSS").addClass(this.$DirectionalDockingElement9,"_lwx");c("Style").set(this.$DirectionalDockingElement9,"position","relative");c("DOM").replace(this.$DirectionalDockingElement12,this.$DirectionalDockingElement9);c("DOM").appendContent(this.$DirectionalDockingElement9,this.$DirectionalDockingElement12);this.update()}l.prototype.register=function(){"use strict";c("AbstractDockingElement").register(this.getRoot(),this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};l.prototype.subscribe=function(event,m,n){"use strict";if(!this.$DirectionalDockingElement1)this.$DirectionalDockingElement1=new(c("Arbiter"))();return this.$DirectionalDockingElement1.subscribe(event,m,n)};l.prototype.destroy=function(){"use strict";c("DOM").replace(this.$DirectionalDockingElement9,this.$DirectionalDockingElement12)};l.prototype.__queryDOM=function(){"use strict";__p&&__p();var m=-c("getElementPosition")(this.$DirectionalDockingElement9).y;if(m!==this.$DirectionalDockingElement13){this.$DirectionalDockingElement15=m>this.$DirectionalDockingElement13?j:i;this.$DirectionalDockingElement13=m}this.$DirectionalDockingElement6=this.$DirectionalDockingElement12.getBoundingClientRect();var n=document,o=n.body,p=n.documentElement;if(o&&p){var q=p.clientHeight,r=p.scrollHeight;this.$DirectionalDockingElement7=c("Scroll").getTop(o)+q>Math.max(q,r)}if(k){this.$DirectionalDockingElement11=c("getElementPosition")(this.$DirectionalDockingElement9);var s=parseInt(c("getStyleProperty")(this.$DirectionalDockingElement12,"left"),10);if(this.$DirectionalDockingElement11&&!isNaN(s)&&s!==this.$DirectionalDockingElement11.x)this.$DirectionalDockingElement11=babelHelpers["extends"]({},this.$DirectionalDockingElement11,{x:s})}if(this.$DirectionalDockingElement12.style.position==="fixed")this.$DirectionalDockingElement5=c("getElementPosition")(this.$DirectionalDockingElement12).y+this.$DirectionalDockingElement13};l.prototype.$DirectionalDockingElement16=function(m,n,o){"use strict";__p&&__p();if(n===this.$DirectionalDockingElement4&&m===this.$DirectionalDockingElement3&&o===this.$DirectionalDockingElement2)return;var p=m!==this.$DirectionalDockingElement3,q={};if(n!==this.$DirectionalDockingElement4){q.top=n+"px";this.$DirectionalDockingElement4=n}if(m!==this.$DirectionalDockingElement3){q.position=m;this.$DirectionalDockingElement3=m}if(k)if(o!==this.$DirectionalDockingElement2){q.left=typeof o==="number"?o+"px":"auto";this.$DirectionalDockingElement2=o}c("Style").apply(this.$DirectionalDockingElement12,q);if(p&&this.$DirectionalDockingElement1)this.$DirectionalDockingElement1.inform("changedposition")};l.prototype.$DirectionalDockingElement17=function(){"use strict";this.$DirectionalDockingElement16("fixed",this.$DirectionalDockingElement14,this.$DirectionalDockingElement11?this.$DirectionalDockingElement11.x:null)};l.prototype.$DirectionalDockingElement18=function(){"use strict";this.$DirectionalDockingElement16("fixed",this.$DirectionalDockingElement8,this.$DirectionalDockingElement11?this.$DirectionalDockingElement11.x:null)};l.prototype.$DirectionalDockingElement19=function(){"use strict";this.$DirectionalDockingElement16("absolute",this.$DirectionalDockingElement5,null)};l.prototype.unfixAndScrollBy=function(m){"use strict";this.$DirectionalDockingElement5=Math.max(0,this.$DirectionalDockingElement5-m);this.$DirectionalDockingElement19()};l.prototype.translateY=function(m){"use strict";var n=c("getElementPosition")(this.$DirectionalDockingElement12).y,o=c("getElementPosition")(this.$DirectionalDockingElement9).y,p=n-o;this.$DirectionalDockingElement5=m+p;this.$DirectionalDockingElement19()};l.prototype.__updateWithCache=function(){"use strict";__p&&__p();var m=Math.round(this.$DirectionalDockingElement6.height);if(m!==this.$DirectionalDockingElement10){c("Style").set(this.$DirectionalDockingElement9,"height",m+"px");this.$DirectionalDockingElement10=m;this.$DirectionalDockingElement1&&this.$DirectionalDockingElement1.inform("changedheight")}if(this.$DirectionalDockingElement7)return;if(this.$DirectionalDockingElement13+this.$DirectionalDockingElement14<0||c("UITinyViewportAction").isTiny()){this.$DirectionalDockingElement5=0;this.$DirectionalDockingElement19();c("Arbiter").inform("reflow");return}if(this.$DirectionalDockingElement15===j&&this.$DirectionalDockingElement13+this.$DirectionalDockingElement8>=this.$DirectionalDockingElement5)this.$DirectionalDockingElement18();else if(this.$DirectionalDockingElement15===i&&this.$DirectionalDockingElement13+this.$DirectionalDockingElement14<=this.$DirectionalDockingElement5)this.$DirectionalDockingElement17();else this.$DirectionalDockingElement19();c("Arbiter").inform("reflow")};l.prototype.update=function(){"use strict";c("queryThenMutateDOM")(function(){this.__queryDOM()}.bind(this),function(){this.__updateWithCache()}.bind(this))};l.prototype.setOffset=function(m){"use strict";return this.setOffsetAndTop(m,this.$DirectionalDockingElement14)};l.prototype.setOffsetAndTop=function(m,n){"use strict";c("queryThenMutateDOM")(function(){this.__queryDOM();this.$DirectionalDockingElement8=Math.round(m);this.$DirectionalDockingElement14=n}.bind(this),function(){this.__updateWithCache()}.bind(this));return this};l.prototype.setTop=function(m){"use strict";return this.setOffsetAndTop(this.$DirectionalDockingElement8,m)};l.prototype.getPlaceholder=function(){"use strict";return this.$DirectionalDockingElement9};l.prototype.getRoot=function(){"use strict";return this.$DirectionalDockingElement12};f.exports=l}),null);
__d("DockingElement",["cx","AbstractDockingElement","Arbiter","CSS","DOM","DOMDimensions","Style","UserAgent","UIGridColumnsConfig","UITinyViewportAction","getElementPosition","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("UserAgent").isBrowser("Safari")||c("UserAgent").isBrowser("Mobile Safari");function j(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";this.$DockingElement13=k;this.$DockingElement12=l;this.$DockingElement9=c("DOM").create("div");c("CSS").addClass(this.$DockingElement9,"_1pfm");c("Style").set(this.$DockingElement9,"position","relative");c("DOM").replace(this.$DockingElement13,this.$DockingElement9);c("DOM").appendContent(this.$DockingElement9,this.$DockingElement13);this.$DockingElement8=0;this.register();this.update()}j.prototype.register=function(){"use strict";c("AbstractDockingElement").register(this.getRoot(),this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};j.prototype.subscribe=function(event,k,l){"use strict";if(!this.$DockingElement1)this.$DockingElement1=new(c("Arbiter"))();return this.$DockingElement1.subscribe(event,k,l)};j.prototype.__queryDOM=function(){"use strict";this.$DockingElement11=c("getElementPosition")(this.getPlaceholder());this.$DockingElement5=c("DOMDimensions").getElementDimensions(this.$DockingElement13)};j.prototype.__updateWithCache=function(){"use strict";__p&&__p();var k=this.$DockingElement8,l=this.getPlaceholder(),m=!c("UIGridColumnsConfig").responsive_rhc_when_narrow&&c("UITinyViewportAction").isTiny();if(!m&&this.$DockingElement11.y<=k){if(!this.$DockingElement7&&this.$DockingElement13.parentNode){c("CSS").addClass(this.$DockingElement13,"fixed_elem");this.$DockingElement7=true}var n;if(this.$DockingElement4!==k){n={};n.top=k+"px";this.$DockingElement4=k}var o=this.$DockingElement5.width;if(o!==this.$DockingElement3){if(!this.$DockingElement12){n=n||{};n.width=o+"px"}this.$DockingElement3=o}if(i){var p=this.$DockingElement11.x;if(p!==this.$DockingElement2){n=n||{};n.left=p+"px";this.$DockingElement2=p}}n&&c("Style").apply(this.$DockingElement13,n);var q=this.$DockingElement5.height;c("Style").set(l,"height",q+"px");if(q+1<this.$DockingElement10||q-1>this.$DockingElement10){this.$DockingElement10=q;this.$DockingElement1&&this.$DockingElement1.inform("changedheight")}}else if(this.$DockingElement7){c("Style").set(l,"height","");c("Style").apply(this.$DockingElement13,{left:"",top:"",width:""});c("CSS").removeClass(this.$DockingElement13,"fixed_elem");this.$DockingElement7=false;this.$DockingElement2=null;this.$DockingElement3=null;this.$DockingElement4=null}};j.prototype.update=function(){"use strict";this.__queryDOM();this.__updateWithCache()};j.prototype.getPlaceholder=function(){"use strict";return this.$DockingElement9};j.prototype.getRoot=function(){"use strict";return this.$DockingElement13};j.prototype.setOffset=function(k){"use strict";this.$DockingElement8=k;this.update();return this};f.exports=j}),null);
__d("StickyRHC",["csx","$","Arbiter","DirectionalDockingElement","DockingElement","DOMDimensions","DOMQuery","Event","Run","SubscriptionsHandler","ViewportBounds","JSReliabilityFixesGatingConfig","ge","getElementPosition","getViewportDimensions","removeFromArray","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=35,j=[],k;function l(z,A){__p&&__p();if(!A||!A.dom_id){j.forEach(m);return}var B=c("$")(A.dom_id);for(var C=0;C<j.length;C++)if(c("DOMQuery").contains(j[C].getRoot(),B)){m(j[C]);return}}function m(z){__p&&__p();var A=z.getRoot(),B=z.updateOffset.bind(z),C=c("DOMQuery").scry(A,"img.img");C.forEach(function(D){if(D.complete||D.getAttribute("height")||D.naturalHeight===undefined&&D.naturalHeight!==0)return;var E=function E(){B();F.remove();G.remove();H.remove()},F=c("Event").listen(D,"load",E),G=c("Event").listen(D,"error",E),H=c("Event").listen(D,"abort",E)});B()}function n(){j.forEach(function(z){z.updateOffset()})}function o(){n();n()}function p(z){var A=c("DOMQuery").scry(z,"._4-u2"),B=c("DOMQuery").scry(z,"._4-u3"),C=c("DOMQuery").scry(z,".uiHeader"),D=c("DOMQuery").scry(z,".ego_unit");return[].concat(A,B,C,D).filter(function(E){return t(E)!==0})}function q(z){return c("getElementPosition")(z).y}function r(z,A){return z-A}function s(){return t(c("ge")("pageFooter"))}function t(z){return z?c("DOMDimensions").getElementDimensions(z).height:0}var u=v(n);function v(z){return function(A){return c("Arbiter").subscribe(A,z)}}function w(z,A){__p&&__p();var B=arguments.length<=2||arguments[2]===undefined?true:arguments[2],C=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";this.$StickyRHC1=z;this.$StickyRHC2=A?new(c("DirectionalDockingElement"))(z):new(c("DockingElement"))(z,C);this.$StickyRHC3=B;this.$StickyRHC2.subscribe("changedheight",this.updateOffset.bind(this));this.updateOffset();m(this);if(!j.length){k=new(c("SubscriptionsHandler"))();k.addSubscriptions(u("header_loaded"),u("responsive_rhc_loaded"),u("browse_top_filters_full_width_displayed"),u("search_top_bar_displayed"),u("ad_home_pagelet_loaded"),c("Arbiter").subscribe("netego_loaded",l),c("Arbiter").subscribe("video_fullscreen_change",o),c("Event").listen(window,"resize",c("throttle")(n)))}c("Run").onLeave(function(){return this.destroy()}.bind(this));j.push(this)}w.getInstances=function(){"use strict";return j};w.prototype.getRoot=function(){"use strict";return this.$StickyRHC1};w.prototype.subscribe=function(event,z){"use strict";return this.$StickyRHC2.subscribe(event,z)};w.prototype.destroy=function(){"use strict";this.$StickyRHC2=null;c("removeFromArray")(j,this);if(!j.length&&k){k.release();k=null}};w.prototype.unfixAndScrollBy=function(z){"use strict";if(c("JSReliabilityFixesGatingConfig").should_get_fix)this.$StickyRHC2&&this.$StickyRHC2.unfixAndScrollBy(z);else this.$StickyRHC2.unfixAndScrollBy(z)};w.prototype.updateOffset=function(){"use strict";if(c("JSReliabilityFixesGatingConfig").should_get_fix)this.$StickyRHC2&&this.$StickyRHC2.setOffset(this.calculateRHCOffset());else this.$StickyRHC2.setOffset(this.calculateRHCOffset())};w.prototype.calculateRHCOffset=function(){"use strict";__p&&__p();var z=this.getRoot(),A=t(z),B=x(),C=y();if(A<C)return B;if(this.$StickyRHC3){var D=p(z).map(q).sort(r),E=A+q(z);for(var F=D,G=Array.isArray(F),H=0,F=G?F:F[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=F.length)break;I=F[H++]}else{H=F.next();if(H.done)break;I=H.value}var J=I,K=E-J;if(K<C)return B-(A-K)}}return B-(A-C)};function x(){return c("ViewportBounds").getTop()}function y(){var z=x(),A=c("getViewportDimensions")().height,B=s();return A-z-i-B}f.exports=w}),null);
__d("FeedAdsGapRuleViolationDetectionFix",["csx","Banzai","BanzaiODS","CSS","DataAttributeUtils","DOM","ge","isEmpty","$"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="ei",j="qid",k="gap rule violation",l="non violating ads gap",m="non violating ego gap",n="first position violation",o="not first position violation",p="feed load",q="first position invalidation",r="spacing invalidation",s="ego_pymk",t="ego_other",u=[],v=[],w=[],x=[],y=[],z={},A={},B={},C=[],D={registerFeedStories:function E(F,G){__p&&__p();if(F.containerID=="substream_0"){u=[];v=[]}var H=c("ge")(F.containerID);if(!H)return;B=F.egoGapRule;C=F.invalidateEgo?F.egoStories:{};z=babelHelpers["extends"]({},F.demoAdChecks,z);var I=D._getAllStoriesFromContainer(H);if(F.isLoggingEnabled&&I.length!==0)D._logFeedLoad();if(F.isNewerStories)u=I.concat(u);else u=u.concat(I);for(var J in F.minGaps)if(Object.prototype.hasOwnProperty.call(F.minGaps,J))A[J]=F.minGaps[J];if(c("isEmpty")(z)){if(F.isLoggingEnabled)D._checkFirstPosViolation(F,H);if(F.isLoggingEnabled||F.isGapRuleInvalidationEnabled)D._checkGapRuleViolation(F)}},_getAllStoriesFromContainer:function E(F){return c("DOM").scry(F,"div._5jmm").map(D._convertStoryNodeToObject).filter(function(G){return G!==null})},_convertStoryNodeToObject:function E(F){__p&&__p();if(c("CSS").matchesSelector(F,"._170y"))return null;var G=F.getAttribute("data-dedupekey");if(z[G])return null;var H=c("DOM").scry(F,"div._hye"),I=c("DOM").scry(F,"li._170x"),J=[];if(H.length!==0)J=H.map(function(M){return c("DataAttributeUtils").getDataFt(M)}).filter(function(M){return M!==null});else if(I.length!==0)J=I.map(function(M){return c("DataAttributeUtils").getDataFt(M)}).filter(function(M){return M!==null});else if(c("DataAttributeUtils").getDataFt(F))J=[c("DataAttributeUtils").getDataFt(F)];if(!J.length)return null;var K=JSON.parse(J[0]),L={dataFTArray:J,dedupKey:G,isSponsored:!!K[i],isEgoPymk:C[G]===s,isEgoOther:C[G]===t,height:F.offsetHeight,qid:parseInt(K[j],10),nodeID:F.id};return L},_checkFirstPosViolation:function E(F,G){__p&&__p();if(u.length>0&&!u[0].isSponsored){var H={qid:u[0].qid};if(F.isLoggingEnabled&&!(u[0].dedupKey in y)){D._logNotFirstPosViolation(H);y[u[0].dedupKey]=H}}while(u.length>0&&u[0].isSponsored){var H={ftArray:u[0].dataFTArray,qid:u[0].qid,nodeid:u[0].nodeID,firstStoryType:F.firstStoryType},I=c("DOM").scry(G,".uiBoxRed")[0];if(I){var J=I.textContent||I.innerText;if(J)H.error_msg=J}if(F.isLoggingEnabled&&!(u[0].dedupKey in x)){D._logFirstPosViolation(H);x[u[0].dedupKey]=H}break}},_getMinGap:function E(F,G,H){var I=Math.min(F?F:Number.MAX_VALUE,G?G:Number.MAX_VALUE);return I!==Number.MAX_VALUE?I:H},_getStoryDedupKeys:function E(){return u.map(function(F){return F.dedupKey})},_getStoryDedupKeysJSONString:function E(F,G){var H=[];for(var I=F;I<=G;I++)H.push(u[I].dedupKey);return JSON.stringify(H)},_getIdxOfStoryToSwap:function E(F,G){__p&&__p();if(G>=u.length-F)return-1;for(var H=F+1;H<u.length&&G>0;H++){if(!u[H].isSponsored&&!u[H].isEgoPymk&&!u[H].isEgoOther)G--;else return-1;if(G===0)return H}return-1},_checkGapRuleViolation:function E(F){__p&&__p();var G=null,H=null,I=null;for(var J=0;J<u.length;J++){var K=u[J],L=c("ge")(K.nodeID);if(!L||!c("CSS").shown(L)){u.splice(J,1);continue}if(K.isSponsored){var M=false,N=false;if(H!==null){var O=J-H,P=null,Q=null;if(G===H)Q=D._getMinGap(A[I.dedupKey],A[K.dedupKey],F.defaultMinGap);else Q=D._getMinGapBetweenStories(I,K);var R=null;if(O<Q){P=k;R=H}else{P=l;R=G}if(F.isLoggingEnabled)if(!(K.dedupKey in v)||v[K.dedupKey].event_type!==P){D._logGapEvent(P,R,J);v[K.dedupKey]={event_type:P}}if(F.isGapRuleInvalidationEnabled&&P==k){var S=-1;if(F.isSwapOnGapRuleViolationEnabled)S=D._getIdxOfStoryToSwap(J,Q-O);if(S>0){D._shiftAdOrEgoBelowOrganicStory(K.nodeID,u[S].nodeID);var T=u[J];u.splice(J,1);u.splice(S,0,T);if(F.isLoggingEnabled){var U={ft:u[S].dataFTArray[0],dist:S-J,qid:u[S].qid,event_type:"ad_swap"};c("Banzai").post("feed_ads_gap_rule_violation",U)}N=true}else if(F.isGapRuleInvalidationEnabled){D._invalidateGapRuleViolatedAd(I,K);M=true;u.splice(J--,1)}}}if(!M&&!N){G=J;H=J;I=K}}if(F.invalidateEgo&&(K.isEgoPymk||K.isEgoOther)){var V=false;if(H!==null){var W=J-H,X=D._getMinGapBetweenStories(I,K);if(W<X){V=true;var Y=-1,Z=X-W,$=J+1;for(;$<u.length;$++){if(u[$].isSponsored||u[$].isEgoPymk||u[$].isEgoOther)break;else Z--;if(Z===0){Y=$;break}}if(Y>0)D._swapAndLogEgo(J,$);else{D._invalidateAndLogEgo(J);J--}}else if(F.shouldLogEgo&&!w[K.dedupKey]){w[K.dedupKey]=true;D._logGapEvent(m,H,J)}}if(!V){H=J;I=K}}}},_getMinGapBetweenStories:function E(F,G){__p&&__p();var H="";if(F.isSponsored||F.isEgoOther)H="ad";else if(F.isEgoPymk)H="pymk";else return 0;var I="";if(G.isSponsored||G.isEgoOther)I="ad";else if(G.isEgoPymk)I="pymk";else return 0;return B[H+"_"+I]},_swapAndLogEgo:function E(F,G){D._shiftAdOrEgoBelowOrganicStory(u[F].nodeID,u[G].nodeID);var H=u[F];u.splice(F,1);u.splice(G,0,H);c("BanzaiODS").bumpEntityKey("feed_ego_invalidation","swap")},_invalidateAndLogEgo:function E(F){var G=c("ge")(u[F].nodeID);G&&c("CSS").hide(G);u.splice(F,1);c("BanzaiODS").bumpEntityKey("feed_ego_invalidation","invalidate")},_logFirstPosViolation:function E(F){var G={ft:F.ftArray[0],event_type:n,intValues:{qid:F.qid},first_story_type:F.firstStoryType};if(F.error_msg)G.error_msg=F.error_msg;c("Banzai").post("feed_ads_gap_rule_violation",G)},_logNotFirstPosViolation:function E(F){var G={event_type:o,intValues:{qid:F.qid}};if(F.error_msg)G.error_msg=F.error_msg;c("Banzai").post("feed_ads_gap_rule_violation",G)},_logGapEvent:function E(F,G,H){if(G===null)return;var I=u[G],J=u[H],K=0;for(var L=G+1;L<H;L++)K+=u[L].height;var M={ft_A:I.dataFTArray[0],ft_B:J.dataFTArray[0],event_type:F,intValues:{dist:H-G,pdist:K,pos:H+1,qid_A:I.qid,qid_B:J.qid},strValues:{previous_unit_type:D._getUnitTypeForLogging(I),unit_type:D._getUnitTypeForLogging(J)},dedup_keys:D._getStoryDedupKeysJSONString(G,H)};c("Banzai").post("feed_ads_gap_rule_violation",M)},_getUnitTypeForLogging:function E(F){if(F.isSponsored)return"ad";else if(F.isEgoPymk)return"pymk";else if(F.isEgoOther)return"ego_other";return null},_logFeedLoad:function E(){var F={event_type:p};c("Banzai").post("feed_ads_gap_rule_violation",F)},_invalidateFirstPosAd:function E(F){c("CSS").hide(c("$")(F.nodeid));var G={ft_array:F.ftArray,event_type:q};c("Banzai").post("feed_ads_gap_rule_violation",G)},_invalidateGapRuleViolatedAd:function E(F,G){var H=c("ge")(G.nodeID);H&&c("CSS").hide(H);var I={ft_array_A:F.dataFTArray[0],ft_array_B:G.dataFTArray[0],event_type:r};c("Banzai").post("feed_ads_gap_rule_violation",I)},_shiftAdOrEgoBelowOrganicStory:function E(F,G){var H=c("ge")(F),I=c("ge")(G);H&&I&&c("DOM").insertAfter(I,H)}};f.exports=D}),null);
__d("FeedErrorDetection",["csx","Banzai","CSS","DataAttributeUtils","DOM","ge"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=0,j={},k=false,l=false;function m(event,o,p,q){var r={event:event,shouldLogDetail:o,site:"www"};if(o){r.intValues=p;r.normalValues=q}c("Banzai").post("feed_error_detection",r,{delay:0})}var n={registerFeedStories:function o(p,q){__p&&__p();if(p=="substream_0"){i=0;j={};k=false;l=false}var r=c("DOM").scry(c("ge")(p),"._5jmm"),s=r.length;if(!s&&!k){if(!l){l=true;return}if(!i)m("empty_feed_js",q,{},{});else m("end_of_feed_js",q,q?{stories_count:i}:{},{});k=true;return}l=false;for(var t=0;t<s;t++){var u=r[t],v=u.getAttribute("data-dedupekey"),w=c("DataAttributeUtils").getDataFt(u);if(!v||!w)continue;if(v in j){var x={};if(q)x={dedupKey:v,ft_A:w,ft_B:j[v]};m("duplicate_stories",q,{},{dup_field:x})}else{j[v]=w;i++}}}};f.exports=n}),null);
__d("StoryPositionTracking",["csx","DataAttributeUtils","DOM","ge"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="._5jmm",j=0,k={registerNewStories:function l(m){if(m=="substream_0")j=0;c("DOM").scry(c("ge")(m),i).forEach(function(n){var o=JSON.parse(c("DataAttributeUtils").getDataFt(n));if(o){o.insertion_position=j++;c("DataAttributeUtils").setDataFt(n,JSON.stringify(o))}})}};f.exports=k}),null);
__d("StreamViewportTracking",["DataAttributeUtils","DOM","DOMDimensions","ViewportTracking","ge","recordTNTreeData","viewportTrackingBuilder"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=51;function k(n,o,p){__p&&__p();var q=arguments.length<=3||arguments[3]===undefined?j:arguments[3];return{_stream:null,getDataFromConfig:function r(s,t){t.isTimetrackingEnabled=true},getAllStories:function r(){var s=c("DOM").scry(this.getStream(),p);return s.filter(function(t){return c("DataAttributeUtils").getDataFt(t)})},getStream:function r(){if(o)return o;if(!this._stream)this._stream=c("ge")("home_stream");return this._stream},getStoryID:function r(s){var t=JSON.parse(c("DataAttributeUtils").getDataFt(s));return t&&t.mf_story_key},getDataToLog:function r(s){__p&&__p();var t=this.getStream(),u=c("recordTNTreeData")(s,t),v=s.getAttribute("data-insertion-position");if(v!==null)u.inspos=v;u.evt=q;u.vpv_time=Math.round(Date.now()/1e3);var w=c("DOM").scry(s,".fbStoryAttachmentImage")[0];if(w){var x=c("DOMDimensions").getElementDimensions(w);u.story_image_height=x.height;u.story_image_width=x.width}return{ft:u}}}}h=babelHelpers.inherits(l,c("ViewportTracking"));i=h&&h.prototype;l.prototype.getQueryID=function(n){var o=JSON.parse(c("DataAttributeUtils").getDataFt(n));return o.qid};l.prototype.getFBFeedLocations=function(n){var o=JSON.parse(c("DataAttributeUtils").getDataFt(n));return o.fbfeed_location};l.prototype.getFBFeedInsertionPosition=function(n){var o=JSON.parse(c("DataAttributeUtils").getDataFt(n));return o.insertion_position};l.prototype.getTimetrackingDataToLog=function(n){__p&&__p();var o=i.getTimetrackingDataToLog.call(this,n);if(this.ctaLoggingEnabled){var p=c("DOM").scry(n.story,"[data-is-cta]").map(function(q){var r=c("DataAttributeUtils").getDataFt(q),o=r&&JSON.parse(r);return o&&o.cta_types}).filter(function(q){return!!q});if(p.length>0)o.ft.cta_types=p}return o};l.prototype.cleanup=function(){m.clearSingleton();i.cleanup.call(this)};function l(){h.apply(this,arguments)}var m=c("viewportTrackingBuilder")(function(n,o){var p=new l(k(n,o,".uiStreamStory"));p.init(n);return p});l.factory=m.factory.bind(m);l.singleton=m.singleton.bind(m);l.clearSingleton=m.clearSingleton.bind(m);l.getBehavior=k;f.exports=l}),null);
__d("FbFeedAccessible",["csx","fbt","invariant","AccessibilityConfig","Arbiter","ARIA","CSS","DataAttributeUtils","DOMQuery","LitestandMessages","SubscriptionsHandler","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k="Accessibility/StoriesRequested",l="Accessibility/StoriesLoaded",m="Accessibility/StoryContentInserted",n="Accessibility/SubstreamInserted",o=void 0,p=void 0,q={init:function r(s){o=s;if(c("AccessibilityConfig").a11yNewsfeedStoryEnumeration){var t=new(c("SubscriptionsHandler"))();t.addSubscriptions(c("Arbiter").subscribe(c("LitestandMessages").STORIES_REQUESTED,this._onStoriesRequested.bind(this)),c("Arbiter").subscribe(c("LitestandMessages").STORIES_INSERTED,this._onInsertedSubstream.bind(this)),c("Arbiter").subscribe(c("LitestandMessages").NEWER_STORIES_INSERTED,this._onInsertedSubstream.bind(this)),c("Arbiter").subscribe(l,this._processStoriesLoaded.bind(this)),c("Arbiter").subscribe(k,this._processStoriesRequested.bind(this)),c("Arbiter").subscribe(m,this._processStoryContentInserted.bind(this)),c("Arbiter").subscribe(n,this._processInsertedSubstream.bind(this)));this._enumerateStories()}},informStoryContentInserted:function r(s){c("Arbiter").inform(m,s);var t=c("ge")(s);if(t&&this._isStory(t)){this.setARIARole(t);this.setAriaLabelledBy(t);this.setAriaDescribedBy(t)}},setARIARole:function r(s){s.setAttribute("role","article")},setAriaLabelledBy:function r(s){if(s.getAttribute("aria-labelledby"))return;var t=this._filterForElement(s,["._5pbw"]);if(t.length>0)s.setAttribute("aria-labelledby",t.map(function(u){return c("getOrCreateDOMID")(u)}).join(" "))},setAriaDescribedBy:function r(s){if(s.getAttribute("aria-describedby"))return;var t=this._filterForElement(s,[".timestampContent","._5pbx"]);if(t.length>0)s.setAttribute("aria-describedby",t.map(function(u){return c("getOrCreateDOMID")(u)}).join(" "))},_getStories:function r(s){return c("DOMQuery").scry(s||o,"._5jmm")},_onInsertedSubstream:function r(s,t){if(t&&t.substream_id)c("Arbiter").inform(n,t.substream_id)},_onStoriesRequested:function r(){c("Arbiter").inform(k)},_enumerateStories:function r(){var s=this._getStories(o);p=s.length;s.forEach(function(t,u){this._enumerateStory(t,u+=1)}.bind(this))},_enumerateSubstream:function r(s){var t=this._getStories();p=t.length;var u=this._getStories(c("ge")(s)),v=u.length||0;for(var w=0;w<v;w++)this._registerStoryEnumerationPosition(u[w],p-v+(w+1),w+1)},_enumerateStory:function r(s,t){this._isStory(s)||j(0);if(t>0){s.setAttribute("aria-posinset",""+t);s.setAttribute("aria-setsize",p)}},_processStoriesLoaded:function r(){c("ARIA").notify(i._("More stories loaded."))},_processStoriesRequested:function r(){c("ARIA").notify(i._("More stories requested."))},_processInsertedSubstream:function r(s,t){this._enumerateSubstream(t);this._enumerateStories()},_processStoryContentInserted:function r(s,t){__p&&__p();var u=void 0,v=c("ge")(t);if(v)u=JSON.parse(c("DataAttributeUtils").getDataFt(v));if(u&&u.ordinal_position){var w=u.ordinal_position.split(":"),x=w[0],y=w[1];x=parseInt(x,10);y=parseInt(y,10);this._enumerateStory(v,x);if(y===1)c("Arbiter").inform(l)}},_registerStoryEnumerationPosition:function r(s,t,u){var v=JSON.parse(c("DataAttributeUtils").getDataFt(s));if(v){v.ordinal_position=t+":"+u;c("DataAttributeUtils").setDataFt(s,JSON.stringify(v))}},_isStory:function r(s){return c("CSS").matchesSelector(s,"._5jmm")},_filterForElement:function r(s,t){return t.map(function(u){return c("DOMQuery").scry(s||document,u)[0]}).filter(function(u){return!!u})}};f.exports=q}),null);
__d("FbFeedAttachmentRelatedShare",["csx","Arbiter","AttachmentIssueDiversityShareConstants","AttachmentRelatedShareConstants","DOMQuery","Event","tidyEvent"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={loadRelatedAttachment:function j(k,l){c("tidyEvent")(c("Event").listen(k,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:k,global_share_id:l})}))},loadRelatedGameAttachment:function j(k,l){c("tidyEvent")(c("Event").listen(k,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:k,global_share_id:l})}))},loadRelatedAttachmentForStream:function j(k){i._loadChainableAttachmentForStreamImpl(k,c("AttachmentRelatedShareConstants").ARTICLE_CLICK)},loadIssueDiversityAttachmentForStream:function j(k){i._loadChainableAttachmentForStreamImpl(k,c("AttachmentIssueDiversityShareConstants").ARTICLE_CLICK)},_loadChainableAttachmentForStreamImpl:function j(k,l){__p&&__p();var m=function m(event,n){var o=event.getTarget();if(o.getAttribute("target")!=="_blank")return;var p="^div._5pbx",q="^div._5pc9",r=c("DOMQuery").scry(o,p)[0]||c("DOMQuery").scry(o,q)[0];if(!r)return;c("Arbiter").inform(l,{attachment:r,global_share_id:0,link_url:o.getAttribute("href"),is_right_click:n})};c("tidyEvent")(c("Event").listen(k,"click",function(event){m(event,false)}));c("tidyEvent")(c("Event").listen(k,"mousedown",function(event){if(event.which==3||event.button==2)m(event,true)}))}};f.exports=i}),null);
__d("FbFeedHighlight",["cx","CSS","DOM","DOMScroll","JSXDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=1e3,j=1e3,k=null;function l(){return c("JSXDOM").div({className:"_1usz"},c("JSXDOM").div({className:"_1us-"}),c("JSXDOM").div({className:"_1us_"}),c("JSXDOM").div({className:"_1ut0"}),c("JSXDOM").div({className:"_1ut1"}))}var m={highlightAndScrollTo:function n(o){m.highlightAndScrollToWithTime(o,j,0)},highlightAndScrollToWithTime:function n(o,p,q){m.highlightWithTime(o,p);m.scrollTo(o,q,0)},highlightSingle:function n(o){m.highlightSingleWithTime(o,j)},highlightSingleWithTime:function n(o,p){__p&&__p();var q=l();c("DOM").appendContent(o,q);setTimeout(function(){if(k)c("DOM").remove(k);k=q;c("CSS").addClass(o,"_1ut2")},0);setTimeout(function(){c("CSS").removeClass(o,"_1ut2");setTimeout(function(){c("DOM").remove(q);if(q==k)k=null},i+p)},i+p)},highlight:function n(o){m.highlightWithTime(o,j)},highlightWithTime:function n(o,p){var q=m.highlightPermanent(o);setTimeout(function(){c("CSS").removeClass(o,"_1ut2");setTimeout(c("DOM").remove.bind(null,q),i+i)},i+p)},highlightPermanent:function n(o){var p=l();c("DOM").appendContent(o,p);setTimeout(c("CSS").addClass.bind(null,o,"_1ut2"),0);return p},scrollTo:function n(o,p,q){setTimeout(c("DOMScroll").scrollTo.bind(null,o,750,false,false,p),q)}};f.exports=m}),null);
__d("FbFeedKeyboardController",["csx","cx","CSS","DOM","DOMQuery","FbFeedHighlight","FeedBaseKeyboardController","Focus","JSXDOM","Parent","ge","getActiveElement"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;function l(o){if(o.previousElementSibling instanceof HTMLElement)return o.previousElementSibling;var p=o.previousSibling;while(p&&!(p instanceof HTMLElement))p=p.previousSibling;return p||null}function m(o){if(o.nextElementSibling instanceof HTMLElement)return o.nextElementSibling;var p=o.nextSibling;while(p&&!(p instanceof HTMLElement))p=p.nextSibling;return p||null}j=babelHelpers.inherits(n,c("FeedBaseKeyboardController"));k=j&&j.prototype;n.prototype.getStories=function(o){"use strict";return c("DOMQuery").scry(o||this.root,"._5jmm")};n.prototype.isHoldoutStory=function(o){"use strict";return!!o&&c("CSS").hasClass(o,"holdoutAdStory")};n.prototype.isRelevantStory=function(o){"use strict";return o instanceof HTMLElement&&!this.isHoldoutStory(o)};n.prototype.isStory=function(o){"use strict";return c("CSS").matchesSelector(o,"._5jmm")};n.prototype.clickLike=function(){"use strict";__p&&__p();var o=this.$FbFeedKeyboardController1();this.clickElement(o,".UFILikeLink");if(o!==this.selected)return;var p=this.getParentStory(c("getActiveElement")());if(p){var q=c("DOMQuery").scry(p,".UFILikeLink");for(var r=0;r<q.length;r++)if(!c("CSS").hasClass(q[r],"accessible_elem"))c("Focus").setWithoutOutline(q[r])}};n.prototype.clickComment=function(){"use strict";this.clickElement(this.$FbFeedKeyboardController1(),".comment_link")};n.prototype.clickShare=function(){"use strict";this.click(".share_action_link")};n.prototype.clickSeeMore=function(){"use strict";this.click(".see_more_link")};n.prototype.clickLeft=function(){"use strict";this.click("._1mri")};n.prototype.clickRight=function(){"use strict";this.click("._2fu-")};n.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",".uiVideoThumb")};n.prototype.getHeadline=function(o){"use strict";return c("DOMQuery").scry(o,"h5._5pbw")[0]};n.prototype.$FbFeedKeyboardController2=function(o){"use strict";var p=c("Parent").bySelector(o,"._5pcb"),q=c("ge")("pagelet_soft_permalink_posts");return!!(p||q&&c("DOM").contains(q,o))};n.prototype.getPreviousSibling=function(o){"use strict";__p&&__p();var p=l(o);if(p&&this.getParentStory(p))return p;p=null;if(this.$FbFeedKeyboardController2(o)){var q=this.getStories(this.root),r=q.indexOf(o);while(r>-1){if(r===0){p=c("ge")("pagelet_composer");p=p&&c("Parent").bySelector(p,"._5jmm")}else if(r>0){p=q[r-1];if(p.offsetHeight>0)break}r--}}if(p instanceof HTMLElement)return p;return this.selected};n.prototype.getPreviousStory=function(o){"use strict";var p=this.getPreviousSibling(o);while(p&&!this.isStory(p))p=this.getPreviousSibling(p);return p};n.prototype.getParentStory=function(o){"use strict";var p=c("Parent").bySelector(o,"._5jmm");return p instanceof HTMLElement?p:null};n.prototype.getNextSibling=function(o){"use strict";__p&&__p();var p=m(o);if(p&&this.getParentStory(p))return p;p=null;if(this.$FbFeedKeyboardController2(o)){var q=this.getStories(this.root),r=q.indexOf(o);if(r>-1){p=q[++r];while(p&&p.offsetHeight===0)p=q[++r]}}else if(c("ge")("pagelet_composer",o))p=c("DOMQuery").scry(document,"div._5pcb ._5jmm")[0];return p||this.selected};n.prototype.getNextStory=function(o){"use strict";var p=this.getNextSibling(o);while(p&&!this.isStory(p))p=this.getNextSibling(p);return p};n.prototype.setSelected=function(o,p){"use strict";__p&&__p();if(o){var q="_5qdu",r=c("DOMQuery").scry(o,"._5qdu");if(!r.length&&p)c("DOM").prependContent(o,c("JSXDOM").div({className:q}))}if(p){this.selected&&this.setTabindexOnStory(this.selected,"-1");this.selected&&c("CSS").removeClass(this.selected,"_5qdv");this.selected=o;o&&this.setTabindexOnStory(o,"0");o&&c("CSS").addClass(o,"_5qdv");o&&c("FbFeedHighlight").highlightSingle(o)}};n.prototype.$FbFeedKeyboardController1=function(){"use strict";var o=c("DOM").scry(this.selected,"._1qch");if(o.length>0)return c("DOM").scry(this.selected,"._3el7")[0];return this.selected};n.init=function(o){"use strict";return new n(o)};function n(){"use strict";j.apply(this,arguments)}f.exports=n}),null);
__d("FbFeedViewportTracking",["csx","Arbiter","LitestandMessages","LitestandStream","StreamViewportTracking","viewportTrackingBuilder"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("StreamViewportTracking"));j=i&&i.prototype;k.prototype.init=function(n){j.init.call(this,n);this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("LitestandMessages").STORIES_INSERTED,function(){return this.invalidateAllStoriesCache()}.bind(this)),c("Arbiter").subscribe(c("LitestandMessages").LEAVE_HOME,function(){return this.updateTimeTrackingData(true)}.bind(this)))};k.prototype.getSessionID=function(){return c("LitestandStream").isReady()?c("LitestandStream").getFeedStreamID():null};k.prototype.cleanup=function(){l.clearSingleton();j.cleanup.call(this)};function k(){i.apply(this,arguments)}var l=c("viewportTrackingBuilder")(function(n){var o=c("StreamViewportTracking").getBehavior(n,c("LitestandStream").getStreamRoot(),"._5jmm"),p=new k(o);p.init(n);return p}),m=babelHelpers["extends"]({},l,{init:function n(o){return this.factory(o)}});f.exports=m}),null);
__d("UIForm",["ArbiterMixin","BehaviorsMixin","DOM","Event","Form","Run","areJSONRepresentationsEqual","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function j(k,l,m,n,o){"use strict";__p&&__p();i.constructor.call(this);this._root=k;this.controller=k;this._message=l;if(n){this._confirm_dialog=n;n.subscribe("confirm",this._handleDialogConfirm.bind(this));c("DOM").prependContent(this._root,c("DOM").create("input",{type:"hidden",name:"confirmed",value:"true"}))}c("Run").onAfterLoad(function(){this._originalState=c("Form").serialize(this._root)}.bind(this));this._forceDirty=m;this._confirmed=false;this._submitted=false;c("Event").listen(this._root,"submit",this._handleSubmit.bind(this));if(o&&o.length)this.enableBehaviors(o);var p=true;c("Run").onBeforeUnload(this.checkUnsaved.bind(this),p)}j.prototype.getRoot=function(){"use strict";return this._root};j.prototype._handleSubmit=function(){"use strict";if(this._confirm_dialog&&!this._confirmed){this._confirm_dialog.show();return false}if(this.inform("submit")===false)return false;this._submitted=true;return true};j.prototype._handleDialogConfirm=function(){"use strict";this._confirmed=true;this._confirm_dialog.hide();if(this._root.getAttribute("ajaxify"))c("Event").fire(this._root,"submit");else if(this._handleSubmit())this._root.submit()};j.prototype.reset=function(){"use strict";this.inform("reset");this._submitted=false;this._confirmed=false};j.prototype.isDirty=function(){"use strict";if(this._submitted||!c("DOM").contains(document.body,this._root))return false;if(this._forceDirty)return true;if(!this._originalState)return false;var k=c("Form").serialize(this._root);return!c("areJSONRepresentationsEqual")(k,this._originalState)};j.prototype.checkUnsaved=function(){"use strict";if(this.isDirty())return this._message;return null};f.exports=b.UIForm||j}),null);
__d("ContextualLayerPositionClassOnContext",["cx","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k){"use strict";this._layer=k}i.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("reposition",this._updateClassName.bind(this));if(this._layer.isShown())this._updateClassName()};i.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;if(this._prevClassName){c("CSS").removeClass(this._layer.getContext(),this._prevClassName);this._prevClassName=null}};i.prototype._updateClassName=function(k,l){"use strict";var m=this._layer.getContext(),n=j(l);if(this._prevClassName){if(this._prevClassName===n)return;c("CSS").removeClass(m,this._prevClassName)}c("CSS").addClass(m,n);this._prevClassName=n};function j(k){__p&&__p();var l=k.getAlignment(),m=k.getPosition();if(m==="below")if(l==="left")return"_nk";else if(l==="right")return"_nl";else return"_nm";else if(m==="above")if(l==="left")return"_nn";else if(l==="right")return"_no";else return"_np";else if(m==="left")return"_nq";else return"_nr"}Object.assign(i.prototype,{_subscription:null,_prevClassName:null});f.exports=i}),null);
__d("hasAdblock",["Promise","AdsAdBlockConfig","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=void 0;function i(){__p&&__p();var l=document.createElement("div");l.className="AdBox Ad advert";document.body.appendChild(l);return new(c("Promise"))(function(m){__p&&__p();var n=window.getComputedStyle&&window.getComputedStyle(l);if(!n){m(false);return}if(n.display==="none"){m(true);return}if(n.MozBinding&&n.MozBinding.indexOf("url")===0){setTimeout(function(){return m(l.clientWidth===0)},5e3);return}m(false)})}function j(){__p&&__p();var l=document.createElement("img");document.body.appendChild(l);return new(c("Promise"))(function(m){l.onload=function(){var o=window.getComputedStyle&&window.getComputedStyle(l),p=o&&o.display==="none";l.parentNode&&l.parentNode.removeChild(l);m(p)};l.onerror=function(){l.parentNode&&l.parentNode.removeChild(l);m(true)};var n=new(c("URI"))("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png");l.src=n.toString()})}function k(l){if(h===undefined)c("Promise").all([i()].concat(c("AdsAdBlockConfig").shouldCheckImage?[j()]:[])).done(function(m){h=m.some(function(n){return n});l(h)});else l(h)}f.exports=k}),null);
__d("AdBlockerDetectorLogging",["Banzai","DataAttributeUtils","ErrorUtils","Run","getElementPosition","hasAdblock"],(function a(b,c,d,e,f,g){__p&&__p();var h=1,i=2,j=3,k="swank",l={doAdBlockCheck:function m(n,o){c("Run").onAfterLoad(function(){c("ErrorUtils").applyWithGuard(function(){this._doAdBlockImgCheck(n,o.token||o,0)}.bind(this),this)}.bind(this))},gatherImageHiddenStyleDebugData:function m(n,o){c("Run").onAfterLoad(function(){c("ErrorUtils").applyWithGuard(function(){this._gatherImageHiddenStyleDebugData(n,o.token||o)}.bind(this),this)}.bind(this))},_gatherImageHiddenStyleDebugData:function m(n,o){__p&&__p();if(!o||!n)return;var p=n.querySelectorAll("img"),q=[];if(p.length>0)for(var r=0;r<p.length;r++){var s=p[r],t=c("getElementPosition")(s);if(window.getComputedStyle(s).visibility==="hidden"){var u={w:t.width,h:t.height,ii:r,ic:p.length};q.push(u)}}if(q.length>0){var v=n,w=0;while(v!==null){if(w++>50)break;if(v){if(v.classList.contains("hidden_elem")||v.classList.contains("holdoutAdStory")||v.classList.contains("ego_ads_holdout"))return;v=v.parentElement}}for(r=0;r<q.length;r++)c("Banzai").post("xtrackable:"+k,{token:o,event_code:3,debug:q[r]})}},checkImageLoadStatus:function m(n){var o=this;c("ErrorUtils").applyWithGuard(function(){setTimeout(function(){o._checkImageLoadStatus(n)},1e4)},o)},_doAdBlockImgCheck:function m(n,o,p){__p&&__p();if(!o||!n)return;var q=n.querySelectorAll("img");if(q.length>0){var r=false,s=0;for(var t=0;t<q.length;t++){var u=q[t],v=c("getElementPosition")(u);if(v.width>0||v.height>0){if(window.getComputedStyle(u).visibility==="hidden")s++;r=true}}if(!r||s>0){var w=n,x=0;while(w!==null){if(x++>50)break;if(w){if(w.classList.contains("hidden_elem")||w.classList.contains("holdoutAdStory")||w.classList.contains("ego_ads_holdout"))return;w=w.parentElement}}if(s>0)c("Banzai").post("xtrackable:"+k,{token:o,event_code:2});if(!r)c("Banzai").post("xtrackable:"+k,{token:o})}}else if(q.length===0&&o.startsWith("7."))if(++p<5)setTimeout(function(){this._doAdBlockImgCheck(n,o,p)}.bind(this),2500)},_checkImageLoadStatus:function m(n){var o=n.querySelector("img");if(o&&(!o.complete||!o.naturalWidth)){var p=this._findParentImpressionToken(n);c("Banzai").post("xtrackable:"+k,{token:p,event_code:1})}},_findParentImpressionToken:function m(n){var o=c("DataAttributeUtils").getParentByAttributeOrDataStoreKey(n,"data-xt","data-xt");return o?c("DataAttributeUtils").getDataAttribute(o,"data-xt"):null},doHasAdBlockCheck:function m(){c("hasAdblock")(function(n){var o={};o[j]=n;c("Banzai").post("search_check",o)})},doBrowserExtensionCheck:function m(n,o){__p&&__p();try{var p=document.getElementsByTagName("head")[0],q=document.documentElement?document.documentElement.shadowRoot:null,r=[];if(q)r=Array.prototype.slice.call(q.querySelectorAll("style"));var s=Array.prototype.slice.call(p.querySelectorAll("style")).filter(function(v){return v&&v.textContent.length==0}),t={};t[h]=r.length>0;t[i]=s.length>0;if(n)r.forEach(function(v){v.disabled=true});if(o)s.forEach(function(v){v.disabled=true});c("Banzai").post("search_check",t)}catch(u){}}};f.exports=l}),null);
__d("GoodwillTemplateBanzaiLogger",["Banzai"],(function a(b,c,d,e,f,g){"use strict";var h={logClickEvent:function i(j,k){j.onclick=function(){if(k.goodwill_memories_and_celebrations)c("Banzai").post("goodwill_memories_and_celebrations",k.goodwill_memories_and_celebrations);if(k.goodwill_video)c("Banzai").post("goodwill_video",k.goodwill_video)}}};f.exports=h}),null);
__d("XDOMScannerResultsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ascend_mr_no/",{})}),null);