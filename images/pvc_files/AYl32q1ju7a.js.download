if (self.CavalryLogger) { CavalryLogger.start_js(["t3ZFv"]); }

__d("SATPInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$SATPInteractionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$SATPInteractionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SATPInteractionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SATPInteractionsTypedLogger1=babelHelpers["extends"]({},this.$SATPInteractionsTypedLogger1,j);return this};h.prototype.setCountry=function(j){this.$SATPInteractionsTypedLogger1.country=j;return this};h.prototype.setEventname=function(j){this.$SATPInteractionsTypedLogger1.eventname=j;return this};h.prototype.setPresetID=function(j){this.$SATPInteractionsTypedLogger1.preset_id=j;return this};h.prototype.setRankedPosition=function(j){this.$SATPInteractionsTypedLogger1.ranked_position=j;return this};h.prototype.setRequestedCollection=function(j){this.$SATPInteractionsTypedLogger1.requested_collection=j;return this};h.prototype.setServertime=function(j){this.$SATPInteractionsTypedLogger1.servertime=j;return this};h.prototype.setTrackingString=function(j){this.$SATPInteractionsTypedLogger1.tracking_string=j;return this};h.prototype.setUserActionString=function(j){this.$SATPInteractionsTypedLogger1.user_action_string=j;return this};h.prototype.setVC=function(j){this.$SATPInteractionsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$SATPInteractionsTypedLogger1=babelHelpers["extends"]({},this.$SATPInteractionsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={country:true,eventname:true,preset_id:true,ranked_position:true,requested_collection:true,servertime:true,tracking_string:true,user_action_string:true,vc:true};f.exports=h}),null);
__d("ReactComposerFormattedTextActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({SET_TEXT_FORMATS:null,SET_TEXT_FORMATS_TO_UNBADGE:null,SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null},"ReactComposerFormattedTextActionType")}),null);
__d("ReactComposerFormattedTextStore",["ReactComposerFormattedTextActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();i.constructor.call(this,function(){return{formattedTextPickerCollapsed:false,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:false,shouldFadeInPicker:false,textFormats:null,textFormatsToUnbadge:{}}},function(k){__p&&__p();switch(k.type){case c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore1(k);break;case c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore2(k);break;case c("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:this&&this.$ReactComposerFormattedTextStore3(k);break;case c("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER:this&&this.$ReactComposerFormattedTextStore4(k);break;case c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore5(k);break;case c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS_TO_UNBADGE:this&&this.$ReactComposerFormattedTextStore6(k);break;case c("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED:this&&this.$ReactComposerFormattedTextStore7(k);break}}.bind(this))}j.prototype.getTrackingString=function(k){var l=this.$ReactComposerFormattedTextStore8(this.getSelectedIndex(k),this.getComposerData(k).textFormats);if(l===null)l=this.$ReactComposerFormattedTextStore8(this.getPrevSelectedIndex(k),this.getComposerData(k).textFormats);return l!=null?l.trackingString:null};j.prototype.getTextFormatPresetID=function(k){return this.getComposerData(k).textFormatPresetID};j.prototype.getPrevSelectedTextFormatPresetID=function(k){return this.$ReactComposerFormattedTextStore9(this.getPrevSelectedIndex(k),this.getComposerData(k).textFormats)};j.prototype.getBackgroundColorIsActive=function(k){return this.getComposerData(k).selectedIndex>-1};j.prototype.getSelectedIndex=function(k){return this.getComposerData(k).selectedIndex};j.prototype.getPrevSelectedIndex=function(k){return this.getComposerData(k).prevSelectedIndex};j.prototype.getShouldAutoOpenWhenUserStartsTyping=function(k){return this.getComposerData(k).shouldAutoOpenWhenUserStartsTyping};j.prototype.getShouldFadeInPicker=function(k){return this.getComposerData(k).shouldFadeInPicker};j.prototype.getCollapsed=function(k){return this.getComposerData(k).formattedTextPickerCollapsed};j.prototype.getTextFormatsToUnbadge=function(k){return this.getComposerData(k).textFormatsToUnbadge};j.prototype.$ReactComposerFormattedTextStore1=function(k){var l=this.validateAction(k,["composerID","selectedIndex"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatPresetID=this.$ReactComposerFormattedTextStore9(n,o.textFormats);o.selectedIndex=n;o.prevSelectedIndex=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore2=function(k){var l=this.validateAction(k,["composerID","selectedIndex"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatPresetID=this.$ReactComposerFormattedTextStore9(n,o.textFormats);o.selectedIndex=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore3=function(k){var l=this.validateAction(k,["composerID","shouldAutoOpenWhenUserStartsTyping"]),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldAutoOpenWhenUserStartsTyping=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore4=function(k){var l=this.validateAction(k,["composerID","shouldFadeInPicker"]),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldFadeInPicker=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore5=function(k){var l=this.validateAction(k,["composerID","textFormats"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormats=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore6=function(k){var l=this.validateAction(k,["composerID","textFormatsToUnbadge"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatsToUnbadge=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore7=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.formattedTextPickerCollapsed=!m.formattedTextPickerCollapsed;this.emitChange(l)};j.prototype.$ReactComposerFormattedTextStore9=function(k,l){var m=this.$ReactComposerFormattedTextStore8(k,l);if(m&&m.presetID)return m.presetID;return null};j.prototype.$ReactComposerFormattedTextStore8=function(k,l){if(k!=null&&k!==-1&&l&&Object.prototype.hasOwnProperty.call(l,k))return l[k];return null};f.exports=new j()}),null);
__d("ReactComposerFormattedTextActions",["ReactComposerDispatcher","ReactComposerFormattedTextActionType","ReactComposerFormattedTextStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ReactComposerFormattedTextStore");h.prototype.setSelectedIndex=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX,selectedIndex:j})};h.prototype.setSelectedIndexButNotPrevSelectedIndex=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:j})};h.prototype.setShouldAutoOpenWhenUserStartsTyping=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:j})};h.prototype.setShouldFadeInPicker=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:j})};h.prototype.setTextFormats=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS,textFormats:j})};h.prototype.setTextFormatsToUnbadge=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS_TO_UNBADGE,textFormatsToUnbadge:j})};h.prototype.toggleCollapsed=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED})};function h(){}f.exports=new h()}),null);
__d("ReactComposerFormattedTextUtils",["Base64"],(function a(b,c,d,e,f,g){var h={createUserSpecificStorageName:function i(j){return"composerTextFormat/"+j},encodeForLocalStorage:function i(j){return c("Base64").encodeObject(j)},decodeFromLocalStorage:function i(j){return c("Base64").decodeObject(j)}};f.exports=h}),null);
__d("XStickyFormattedTextController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sticky_formatted_text/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerFormattedTextPickerContainerMixin",["invariant","Arbiter","AsyncRequest","ReactComposerAttachmentStore","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextStore","ReactComposerFormattedTextUtils","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPostToGroupStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerEligibilityUtils","SATPInteractionsTypedLogger","SATPPresetCollection","WebStorage","XStickyFormattedTextController","bind"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=true,j={_prefillSubscription:undefined,_impressionsLogged:false,mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerEventAttachmentStore"),c("ReactComposerFormattedTextStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerPostToGroupStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],statics:{beforeCalculateInitialState:function k(l,m,n){__p&&__p();if(i){c("ReactComposerFormattedTextActions").setSelectedIndex(l,m.defaultFormat!=null?m.defaultFormat:c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);if(m.shouldAutoOpenWhenUserStartsTyping)c("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(l,m.shouldAutoOpenWhenUserStartsTyping)}if(m.badgingEnabled)try{var o=c("WebStorage").getLocalStorage(),p=c("ReactComposerFormattedTextUtils").createUserSpecificStorageName(n.actorID),q=o&&o.getItem(p);if(q!=="undefined"&&q!=null)c("ReactComposerFormattedTextActions").setTextFormatsToUnbadge(l,c("ReactComposerFormattedTextUtils").decodeFromLocalStorage(q))}catch(r){}if(m.stickyStylesEnabled&&!i){var s=c("XStickyFormattedTextController").getURIBuilder().setBool("is_set",false).getURI();new(c("AsyncRequest"))().setURI(s).setHandler(c("bind")(this,function(t){if(t&&t.payload&&t.payload.index!=null){var u=t.payload.index;if(u===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!t.payload.hasUserUnformattedText)u=m.defaultFormat!=null?m.defaultFormat:c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;c("ReactComposerFormattedTextActions").setSelectedIndex(l,u)}})).send()}},calculateState:function k(l,m){__p&&__p();var n=c("ReactComposerTaggerEligibilityUtils").isSATPEligible(l,m);if(!this._impressionsLogged&&n&&c("ReactComposerStatusStore").getTextLength(l)>0){this._impressionsLogged=true;for(var o=m.textFormats,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;new(c("SATPInteractionsTypedLogger"))().setTrackingString(s.trackingString).setUserActionString("impression").setPresetID(s.presetID).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()}}var t=c("ReactComposerTaggerStore").getSelectedTagger(l)===this.taggerID;return{isSelected:t,canUseFormattedText:n,collapsed:c("ReactComposerFormattedTextStore").getCollapsed(l),fadingInPicker:c("ReactComposerFormattedTextStore").getShouldFadeInPicker(l),prevSelectedIndex:c("ReactComposerFormattedTextStore").getPrevSelectedIndex(l),selectedIndex:c("ReactComposerFormattedTextStore").getSelectedIndex(l),shouldAutoOpenWhenUserStartsTyping:c("ReactComposerFormattedTextStore").getShouldAutoOpenWhenUserStartsTyping(l),shouldDisplay:n&&(m.noSproutDesign||t),taggerData:c("ReactComposerTaggerStore").getTaggerData(l,this.taggerID),taggerSource:c("ReactComposerTaggerStore").getTaggerSource(l,this.taggerID),textFormatsToUnbadge:c("ReactComposerFormattedTextStore").getTextFormatsToUnbadge(l)}}},handleSaveStickyPreset:function k(l){if(!this.props.stickyStylesEnabled)return;var m=c("XStickyFormattedTextController").getURIBuilder().setString("preset_id",l===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?0:c("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID)).setBool("is_set",true).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(m).send()},componentWillMount:function k(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this.constructor.taggerID||h(0)},componentDidMount:function k(){if(i){if(this.props.autoOpen)setTimeout(function(){c("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,true);if(c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null)c("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,this.constructor.taggerID)}.bind(this),0);i=false}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},_handlePrefill:function k(){var l=c("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);if(l)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,l)}};f.exports=j}),null);
__d("ReactComposerFormattedTextPickerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").createClass({displayName:"ReactComposerFormattedTextPickerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:c("ReactComposerLoggingName").FORMATTED_TEXT_BUTTON},getTitle:function k(){return i._("Add a background color to your post")},getTooltip:function k(){return i._("Add a background color to your post")},getClassName:function k(){return"_cod"}});f.exports=j}),null);
__d("ReactComposerFormattedTextPickerContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMQuery","React","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextPickerContainerMixin","ReactComposerFormattedTextStore","ReactComposerFormattedTextUtils","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","WebStorage","ge","gkx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerFormattedTextPickerContainer",_composerMountSubscription:undefined,_suppressTransition:false,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTaggerDiv:null,mixins:[c("ReactComposerFormattedTextPickerContainerMixin")],propTypes:{autoOpen:j.bool,badgingEnabled:j.bool,defaultFormat:j.number,fixAspectRatio:j.bool,maxNewlines:j.number,noSproutDesign:j.bool,statusAttachmentActive:j.bool,stickyStylesEnabled:j.bool,textFormats:j.arrayOf(j.object).isRequired,textLengthLimit:j.number},statics:{taggerID:c("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:c("ReactComposerLoggingName").FORMATTED_TEXT_TAGGER},render:function l(){this._updateBackground(this.state.selectedIndex);if(!this.state.shouldDisplay)return null;return c("React").createElement(c("ReactComposerFormattedTextPickerComponent.react"),{badgingEnabled:this.props.badgingEnabled,biggerSwatches:c("gkx")("AT7LEZZBXPNWZxyk9l3b-2YIS0GoTH5yRetmQrpeXitgABzNEsEOlsCoXTpk9_KJDCcaUgdiFtLdFQv7g_PlSblzFHfV1zd-352vi2hYV6DfRA"),collapsed:this.state.collapsed,hidden:this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onToggle:this._onToggle,selectedIndex:this.state.selectedIndex,suppressTransition:this._suppressTransition,textFormats:this.props.textFormats,textFormatsToUnbadge:this.state.textFormatsToUnbadge})},componentWillMount:function l(){c("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,this.taggerID,{maxNewlines:this.props.maxNewlines,textLengthLimit:this.props.textLengthLimit});this._composerMountSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID,function(){this._memoizedComposerID=null;this._memoizedComposerRoot=null;this._memoizedComposerBody=null;this._memoizedComposerOverlay=null;this._memoizedComposerWrapper=null;this._memoizedComposerTaggerDiv=null}.bind(this))},componentWillUnmount:function l(){if(this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)this._updateBackground(c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);this._composerMountSubscription&&this._composerMountSubscription.unsubscribe();this._composerMountSubscription=null},componentDidMount:function l(){c("ReactComposerFormattedTextActions").setTextFormats(this.context.composerID,this.props.textFormats);if(this.props.noSproutDesign){var m=this._getComposerBody();if(m)c("CSS").addClass(m,"_2j7c")}},componentWillUpdate:function l(m,n){if(this.state.selectedIndex!==n.selectedIndex&&(this.state.selectedIndex===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR||n.selectedIndex===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR))this._suppressTransition=true;if(n.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this.state.selectedIndex!==n.selectedIndex)this._updateOverlay()},componentDidUpdate:function l(m,n){__p&&__p();if(!n.canUseFormattedText&&this.state.canUseFormattedText)this._onBecameEligible();else if(n.canUseFormattedText&&!this.state.canUseFormattedText)this._onBecameIneligible();if(!n.isSelected&&this.state.isSelected)this._onPickerOpened();else if(n.isSelected&&!this.state.isSelected)this._onPickerClosed();if(n.selectedIndex!==this.state.selectedIndex)this._onSelectedIndexChanged();if(n.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay)c("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,false);if(this.state.fadingInPicker&&this.state.shouldDisplay)c("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,false)},_onPickerOpened:function l(){var m=this._getComposerRoot();if(m)c("CSS").removeClass(m,"_10m_");var n=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this._setShouldHideTaggersDiv(n)},_focusComposerTextInput:function l(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onPickerClosed:function l(){var m=this._getComposerRoot();if(m)c("CSS").addClass(m,"_10m_");this._setShouldHideTaggersDiv(false)},_setShouldHideTaggersDiv:function l(m){var n=this._getComposerTaggerDiv();if(!n)return;if(m)c("CSS").addClass(n,"_10n0");else c("CSS").removeClass(n,"_10n0")},_getComposerRoot:function l(){if(this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=c("ge")(this._memoizedComposerID);return this._memoizedComposerRoot},_getComposerBody:function l(){if(this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerBody=this._domScry(m,"._i-o");return this._memoizedComposerBody},_getComposerOverlay:function l(){if(this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerOverlay=this._domScry(m,"._3enz");return this._memoizedComposerOverlay},_getComposerWrapper:function l(){if(this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerWrapper=this._domScry(m,"._3eny");return this._memoizedComposerWrapper},_getComposerTextInput:function l(){var m=this._getComposerBody();if(!m)return null;return this._domScry(m,"._395")},_getComposerTaggerDiv:function l(){if(this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerTaggerDiv=this._domScry(m,"._1idc");return this._memoizedComposerTaggerDiv},_domScry:function l(m,n){var o=c("DOMQuery").scry(m,n);if(!o||o.length===0)return null;return o[o.length-1]},_onBecameEligible:function l(){if(this.state.prevSelectedIndex!=null)c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex)},_onBecameIneligible:function l(){var m=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;if(m)c("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},_onSelectedIndexChanged:function l(){var m=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;if(!this.props.noSproutDesign)this._setShouldHideTaggersDiv(m);c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,c("ReactComposerTaggerType").FORMATTED_TEXT,{formatActive:m})},_updateBackground:function l(m){__p&&__p();var n=this._getComposerRoot();if(!n)return;var o=this._getComposerBody();if(!o)return;var p=this._getComposerOverlay();if(!p)return;var q=this._getComposerWrapper();if(!q)return;var r=this._getStyles(m);c("DOM").setAttributes(o,{style:r.bodyStyle});if(m!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){c("CSS").addClass(n,"_1mjk");if(this.props.fixAspectRatio)c("CSS").addClass(n,"_38ws");c("CSS").addClass(o,"_2ihx");c("CSS").addClass(q,"_2ihx");c("CSS").addClass(p,"_2ihx");c("CSS").addClass(p,"_4xe1")}else{c("CSS").removeClass(n,"_1mjk");c("CSS").removeClass(o,"_2ihx");c("CSS").removeClass(q,"_2ihx");c("CSS").removeClass(p,"_2ihx");c("CSS").removeClass(p,"_4xe1")}var s=this._getComposerTextInput();if(!s)return;c("DOM").setAttributes(s,{style:r.textInputStyle})},_updateOverlay:function l(){__p&&__p();var m=this._getComposerRoot();if(!m)return;var n=this._getComposerBody();if(!n)return;var o=this._getComposerOverlay();if(!o)return;var p=this._getStyles(this.state.selectedIndex);c("DOM").setAttributes(o,{style:p.bodyStyle});var q=function q(r){c("CSS").removeClass(o,"_1wnq");c("CSS").addClass(o,"_1wnr");c("CSS").addClass(o,"_3eo2");o.removeEventListener("transitionend",q,false)};c("CSS").removeClass(o,"_3eo2");o.addEventListener("transitionend",q,false);c("CSS").addClass(o,"_1wnq");c("CSS").removeClass(o,"_1wnr")},_onSelect:function l(m){__p&&__p();if(this.state.canUseFormattedText){c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,m);this.handleSaveStickyPreset(m);c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID);var n=c("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID),o=c("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);if(n){new(c("SATPInteractionsTypedLogger"))().setTrackingString(o).setUserActionString("style_applied").setPresetID(n).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log();if(this.props.badgingEnabled)this._updateTextFormatsToUnbadge(n)}}},_updateTextFormatsToUnbadge:function l(m){var n=c("ReactComposerFormattedTextStore").getTextFormatsToUnbadge(this.context.composerID);n[m]=true;c("ReactComposerFormattedTextActions").setTextFormatsToUnbadge(this.context.composerID,n);var o=c("WebStorage").getLocalStorage();try{c("WebStorage").setItemGuarded(o,c("ReactComposerFormattedTextUtils").createUserSpecificStorageName(this.context.actorID),c("ReactComposerFormattedTextUtils").encodeForLocalStorage(n))}catch(p){}},_onToggle:function l(){c("ReactComposerFormattedTextActions").toggleCollapsed(this.context.composerID)},_getStyles:function l(m){var n="",o="";if(m!=null&&m!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){var p=this.props.textFormats&&Object.prototype.hasOwnProperty.call(this.props.textFormats,m)?this.props.textFormats[m]:null;if(p&&p.bodyStyle&&p.textInputStyle){n=p.bodyStyle;o=p.textInputStyle}}return{bodyStyle:n,textInputStyle:o}}});f.exports=k}),null);