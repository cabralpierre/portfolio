if (self.CavalryLogger) { CavalryLogger.start_js(["G3iUK"]); }

__d("getNormalizedClientRect",["getDocumentScrollElement"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.getBoundingClientRect(),k=0,l=0,m=c("getDocumentScrollElement")(i.ownerDocument),n=m.getBoundingClientRect();if(n.left>0)k=-n.left;else{var o=m.scrollWidth+n.left,p=n.width;if(p>o)k=p-o}if(n.top>0)l=-n.top;return{bottom:j.bottom+l,height:j.height,left:j.left+k,right:j.right+k,top:j.top+l,width:j.width}}f.exports=h}),null);
__d("StickyArea",["cx","CSS","DOM","DOMQuery","Event","Run","Style","ViewportBounds","getNormalizedClientRect","getOverlayZIndex","removeFromArray","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=[],j=null,k=null,l=c("throttle").acrossTransitions(o,1e3),m="$$StickyArea_scrollListener",n="$$StickyArea_scrollListenerCount";function o(){i.sort(function(u,v){var w=u.getNode(),x=v.getNode();if(w.compareDocumentPosition)return 3-(w.compareDocumentPosition(x)&6);else return w.sourceIndex-x.sourceIndex})}function p(u,v,w){var x=u.getPlaceholder(),y=u.getNode(),z=c("Style").get(y,"float"),A=u.getData();if(A.placeholderWidth!==v||A.placeholderHeight!==w||A.placeholderFloat!==z){c("Style").apply(x,{"float":z,height:w+"px",width:v+"px"});A.placeholderHeight=w;A.placeholderWidth=v}if(y.nextSibling!==x)c("DOM").insertAfter(y,x)}function q(u,v){var w=u.getData();if(w.fixed!==v){c("Style").apply(u.getNode(),w.styles);c("CSS").conditionShow(u.getPlaceholder(),v);c("CSS").conditionClass(u.getNode(),"_1a1e",v);c("Event").fire(u.getNode(),"change");w.fixed=v}}function r(u,v){if(!u)return 0;else if(v.right<=u.rect.left||v.left>=u.rect.right)return r(u.prev,v);else return u.bottom}function s(){__p&&__p();var u=0,v=i.length,w=100,x=null;function y(z,A){__p&&__p();var B=w;while(u<v){var C=i[u],D=C.getNode(),E=C._scrollTarget;if(A&&!c("DOMQuery").contains(A,D))break;w=Math.max(B,C.getZIndex());var F=C.getData(),G=D.parentNode,H=F.styles;if(G==null){u++;continue}for(var I in H)H[I]="";q(C,false);var J=D.offsetHeight,K=D.offsetWidth,L=E!==window?E.getBoundingClientRect().top:0,M=c("getNormalizedClientRect")(D),N=r(z||(E===window?x:null),M)+C.getOffset(),O=M.top-L;if(O<=N){H.width=K+"px";var P=parseInt(c("Style").get(G,"padding-bottom"),10),Q=c("getNormalizedClientRect")(G);if(Q.bottom-P>N+J||!C.getIsBoundToContainer()){var R=parseInt(c("Style").get(D,"margin-left"),10);H.position="fixed";H.bottom="auto";H.top=N+L+"px";H.left=M.left-R+"px"}else{if(!F.parent||G!==F.parent){if(c("Style").get(G,"position")==="static")c("Style").set(G,"position","relative");F.parent=G}H.position="absolute";H.top="auto";H.bottom=P+"px";var S=parseInt(c("Style").get(G,"border-left-width"),10);H.left=M.left-Q.left-S+"px"}p(C,K,J);q(C,true)}u++;var T={bottom:N+J,prev:z,rect:M},U=0;if(!C.getIsBoundToContainer()){x=T;U=100}y(T,G);var V=C.getZIndexOverride()||w+++U;c("Style").set(D,"z-index",V)}}y(null,null)}function t(u,v,w){__p&&__p();var x=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];"use strict";this._isDestroyed=false;this._node=u;this._data={fixed:false,placeholderFloat:null,placeholderHeight:null,placeholderWidth:null,styles:{}};this._offset=w;this._boundToContainer=x.boundToContainer!==false;if(x.stickTo===t.stickTo.SCROLL_PARENT)this._scrollTarget=c("Style").getScrollParent(u.parentNode)||window;else this._scrollTarget=window;this._zIndexOverride=x.zIndexOverride;c("CSS").addClass(u,"_k");if(!v)c("Run").onLeave(this.destroy.bind(this));if(!this._scrollTarget[m]){this._scrollTarget[m]=c("Event").listen(this._scrollTarget,"scroll",function(){l();s()});this._scrollTarget[n]=1}else this._scrollTarget[n]++;if(!i.length){j=c("Event").listen(window,"resize",function(){l();s()});k=c("ViewportBounds").subscribe("change",function(){l();s()})}i.push(this);t.reflow()}t.prototype.destroy=function(){"use strict";__p&&__p();if(this._isDestroyed)return;c("removeFromArray")(i,this);this._scrollTarget[n]--;if(this._scrollTarget[n]===0){this._scrollTarget[m].remove();this._scrollTarget[m]=null}if(!i.length){j.remove();j=null;k.unsubscribe();k=null}if(this._placeholder)c("DOM").remove(this._placeholder);var u=0;for(var v in this._data.styles){this._data.styles[v]="";u++}if(u)c("Style").apply(this._node,this._data.styles);this._isDestroyed=true};t.prototype.getData=function(){"use strict";return this._data};t.prototype.getNode=function(){"use strict";return this._node};t.prototype.getOffset=function(){"use strict";return this._offset||0};t.prototype.getPlaceholder=function(){"use strict";if(!this._placeholder)this._placeholder=c("DOM").create("div");return this._placeholder};t.prototype.getIsBoundToContainer=function(){"use strict";return this._boundToContainer};t.prototype.getZIndexOverride=function(){"use strict";return this._zIndexOverride};t.prototype.getZIndex=function(){"use strict";if(!this._zIndex)this._zIndex=c("getOverlayZIndex")(this._node);return this._zIndex};t.prototype.setOffset=function(u){"use strict";this._offset=u};t.reflow=c("throttle").acrossTransitions(function(){o();s()},100);t.stickTo={SCROLL_PARENT:"SCROLL_PARENT",WINDOW:"WINDOW"};f.exports=t}),null);
__d("StickyArea.react",["cx","React","ReactDOM","StickyArea","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){"use strict";this.$StickyArea1=new(c("StickyArea"))(c("ReactDOM").findDOMNode(this),true,this.props.offset||0,{boundToContainer:this.props.boundToContainer,stickTo:this.props.stickTo,zIndexOverride:this.props.zIndexOverride})};l.prototype.componentDidUpdate=function(m){"use strict";if(this.props.offset!==m.offset)this.$StickyArea1.setOffset(this.props.offset);c("StickyArea").reflow()};l.prototype.componentWillUnmount=function(){"use strict";this.$StickyArea1.destroy();this.$StickyArea1=null};l.prototype.setOffset=function(m){"use strict";this.$StickyArea1.setOffset(m)};l.prototype.render=function(){"use strict";return c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_k"),ref:"root"}),this.props.children)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={boundToContainer:k.bool,stickTo:k.oneOf([c("StickyArea").stickTo.SCROLL_PARENT,c("StickyArea").stickTo.WINDOW]).isRequired,zIndexOverride:k.oneOfType([k.number,k.oneOf(["auto","initial","inherit"])])};l.defaultProps={boundToContainer:true,stickTo:c("StickyArea").stickTo.WINDOW};f.exports=l}),null);
__d("LayerPage",["Arbiter","CSS","DOM","Layer","LayerButtons","LayerFormHooks","LayerHideOnTransition","LayerMouseHooks","LayerTabIsolation","ModalLayer","Style"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("Layer"));i=h&&h.prototype;j.prototype._configure=function(n,o){"use strict";this._fitWidth=!!n.fitWidth;if(n.width)this._width=Math.floor(n.width);else this._width=null;if(n.bottomMargin!==undefined)this._bottomMargin=n.bottomMargin;else this._bottomMargin=null;i._configure.call(this,n,o)};j.prototype._getDefaultBehaviors=function(){"use strict";return i._getDefaultBehaviors.call(this).concat([m,c("LayerButtons"),c("LayerFormHooks"),c("LayerHideOnTransition"),c("LayerMouseHooks"),c("LayerTabIsolation"),c("ModalLayer")])};j.prototype._buildWrapper=function(n,o){"use strict";return c("DOM").create("div",null,o)};j.prototype.updatePosition=function(){"use strict";__p&&__p();var n=c("DOM").find(this.getRoot(),"div.uiLayerPage");if(this._fitWidth)c("Style").set(n,"width",l+"%");else if(this._width){var o=c("DOM").find(n,"div.uiLayerPageContentWrap"),p=this._width;if(c("CSS").hasClass(o,"uiLayerPageDefaultPadding"))p+=2*k;c("Style").set(n,"width",p+"px")}return true};j.prototype.getContentRoot=function(){"use strict";if(!this._contentRoot)this._contentRoot=c("DOM").find(this.getRoot(),".uiOverlayContent");return this._contentRoot};j.prototype.getBottomMargin=function(){"use strict";return this._bottomMargin};function j(){"use strict";h.apply(this,arguments)}var k=15,l=95;function m(n){"use strict";this._layer=n;this._subscription=null}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n,o){if(n==="show")c("Arbiter").inform("layer_shown",{type:"LayerPage"});else c("Arbiter").inform("layer_hidden",{type:"LayerPage"})})};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};f.exports=j}),null);
__d("CubicBezier",[],(function a(b,c,d,e,f,g){__p&&__p();var h=.005;function i(j,k){"use strict";this.cx=3*j[0];this.bx=3*(k[0]-j[0])-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*j[1];this.by=3*(k[1]-j[1])-this.cy;this.ay=1-this.cy-this.by}i.prototype.sampleCurveX=function(j){"use strict";return((this.ax*j+this.bx)*j+this.cx)*j};i.prototype.solve=function(j){"use strict";j=this.solveCurveX(j);return((this.ay*j+this.by)*j+this.cy)*j};i.prototype.solveCurveX=function(j){"use strict";__p&&__p();var k,l,m,n,o,p;for(o=j,l=0;l<8;l++){p=this.sampleCurveX(o)-j;if(Math.abs(p)<h)return o;k=(3*this.ax*o+2*this.bx)*o+this.cx;if(Math.abs(k)<1e-6)break;o-=p/k}m=0;n=1;o=j;if(o<m)return m;if(o>n)return n;while(m<n){p=this.sampleCurveX(o);if(Math.abs(p-j)<h)return o;if(j>p)m=o;else n=o;o=(n-m)/2+m}return o};f.exports=i}),null);
__d("HubbleContext",[],(function a(b,c,d,e,f,g){__p&&__p();var h={},i={get:function j(k){return h[k]},getPageID:function j(){return h.page&&h.page.id},getEventToShow:function j(){return h.eventToShow},setContext:function j(k){h=k},setFieldsIfNonexistant:function j(k){for(var l in k)if(!Object.prototype.hasOwnProperty.call(h,l))i.setKey(l,k[l])},setKey:function j(k,l){h[k]=l},reset:function j(){h={}},getContext:function j(){return h}};f.exports=i}),null);
__d("XVideoEditDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/",{video_id:{type:"Int"},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},post_id:{type:"String"},video_asset_id:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);