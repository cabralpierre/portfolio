if (self.CavalryLogger) { CavalryLogger.start_js(["sHMLY"]); }

__d("WorkFilePickerEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:WorkFilePickerEventsLoggerConfig",this.$WorkFilePickerEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:WorkFilePickerEventsLoggerConfig",this.$WorkFilePickerEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$WorkFilePickerEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$WorkFilePickerEventsTypedLogger1=babelHelpers["extends"]({},this.$WorkFilePickerEventsTypedLogger1,j);return this};h.prototype.setAppType=function(j){this.$WorkFilePickerEventsTypedLogger1.app_type=j;return this};h.prototype.setEvent=function(j){this.$WorkFilePickerEventsTypedLogger1.event=j;return this};h.prototype.setFileURL=function(j){this.$WorkFilePickerEventsTypedLogger1.file_url=j;return this};h.prototype.setVC=function(j){this.$WorkFilePickerEventsTypedLogger1.vc=j;return this};var i={app_type:true,event:true,file_url:true,vc:true};f.exports=h}),null);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType")}),null);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";__p&&__p();var l=void 0;j.constructor.call(this,function(){return{dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()}},function(m){switch(m.type){case c("ReactComposerFileActionType").RESET:l&&l.$ReactComposerFileStore2(m);break;case c("ReactComposerFileActionType").SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c("ReactComposerFileActionType").SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c("ReactComposerFileActionType").SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break}});l=this}k.prototype.getDialogAppURL=function(l){"use strict";return this.getComposerData(l).dialogAppURL};k.prototype.getDropboxActionEndpoint=function(l){"use strict";return this.getComposerData(l).dropboxActionEndpoint};k.prototype.getDropboxAppID=function(l){"use strict";return this.getComposerData(l).dropboxAppID};k.prototype.getDropboxEnabled=function(l){"use strict";return this.getComposerData(l).dropboxEnabled};k.prototype.getDropboxFileID=function(l){"use strict";return this.getComposerData(l).dropboxFileID};k.prototype.getFile=function(l){"use strict";return this.getComposerData(l).file};k.prototype.getMaxFileUploadSize=function(l){"use strict";return this.getComposerData(l).maxFileUploadSize};k.prototype.getMaxFileUploadString=function(l){"use strict";return this.getComposerData(l).maxFileUploadString};k.prototype.getSelectedDropboxFileName=function(l){"use strict";return this.getComposerData(l).selectedDropboxFileName};k.prototype.getSelectedFileName=function(l){"use strict";return this.getComposerData(l).selectedFileName};k.prototype.getURI=function(l){"use strict";return this.hasFile(l)?"/ajax/groups/files/upload":"/ajax/groups/files/dropbox_publish"};k.prototype.hasDropboxFile=function(l){"use strict";return!!this.getComposerData(l).dropboxFileID};k.prototype.hasFile=function(l){"use strict";return!!this.getComposerData(l).file};k.prototype.isFileSelected=function(l){"use strict";var m=this.getComposerData(l);return!!m.file||!!m.dropboxFileID};k.prototype.$ReactComposerFileStore1=function(){"use strict";return h._("No file chosen")};k.prototype.$ReactComposerFileStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","id","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n)};k.prototype.$ReactComposerFileStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","file","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID)};f.exports=new k()}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerFileStore");h.prototype.reset=function(i){"use strict";var j={composerID:i,type:c("ReactComposerFileActionType").RESET};c("ReactComposerDispatcher").dispatch(j)};h.prototype.saveDropboxFile=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerFileActionType").SAVE_DROPBOX_FILE,id:j,name:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.saveFile=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SAVE_FILE,name:j.name,file:j.file};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SET_FILE_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerWorkFileActionsImpl",["ReactComposerDispatcher","ReactComposerWorkFileActionType"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.reset=function(i){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").RESET})};h.prototype.saveAppFile=function(i,j,k,l){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").SAVE_APP_FILE,id:j,name:k,url:l})};h.prototype.removeAppFile=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").REMOVE_APP_FILE,id:j})};h.prototype.saveFile=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").SAVE_FILE,name:j.name,file:j.file})};h.prototype.setConfig=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").SET_FILE_CONFIG,config:j})};h.prototype.oAuthUser=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerWorkFileActionType").OAUTH,app:j,accessToken:k})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerWorkFileAttachmentAppUploadIframe.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={onPostMessage:null}}k.prototype.shouldComponentUpdate=function(l){return this.props.url.toString()!==l.url.toString()};k.prototype.$ReactComposerWorkFileAttachmentAppUploadIframe1=function(l){if(!this.state.onPostMessage)this.setState({onPostMessage:function(event){var m=event.source===l.contentWindow,n=event.origin.startsWith("https://work-sdk.")&&event.origin.endsWith(".fbsbx.com");if(m&&n)this.props.onAppFilesSelected(event.data)}.bind(this)},function(){return window.addEventListener("message",this.state.onPostMessage)}.bind(this));else window.removeEventListener("message",this.state.onPostMessage)};k.prototype.render=function(){return c("React").createElement("iframe",{src:this.props.url,ref:function(l){if(l!==null)this.$ReactComposerWorkFileAttachmentAppUploadIframe1(l)}.bind(this),frameBorder:"0",width:"100%",height:"25px"})};k.propTypes={url:j.object.isRequired,onAppFilesSelected:j.func.isRequired};f.exports=k}),null);
__d("AppIntegrationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ASANA:"ASANA",AZURE:"AZURE",AZURE_USER_INVITES:"AZURE_USER_INVITES",BOX:"BOX",BOX_OAUTH:"BOX_OAUTH",DROPBOX:"DROPBOX",GDRIVE:"GDRIVE",GENERIC:"GENERIC",GOOGLE_CALENDAR:"GOOGLE_CALENDAR",GSUITE:"GSUITE",GSUITE_USER_INVITES:"GSUITE_USER_INVITES",ONEDRIVE:"ONEDRIVE",OUTLOOK_CALENDAR:"OUTLOOK_CALENDAR",QUIP:"QUIP",SALESFORCE:"SALESFORCE"})}),null);
__d("ContentAppUserOAuth",["AsyncRequest","AsyncResponse","Popup","URI","XWorkInstallContentAppOnUserController","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={init:function h(i,j){i.addEventListener("click",function(event){event.preventDefault();this.openOauthDialog(j)}.bind(this))},initAndReloadOnSuccess:function h(i,j){i.addEventListener("click",function(event){event.preventDefault();this.openOauthDialog(j,function(k){var l=new(c("URI"))(window.location.toString());l.go(true)})}.bind(this))},openOauthDialog:function h(i){var j=arguments.length<=1||arguments[1]===undefined?c("emptyFunction"):arguments[1],k=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2];window.workContentAppsOAuthCallback=function(l){var m=c("XWorkInstallContentAppOnUserController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(m).setMethod("POST").setData({code:l,type:i.contentAppType,shared_url:i.sharedURL}).setHandler(j).setErrorHandler(k).send()};c("Popup").open(i.loginURL,700,700)}}}),null);
__d("XWorkSDKSbxBoxFilePickerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/box/file_picker/",{access_token:{type:"String",required:true},locale:{type:"String",defaultValue:"en-US"}})}),null);
__d("XWorkSDKSbxDropboxFilePickerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/dropbox/file_picker/",{})}),null);
__d("XWorkSDKSbxGoogleDriveFilePickerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/googledrive/file_picker/",{})}),null);
__d("XWorkSDKSbxOneDriveFilePickerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/onedrive/file_picker/",{})}),null);
__d("ReactComposerWorkFileAttachmentUpload.react",["cx","fbt","AppIntegrationType","ReactComposerWorkFileAttachmentAppUploadIframe.react","ContentAppUserOAuth","FileInput.react","Image.react","InlineBlock.react","Layout.react","React","URI","XUIButton.react","XUICloseButton.react","XUIText.react","XWorkSDKSbxBoxFilePickerController","XWorkSDKSbxDropboxFilePickerController","XWorkSDKSbxGoogleDriveFilePickerController","XWorkSDKSbxOneDriveFilePickerController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Layout.react").Column,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";if(!this.props.canViewerUploadFiles&&this.props.installedApps.size===0)return null;return c("React").createElement(c("Layout.react"),{className:"_1wu3"},this.getFileUploadArea(),this.getAppsUploadArea())};n.prototype.getFileUploadArea=function(){"use strict";if(!this.props.canViewerUploadFiles)return null;var o=this.props.hasFileSelected?c("React").createElement(c("XUICloseButton.react"),{onClick:this.props.onFileRemove,className:"_1wu6",size:"small",type:"button"}):null,p=this.props.installedApps.size>0?i._("From Your Computer"):i._("Select a file on your computer");return c("React").createElement(l,{className:"_1wu4"+(this.$ReactComposerWorkFileAttachmentUpload1()?" _1wu5":"")},c("React").createElement("div",{className:"_1wu7"},c("React").createElement(c("XUIText.react"),{className:"_1wu8",weight:"bold",display:"block"},p),c("React").createElement(c("FileInput.react"),{onChange:this.props.onFileSelected,name:"file1"},c("React").createElement(c("XUIButton.react"),{disabled:this.$ReactComposerWorkFileAttachmentUpload1(),className:"_1wu9",label:i._("Choose File"),href:"#"})),c("React").createElement(c("InlineBlock.react"),{className:"_1wua _3-9a",alignv:"middle"},this.props.selectedFileName),o,c("React").createElement(c("XUIText.react"),{className:"_1wub",display:"block",size:"small"},i._("(Max size {size})",[i.param("size",this.props.maxFileUploadString)]))))};n.prototype.$ReactComposerWorkFileAttachmentUpload2=function(o){"use strict";__p&&__p();var p=void 0;switch(o.type){case c("AppIntegrationType").BOX:if(!o.access_token&&o.login_url){var q=c("React").createElement(c("Image.react"),{src:o.image_small,height:16,width:16,className:"_3-8_ _2stq"});return c("React").createElement("div",{key:o.type,className:"_3-95"},c("React").createElement(c("XUIButton.react"),{className:"_2str",onClick:function(){return this.$ReactComposerWorkFileAttachmentUpload3(o)}.bind(this),type:"button",image:q,label:i._("Login to {appName}",[i.param("appName",o.name)])}))}p=c("XWorkSDKSbxBoxFilePickerController").getURIBuilder().setString("access_token",o.access_token).setString("locale",o.locale).getURI();break;case c("AppIntegrationType").DROPBOX:p=c("XWorkSDKSbxDropboxFilePickerController").getURIBuilder().getURI();break;case c("AppIntegrationType").GDRIVE:p=c("XWorkSDKSbxGoogleDriveFilePickerController").getURIBuilder().getURI();break;case c("AppIntegrationType").ONEDRIVE:p=c("XWorkSDKSbxOneDriveFilePickerController").getURIBuilder().getURI();break}if(!p)return null;var r=new(c("URI"))(this.props.sandboxBaseURI);if(r===null)p=p.setDomain("www.fbsbx.com").setSubdomain("work-sdk");else p=p.setDomain(r.getDomain()).setProtocol(r.getProtocol());return c("React").createElement("div",{key:o.type,className:"_3-94"},c("React").createElement(c("ReactComposerWorkFileAttachmentAppUploadIframe.react"),{url:p,onAppFilesSelected:this.props.onAppFilesSelected}))};n.prototype.$ReactComposerWorkFileAttachmentUpload3=function(o){"use strict";c("ContentAppUserOAuth").openOauthDialog({contentAppType:c("AppIntegrationType").BOX_OAUTH,loginURL:o.login_url},function(p){return this.props.onOAuth(o,p)}.bind(this))};n.prototype.$ReactComposerWorkFileAttachmentUpload1=function(){"use strict";return this.props.selectedAppsFiles.size>0};n.prototype.$ReactComposerWorkFileAttachmentUpload4=function(){"use strict";var o=this.props.selectedAppsFiles.map(function(p,q){return this.$ReactComposerWorkFileAttachmentUpload5(q,p)}.bind(this)).toArray();return c("React").createElement("div",null,o)};n.prototype.$ReactComposerWorkFileAttachmentUpload5=function(o,p){"use strict";var q=c("React").createElement(c("XUICloseButton.react"),{onClick:function(){return this.props.onAppFileRemove(o)}.bind(this),className:"_1wu6",size:"small",type:"button"});return c("React").createElement("div",{key:o,className:"_3-94"},c("React").createElement(c("InlineBlock.react"),{className:"_1wua",alignv:"middle"},p),q)};n.prototype.getAppsUploadArea=function(){"use strict";if(this.props.installedApps.size===0)return null;var o=c("React").createElement("div",null,this.props.installedApps.map(function(p){return this.$ReactComposerWorkFileAttachmentUpload2(p)}.bind(this)).toArray());return c("React").createElement(l,{className:"_1wui"+(this.props.hasFileSelected?" _1wu5":"")},c("React").createElement("div",{className:"_1wu7"},c("React").createElement(c("XUIText.react"),{weight:"bold",display:"block",className:"_1wu8"},i._("Share from:")),o))};function n(){"use strict";j.apply(this,arguments)}n.propTypes={canViewerUploadFiles:m.bool.isRequired,hasFileSelected:m.bool.isRequired,installedApps:m.object.isRequired,maxFileUploadString:m.string.isRequired,onAppFileRemove:m.func.isRequired,onAppFilesSelected:m.func.isRequired,onFileRemove:m.func.isRequired,onFileSelected:m.func.isRequired,onOAuth:m.func.isRequired,selectedAppsFiles:m.object.isRequired,selectedFileName:m.string.isRequired};f.exports=n}),null);
__d("ReactComposerAttachmentPreview.react",["DOMContainer.react","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){"use strict";if(!this.props.markup)return c("React").createElement("noscript",null);return c("React").createElement(c("DOMContainer.react"),null,this.props.markup)};function k(){"use strict";h.apply(this,arguments)}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerScrapedAttachmentStore");h.prototype.enabled=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setScrapedAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,sourceLoggingName:l,postConfirmationDialog:m,hasDisputedWarning:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setScrapedAttachmentWithoutLogging=function(i,j,k,l,m){"use strict";var n={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,suppressWaterfallLogging:true,postConfirmationDialog:l,hasDisputedWarning:m};c("ReactComposerDispatcher").dispatch(n)};h.prototype.setPermissiveMatch=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.scrapeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m,sourceLoggingName:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setShareAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m,isFbPhotoShare:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.uploadImagesForCarousel=function(i){"use strict";var j={composerID:i.composerID,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerFundraiserAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({FETCH_ATTACHMENT:null,SET_MARKUP:null},"ReactComposerFundriserAttachmentActionType")}),null);
__d("XReactComposerFundraiserAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/fundraiser/attachment/",{av:{type:"FBID"},composer_id:{type:"String",required:true},charity_id:{type:"String",required:true}})}),null);
__d("ReactComposerFundraiserAttachmentStore",["ActorURI","AsyncRequest","ReactComposerFundraiserAttachmentActionType","ReactComposerStoreBase","XReactComposerFundraiserAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isFetching:false,markup:null}},function(l){switch(l.type){case c("ReactComposerFundraiserAttachmentActionType").FETCH_ATTACHMENT:k&&k.$ReactComposerFundraiserAttachmentStore1(l);break;case c("ReactComposerFundraiserAttachmentActionType").SET_MARKUP:k&&k.$ReactComposerFundraiserAttachmentStore2(l);break}});k=this}j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerFundraiserAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","charityID","actorID"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.isFetching=true;p.markup=null;var q=c("XReactComposerFundraiserAttachmentController").getURIBuilder().setString("composer_id",m).setString("charity_id",n),r=c("ActorURI").create(q.getURI(),o),s=new(c("AsyncRequest"))(r).setFinallyHandler(function(){p.isFetching=false;this.emitChange(m)}.bind(this));s.send();this.emitChange(m)};j.prototype.$ReactComposerFundraiserAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.isFetching=false;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerFundraiserAttachmentActions",["ReactComposerDispatcher","ReactComposerFundraiserAttachmentActionType","ReactComposerFundraiserAttachmentStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerFundraiserAttachmentStore");h.prototype.fetchFundraiserAttachment=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerFundraiserAttachmentActionType").FETCH_ATTACHMENT,charityID:j,actorID:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFundraiserAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerFundraiserAttachmentContainer.react",["cx","fbt","ReactComposerContextTypes","FluxContainer","FluxStore","React","ReactComposerAttachmentPreview.react","ReactComposerFundraiserAttachmentActions","ReactComposerFundraiserAttachmentStore","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType","XUICloseButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerFundraiserAttachmentContainer3=function(){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").FUNDRAISER_SPROUT,c("ReactComposerTaggerType").FUNDRAISER,{});c("ReactComposerFundraiserAttachmentActions").setMarkup(this.context.composerID,null)}.bind(this),n}l.getStores=function(){"use strict";return[c("ReactComposerFundraiserAttachmentStore")]};l.calculateState=function(m,n,o){"use strict";var p=o.composerID,q=c("ReactComposerFundraiserAttachmentStore").getMarkup(p),r=c("ReactComposerFundraiserAttachmentStore").isFetching(p);return{markup:q,showLoadingIndicator:r}};l.prototype.render=function(){"use strict";var m=this.state.markup?c("React").createElement("div",{className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{markup:this.state.markup}),this.$ReactComposerFundraiserAttachmentContainer1()):null;return c("React").createElement("div",null,this.$ReactComposerFundraiserAttachmentContainer2(),m)};l.prototype.$ReactComposerFundraiserAttachmentContainer2=function(){"use strict";if(!this.state.showLoadingIndicator)return null;return c("React").createElement("div",{className:"_jg1 _239z"},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}),i._("Fetching preview"))};l.prototype.$ReactComposerFundraiserAttachmentContainer1=function(){"use strict";if(!this.state.markup)return null;return c("React").createElement("div",{className:"_40_q"},c("React").createElement(c("XUICloseButton.react"),{size:"medium",shade:"light",onClick:this.$ReactComposerFundraiserAttachmentContainer3}))};l.contextTypes=c("ReactComposerContextTypes");f.exports=c("FluxContainer").create(l,{withContext:true,withProps:true})}),null);
__d("StickerUtils",[],(function a(b,c,d,e,f,g){__p&&__p();var h={getScaledDimensions:function i(j,k,l){__p&&__p();var m,n,o;if(k>j){o=l/k;m=j*o;n=k*o}else{o=l/j;m=j*o;n=k*o}return{height:Math.round(m),width:Math.round(n)}},capitalizeWords:function i(j){var k=j.split(" ");for(var l=0;l<k.length;l++){var m=k[l].charAt(0).toUpperCase();k[l]=m+k[l].substr(1)}return k.join(" ")}};f.exports=h}),null);
__d("ReactComposerStickerComponent.react",["ix","cx","fbt","Arbiter","Image.react","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","ShimButton.react","Sticker.react","StickerAssetType","StickerConstants","StickerUtils","XStickerAssetController","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerStickerComponent3=function(){c("ReactComposerTaggerActions").setTaggerData(this.props.composerID,c("ReactComposerLoggingName").STICKER_SPROUT,c("ReactComposerTaggerType").STICKER,null)}.bind(this),this.$ReactComposerStickerComponent4=function(){var s=c("ReactComposerPrefillStore").getAndEraseNestedField(this.props.composerID,["taggersData",c("ReactComposerTaggerType").STICKER]);if(s)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.props.composerID,c("ReactComposerTaggerType").STICKER,s)}.bind(this),o}m.prototype.render=function(){"use strict";if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var n=c("StickerUtils").getScaledDimensions(c("StickerConstants").TRAY_SIZE,c("StickerConstants").TRAY_SIZE,c("StickerConstants").TRAY_SIZE),o=n.height,p=n.width,q=c("XStickerAssetController").getURIBuilder().setInt("sticker_id",this.props.sticker.stickerID),r=c("React").createElement(c("Sticker.react"),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:1,frameRate:c("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:o,sourceURI:q.setEnum("image_type",c("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:p,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return c("React").createElement("div",{className:"_x88"},c("React").createElement("span",{className:"_x8a"},r,this.$ReactComposerStickerComponent2()))};m.prototype.$ReactComposerStickerComponent2=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:"_x8b",onClick:this.$ReactComposerStickerComponent3},c("React").createElement(c("Image.react"),{alt:j._("Remove sticker"),src:h("125920")}))};m.prototype.componentWillMount=function(){"use strict";this.$ReactComposerStickerComponent4();this.$ReactComposerStickerComponent1=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$ReactComposerStickerComponent4)};m.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerStickerComponent1&&this.$ReactComposerStickerComponent1.unsubscribe();this.$ReactComposerStickerComponent1=null};f.exports=m}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("ReactComposerWorkFileAttachmentUploadContainer").module,j={selectFileOrWorkFileModule:function k(l,m){return i?m:l},hasExceededFileSize:function k(l){var m=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],n=l.size>m;if(n)c("ExceptionDialog").show(h._("File Too Large").toString(),h._("The file you uploaded is too large.").toString());return n}};f.exports=j}),null);
__d("ReactComposerStatusUtils",["Bootloader","PUWMethods","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileActions","URLMatcher","URLScraper","uniqueID"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("ReactComposerWorkFileActions").module,i={scrapeLink:function j(k,l,m,n,o,p){__p&&__p();if(!c("ReactComposerScrapedAttachmentStore").isEnabled(k))return;if(c("ReactComposerScrapedAttachmentStore").getMarkup(k))return;var q=c("URLMatcher").permissiveMatch(m);if(q!==c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(k)){c("ReactComposerScrapedAttachmentActions").setPermissiveMatch(k,q);var r=i.validateUrl(c("URLScraper").match(m)||q);if(r)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(k,l,r,n,o,p)}},uploadPastedFile:function j(k,l,m){c("ReactComposerLoggingActions").mediaFilePasted(k);l.uploadID=c("uniqueID")();l.name="";m&&m.enqueueAsyncUploadRequest(k,[l],{},{},false);c("ReactComposerLoggingActions").mediaFilePasteFinished(k)},uploadDroppedMedia:function j(k,l,m,n,o,p){c("ReactComposerLoggingActions").mediaFileDropped(k);c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").MEDIA,true,c("ReactComposerLoggingName").MEDIA_FILE_DROPPED);c("Bootloader").loadModules(["ReactComposerMediaUtils"],function(q){var r=q.getFileNames(l),s=q.hasVideos(r);if(o.enableVideoUploadDialogForDropppedFiles&&l.length==1&&s)q.handleVideoUploadForDroppedFiles(l,o,p);else q.uploadPhotosOrVideo(k,l,m,true,c("PUWMethods").DRAGDROP,n);c("ReactComposerLoggingActions").mediaFileDropFinished(k)},"ReactComposerStatusUtils")},loadDroppedFile:function j(k,l){if(/\.(glb)$/i.test(l.name)){c("ReactComposerTaggerActions").setTaggerData(k,c("ReactComposerLoggingName").ASSET_3D,c("ReactComposerTaggerType").ASSET_3D,{file:l});c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").STATUS,true,c("ReactComposerLoggingName").FILE_DROPPED)}else{c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").FILE,true,c("ReactComposerLoggingName").FILE_DROPPED);c("ReactComposerFileUtils").selectFileOrWorkFileModule(c("ReactComposerFileActions"),h).saveFile(k,{file:l,name:l.name})}},handleMarkdownPreview:function j(k,l,m,n){__p&&__p();if(!m)return;var o=m.action;if(!n)n=c("ReactComposerStatusStore").getEditorState(k);if(!n)return;var p=!!c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").MARKDOWN).isMarkdown;if(p)o.updatePreview(k,l,n.getCurrentContent())},validateUrl:function j(k){if(!k||k=="about:blank"||k=="http://"||i.validateUrlHasNoHostnameOrIp(k))return null;else return k},validateUrlHasNoHostnameOrIp:function j(k){if(k.indexOf(".")>=0)return false;if(k.indexOf("[")>=0&&k.indexOf("]")>=0&&k.indexOf(":")>=0)return false;return true}};f.exports=i}),null);
__d("ReactComposerWorkFileAttachmentUploadContainerImpl.react",["fbt","invariant","AppIntegrationType","ExceptionDialog","React","ReactComposerContextTypes","ReactComposerFileUtils","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerStatusUtils","ReactComposerWorkFileActions","ReactComposerWorkFileAttachmentUpload.react","ReactComposerWorkFileStore","WorkFilePickerEventsTypedLogger"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("ReactComposerWorkFileActions").module,k=c("ReactComposerWorkFileStore").module;k!==null||i(0);j!==null||i(0);var l=c("React").createClass({displayName:"ReactComposerWorkFileAttachmentUploadContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(k)],statics:{calculateState:function m(n,o){return{maxFileUploadSize:k.getMaxFileUploadSize(n),maxFileUploadString:k.getMaxFileUploadString(n),hasFileSelected:k.hasFile(n),selectedFileName:k.getSelectedFileName(n),installedApps:k.getInstalledApps(n),sandboxBaseURI:k.getSandboxBaseURI(n),selectedAppsFiles:k.getSelectedAppsFiles(n),canViewerUploadFiles:k.getCanViewerUploadFiles(n)}}},componentDidMount:function m(){c("ReactComposerScrapedAttachmentActions").enabled(this.context.composerID,true);var n=k.getFile(this.context.composerID),o=this.state.maxFileUploadSize;if(n&&c("ReactComposerFileUtils").hasExceededFileSize(n,o))j.reset(this.context.composerID);if(n&&!this.state.canViewerUploadFiles){j.reset(this.context.composerID);c("ExceptionDialog").show(h._("File upload failed").toString(),h._("Uploading files is disabled for this account.").toString())}},render:function m(){return c("React").createElement(c("ReactComposerWorkFileAttachmentUpload.react"),{maxFileUploadString:this.state.maxFileUploadString,onFileRemove:this._onFileRemove,onFileSelected:this._onFilesSelected,hasFileSelected:this.state.hasFileSelected,selectedFileName:this.state.selectedFileName,installedApps:this.state.installedApps,sandboxBaseURI:this.state.sandboxBaseURI,canViewerUploadFiles:this.state.canViewerUploadFiles,selectedAppsFiles:this.state.selectedAppsFiles,onAppFilesSelected:this._onAppFilesSelected,onAppFileRemove:this._onAppFileRemove,onOAuth:this._onOAuth})},_onFilesSelected:function m(event){var n=event.target.files[0];if(c("ReactComposerFileUtils").hasExceededFileSize(n,this.state.maxFileUploadSize))return;j.saveFile(this.context.composerID,{name:event.target.value.split("\\").pop(),file:n});event.target.value=""},_onAppFilesSelected:function m(n){__p&&__p();if(n.appType===c("AppIntegrationType").BOX)n.files.forEach(function(o){return this._onBoxSelected(o)}.bind(this));else if(n.appType===c("AppIntegrationType").DROPBOX)n.files.forEach(function(o){return this._onDropboxSelected(o)}.bind(this));else if(n.appType===c("AppIntegrationType").GDRIVE)n.files.forEach(function(o){return this._onGoogleDriveSelected(o)}.bind(this));else if(n.appType===c("AppIntegrationType").ONEDRIVE)n.files.forEach(function(o){return this._onOneDriveSelected(o)}.bind(this))},_onOAuth:function m(n,o){var p=o.getPayload();if(p.access_token)j.oAuthUser(this.context.composerID,n,p.access_token)},_onBoxSelected:function m(n){if(!n.shared_link){c("ExceptionDialog").show(h._("File sharing failed").toString(),h._("The file you tried to share does not have the correct permissions.").toString());return}var o=n.shared_link.url;j.saveAppFile(this.context.composerID,n.id,n.name,o);this._logAppFileSelected(c("AppIntegrationType").BOX,o);this._generatePreview(o)},_onDropboxSelected:function m(n){var o=n.link;j.saveAppFile(this.context.composerID,n.id,n.name,o);this._logAppFileSelected(c("AppIntegrationType").DROPBOX,o);this._generatePreview(o)},_onGoogleDriveSelected:function m(n){var o=n.url;j.saveAppFile(this.context.composerID,n.id,n.name,o);this._logAppFileSelected(c("AppIntegrationType").GDRIVE,o);this._generatePreview(o)},_onOneDriveSelected:function m(n){var o=n.permissions[0].link.webUrl;j.saveAppFile(this.context.composerID,n.id,n.name,o);this._logAppFileSelected(c("AppIntegrationType").ONEDRIVE,o);this._generatePreview(o)},_generatePreview:function m(n){c("ReactComposerStatusUtils").scrapeLink(this.context.composerID,this.context.targetID,n,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_onAppFileRemove:function m(n){j.removeAppFile(this.context.composerID,n)},_onFileRemove:function m(){j.reset(this.context.composerID)},_logAppFileSelected:function m(n,o){new(c("WorkFilePickerEventsTypedLogger"))().setEvent("FILE_SELECTED").setAppType(n).setFileURL(o).log()}});f.exports=l}),null);
__d("WorkLoginState",["Cookie"],(function a(b,c,d,e,f,g){var h={hasLoginStateChanged:function i(j){var k=c("Cookie").get("c_user");if(!k)return false;return j!==k}};f.exports=h}),null);
__d("WorkLoginStatePoller",["Cookie","WorkLoginState"],(function a(b,c,d,e,f,g){var h={init:function i(){this._start()},_start:function i(){setInterval(this._checkState(),1e3)},_checkState:function i(){var j=c("Cookie").get("c_user")||"";return function(){if(c("WorkLoginState").hasLoginStateChanged(j))window.location.reload()}}};f.exports=h}),null);